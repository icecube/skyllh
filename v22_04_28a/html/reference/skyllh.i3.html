

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skyllh.i3 package &mdash; SkyLLH  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skyllh.i3.utils package" href="skyllh.i3.utils.html" />
    <link rel="prev" title="skyllh.core.utils package" href="skyllh.core.utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SkyLLH
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hypothesis/index.html">Hypothesis Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="../unit_tests.html">Unit tests</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyllh.html">skyllh package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyllh.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyllh.cluster.html">skyllh.cluster package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.html">skyllh.core package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">skyllh.i3 package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.background_generation">skyllh.i3.background_generation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.backgroundpdf">skyllh.i3.backgroundpdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.config">skyllh.i3.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.coords">skyllh.i3.coords module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.dataset">skyllh.i3.dataset module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.detsigyield">skyllh.i3.detsigyield module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.livetime">skyllh.i3.livetime module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.pdf">skyllh.i3.pdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.pdfratio">skyllh.i3.pdfratio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.scrambling">skyllh.i3.scrambling module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.signal_generation">skyllh.i3.signal_generation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.i3.signalpdf">skyllh.i3.signalpdf module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.physics.html">skyllh.physics package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.plotting.html">skyllh.plotting package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.utils.html">skyllh.utils package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes.html">Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/logging.html">Logging</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SkyLLH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="skyllh.html">skyllh package</a></li>
      <li class="breadcrumb-item active">skyllh.i3 package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/skyllh.i3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-skyllh.i3">
<span id="skyllh-i3-package"></span><h1>skyllh.i3 package<a class="headerlink" href="#module-skyllh.i3" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="skyllh.i3.utils.html">skyllh.i3.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="skyllh.i3.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.i3.utils.html#module-skyllh.i3.utils.sensitivity">skyllh.i3.utils.sensitivity module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.utils.html#skyllh.i3.utils.sensitivity.generate_ps_sin_dec_h0_ts_values"><code class="docutils literal notranslate"><span class="pre">generate_ps_sin_dec_h0_ts_values()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.utils.html#skyllh.i3.utils.sensitivity.estimate_ps_sin_dec_sensitivity_curve"><code class="docutils literal notranslate"><span class="pre">estimate_ps_sin_dec_sensitivity_curve()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.utils.html#skyllh.i3.utils.sensitivity.estimate_ps_sin_dec_discovery_potential_curve"><code class="docutils literal notranslate"><span class="pre">estimate_ps_sin_dec_discovery_potential_curve()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-skyllh.i3.background_generation">
<span id="skyllh-i3-background-generation-module"></span><h2>skyllh.i3.background_generation module<a class="headerlink" href="#module-skyllh.i3.background_generation" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.background_generation.</span></span><span class="sig-name descname"><span class="pre">FixedScrambledExpDataI3BkgGenMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_scrambler</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.background_generation.BackgroundGenerationMethod" title="skyllh.core.background_generation.BackgroundGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundGenerationMethod</span></code></a></p>
<p>This class implements the background event generation method for the
IceCube detector using scrambled experimental data as background hypothesis
with a fixed number of background events equal to the number of events in
the dataset. This background generation method is the one used in SkyLab.</p>
<p>Creates a new background generation method instance to generate
background events from scrambled experimental data with a fixed number
of events equal to the number of events in the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_scrambler</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.scrambling.DataScrambler" title="skyllh.core.scrambling.DataScrambler"><em>DataScrambler</em></a>) – The DataScrambler instance to use to generate scrambled experimental
data.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_data_scrambler',</span> <span class="pre">'data_scrambler')</span></em><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.data_scrambler">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_scrambler</span></span><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.data_scrambler" title="Link to this definition"></a></dt>
<dd><p>The DataScrambler instance that implements the data scrambling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.generate_events">
<span class="sig-name descname"><span class="pre">generate_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.background_generation.FixedScrambledExpDataI3BkgGenMethod.generate_events" title="Link to this definition"></a></dt>
<dd><p>Generates background events from the given data, by scrambling the
data. The number of events is equal to the size of the given dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from. It is used to scramble the experimental data.</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance describing the dataset for which background
events should get generated.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the data of the dataset for which
background events should get generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg</strong> (<em>int</em>) – The number of generated background events.</p></li>
<li><p><strong>bkg_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the generated
background events.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.backgroundpdf">
<span id="skyllh-i3-backgroundpdf-module"></span><h2>skyllh.i3.backgroundpdf module<a class="headerlink" href="#module-skyllh.i3.backgroundpdf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">BackgroundI3SpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_sinDec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_sinDec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.SpatialPDF" title="skyllh.core.pdf.SpatialPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialPDF</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.binning.UsesBinning" title="skyllh.core.binning.UsesBinning"><code class="xref py py-class docutils literal notranslate"><span class="pre">UsesBinning</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This is the base class for all IceCube specific spatial background PDF
models. IceCube spatial background PDFs depend solely on the zenith angle,
and hence, on the declination of the event.</p>
<p>The IceCube spatial background PDF is modeled as a 1d spline function in
sin(declination).</p>
<p>Creates a new IceCube spatial background PDF object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_sinDec</strong> (<em>1d ndarray</em>) – The array holding the sin(dec) values of the events.</p></li>
<li><p><strong>data_weights</strong> (<em>1d ndarray</em>) – The array holding the weight of each event used for histogramming.</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination) axis.</p></li>
<li><p><strong>spline_order_sinDec</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
spatial background PDF along the sin(dec) axis.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.spline_order_sinDec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spline_order_sinDec</span></span><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.spline_order_sinDec" title="Link to this definition"></a></dt>
<dd><p>The order (int) of the logarithmic spline function, that splines the
background PDF, along the sin(dec) axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.add_events">
<span class="sig-name descname"><span class="pre">add_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.add_events" title="Link to this definition"></a></dt>
<dd><p>Add events to spatial background PDF object and recalculate
logarithmic spline function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>events</strong> (<em>numpy record ndarray</em>) – <p>The array holding the event data. The following data fields must
exist:</p>
<ul class="simple">
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sin(declination) value of the event.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.reset" title="Link to this definition"></a></dt>
<dd><p>Reset the logarithmic spline to the original function, which was
calculated when the object was initialized.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.get_prob">
<span class="sig-name descname"><span class="pre">get_prob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.get_prob" title="Link to this definition"></a></dt>
<dd><p>Calculates the spatial background probability on the sphere of each
event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The TrialDataManager instance holding the trial event data for which
to calculate the PDF values. The following data fields must exist:</p>
<ul>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sin(declination) value of the event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>fitparams</strong> (<em>None</em>) – Unused interface parameter.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>prob</strong> (<em>1d ndarray</em>) – The spherical background probability of each data event.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">22</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_log_spline',</span> <span class="pre">'_orig_hist',</span> <span class="pre">'_orig_log_spline',</span> <span class="pre">'_spline_order_sinDec',</span> <span class="pre">'spline_order_sinDec')</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">DataBackgroundI3SpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_sinDec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF" title="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundI3SpatialPDF</span></code></a></p>
<p>This is the IceCube spatial background PDF, which gets constructed from
experimental data.</p>
<p>Constructs a new IceCube spatial background PDF from experimental
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray holding the experimental data.
The following data fields must exist:</p>
<ul>
<li><dl class="simple">
<dt>’dec’<span class="classifier">float</span></dt><dd><p>The declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination).</p></li>
<li><p><strong>spline_order_sinDec</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
spatial background PDF along the sin(dec) axis.
The default is 2.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">161</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3SpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">MCBackgroundI3SpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">physics_weight_field_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_sinDec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF" title="skyllh.i3.backgroundpdf.BackgroundI3SpatialPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundI3SpatialPDF</span></code></a></p>
<p>This is the IceCube spatial background PDF, which gets constructed from
monte-carlo data.</p>
<p>Constructs a new IceCube spatial background PDF from monte-carlo
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The array holding the monte-carlo data. The following data fields
must exist:</p>
<ul>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sine of the reconstructed declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>physics_weight_field_names</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – The name or the list of names of the monte-carlo data fields, which
should be used as event weights. If a list is given, the weight
values of all the fields will be summed to construct the final event
weight.</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination).</p></li>
<li><p><strong>spline_order_sinDec</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
spatial background PDF along the sin(dec) axis.
The default is 2.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">197</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3SpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">DataBackgroundI3EnergyPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logE_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.pdf.I3EnergyPDF" title="skyllh.i3.pdf.I3EnergyPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">I3EnergyPDF</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This is the IceCube energy background PDF, which gets constructed from
experimental data. This class is derived from I3EnergyPDF.</p>
<p>Constructs a new IceCube energy background PDF from experimental
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The array holding the experimental data. The following data fields
must exist:</p>
<ul>
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the reconstructed energy value of the data
event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sine of the reconstructed declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>logE_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the binning in log10(E).</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination).</p></li>
<li><p><strong>smoothing_filter</strong> (<em>SmoothingFilter instance</em><em> | </em><em>None</em>) – The smoothing filter to use for smoothing the energy histogram.
If None, no smoothing will be applied.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">254</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.DataBackgroundI3EnergyPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">MCBackgroundI3EnergyPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">physics_weight_field_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logE_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.pdf.I3EnergyPDF" title="skyllh.i3.pdf.I3EnergyPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">I3EnergyPDF</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This is the IceCube energy background PDF, which gets constructed from
monte-carlo data. This class is derived from I3EnergyPDF.</p>
<p>Constructs a new IceCube energy background PDF from monte-carlo
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The array holding the monte-carlo data. The following data fields
must exist:</p>
<ul>
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the reconstructed energy value of the data
event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sine of the reconstructed declination of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’mcweight’: float</dt><dd><p>The monte-carlo weight of the event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>physics_weight_field_names</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – The name or the list of names of the monte-carlo data fields, which
should be used as physics event weights. If a list is given, the
weight values of all the fields will be summed to construct the
final event physics weight.</p></li>
<li><p><strong>logE_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the binning in log10(E).</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination).</p></li>
<li><p><strong>smoothing_filter</strong> (<em>SmoothingFilter instance</em><em> | </em><em>None</em>) – The smoothing filter to use for smoothing the energy histogram.
If None, no smoothing will be applied.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">302</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.backgroundpdf.MCBackgroundI3EnergyPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.config">
<span id="skyllh-i3-config-module"></span><h2>skyllh.i3.config module<a class="headerlink" href="#module-skyllh.i3.config" title="Link to this heading"></a></h2>
<p>This file defines IceCube specific global configuration.</p>
</section>
<section id="module-skyllh.i3.coords">
<span id="skyllh-i3-coords-module"></span><h2>skyllh.i3.coords module<a class="headerlink" href="#module-skyllh.i3.coords" title="Link to this heading"></a></h2>
<p>IceCube specific coordinate utility functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.i3.coords.azi_to_ra_transform">
<span class="sig-prename descclassname"><span class="pre">skyllh.i3.coords.</span></span><span class="sig-name descname"><span class="pre">azi_to_ra_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.coords.azi_to_ra_transform" title="Link to this definition"></a></dt>
<dd><p>Rotates the given IceCube azimuth angles into right-ascention angles for
the given MJD times. This function is IceCube specific and assumes that the
detector is located excently at the South Pole and neglects all astronomical
effects like Earth’s precession.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>azi</strong> (<em>ndarray</em>) – The array with the azimuth angles.</p></li>
<li><p><strong>mjd</strong> (<em>ndarray</em>) – The array with the MJD times for each azimuth angle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.i3.coords.ra_to_azi_transform">
<span class="sig-prename descclassname"><span class="pre">skyllh.i3.coords.</span></span><span class="sig-name descname"><span class="pre">ra_to_azi_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.coords.ra_to_azi_transform" title="Link to this definition"></a></dt>
<dd><p>Rotates the given right-ascention angles to local IceCube azimuth angles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>ndarray</em>) – The array with the right-ascention angles.</p></li>
<li><p><strong>mjd</strong> (<em>ndarray</em>) – The array with the MJD times for each right-ascention angle.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.i3.coords.hor_to_equ_transform">
<span class="sig-prename descclassname"><span class="pre">skyllh.i3.coords.</span></span><span class="sig-name descname"><span class="pre">hor_to_equ_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.coords.hor_to_equ_transform" title="Link to this definition"></a></dt>
<dd><p>Transforms the coordinate from the horizontal system (azimuth, zenith)
into the equatorial system (right-ascention, declination) for detector at
the South Pole and neglecting all astronomical effects like Earth
precession.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>azi</strong> (<em>ndarray</em>) – The azimuth angle.</p></li>
<li><p><strong>zen</strong> (<em>ndarray</em>) – The zenith angle.</p></li>
<li><p><strong>mjd</strong> (<em>ndarray</em>) – The time in MJD.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>(ra, dec)</strong> (<em>(ndarray, ndarray)</em>) – The two-element tuple with the arrays of right-ascention and
declination.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.i3.dataset">
<span id="skyllh-i3-dataset-module"></span><h2>skyllh.i3.dataset module<a class="headerlink" href="#module-skyllh.i3.dataset" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.dataset.</span></span><span class="sig-name descname"><span class="pre">I3Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grl_pathfilenames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dataset</span></code></a></p>
<p>The I3Dataset class is an IceCube specific Dataset class that adds
IceCube specific properties to the Dataset class. These additional
properties are:</p>
<blockquote>
<div><ul class="simple">
<li><p>good-run-list (GRL)</p></li>
</ul>
</div></blockquote>
<p>Creates a new IceCube specific dataset, that also can hold a list
of GRL data files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>grl_pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>)</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.get_combined_grl_pathfilenames">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_combined_grl_pathfilenames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.get_combined_grl_pathfilenames" title="Link to this definition"></a></dt>
<dd><p>Creates the combined list of grl pathfilenames of all the given
datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.i3.dataset.I3Dataset" title="skyllh.i3.dataset.I3Dataset"><em>I3Dataset</em></a>) – The sequence of I3Dataset instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grl_pathfilenames</strong> (<em>list</em>) – The combined list of grl pathfilenames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.grl_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grl_pathfilename_list</span></span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.grl_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>The list of file names of the good-run-list data files for this
dataset.
If a file name is given with a relative path, it will be relative to the
root_dir property of this Dataset instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.grl_abs_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grl_abs_pathfilename_list</span></span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.grl_abs_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of absolute path file names of the good-run-list
data files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.grl_field_name_renaming_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grl_field_name_renaming_dict</span></span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.grl_field_name_renaming_dict" title="Link to this definition"></a></dt>
<dd><p>The dictionary specifying the field names of the good-run-list data
which need to get renamed just after loading the data. The dictionary
keys are the old names and their values are the new names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.exists">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exists</span></span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.exists" title="Link to this definition"></a></dt>
<dd><p>(read-only) Flag if all the data files of this data set exists. It is
<code class="docutils literal notranslate"><span class="pre">True</span></code> if all data files exist and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.load_grl">
<span class="sig-name descname"><span class="pre">load_grl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">efficiency_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.load_grl" title="Link to this definition"></a></dt>
<dd><p>Loads the good-run-list and returns a structured numpy ndarray with
the following data fields:</p>
<blockquote>
<div><dl class="simple">
<dt>run<span class="classifier">int</span></dt><dd><p>The run number.</p>
</dd>
<dt>start<span class="classifier">float</span></dt><dd><p>The MJD start time of the run.</p>
</dd>
<dt>stop<span class="classifier">float</span></dt><dd><p>The MJD stop time of the run.</p>
</dd>
<dt>livetime<span class="classifier">float</span></dt><dd><p>The livetime in days of the run.</p>
</dd>
<dt>events<span class="classifier">int</span></dt><dd><p>The number of experimental events in the run.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>efficiency_mode</strong> (<em>str</em><em> | </em><em>None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>’memory’:</dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’time’</dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The TimeLord instance to use to time the data loading procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grl_data</strong> (<em>instance of DataFieldRecordArray</em>) – The DataFieldRecordArray instance holding the good-run-list
information of the dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">efficiency_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data, which is described by the dataset. If a good-run-list
(GRL) is provided for this dataset, only experimental data will be
selected which matches the GRL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_fields</strong> (<em>list</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The list of user-defined data fields that should get loaded and kept
in addition to the analysis required data fields.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>None</em>) – If not None, uses this livetime (in days) as livetime for the
DatasetData instance, otherwise uses the live time from the Dataset
instance or, if available, the livetime from the good-run-list
(GRL).</p></li>
<li><p><strong>dtc_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – This dictionary defines how data fields of specific
data types should get converted into other data types.
This can be used to use less memory. If set to None, no data
convertion is performed.</p></li>
<li><p><strong>dtc_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str</em><em> | </em><em>None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><ul>
<li><dl class="simple">
<dt>’memory’:</dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’time’</dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The TimeLord instance that should be used to time the data load
operation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DatasetData</em>) – A DatasetData instance holding the experimental and monte-carlo
data of this data set.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">22</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_grl_field_name_renaming_dict',</span> <span class="pre">'_grl_pathfilename_list',</span> <span class="pre">'grl_field_name_renaming_dict',</span> <span class="pre">'grl_pathfilename_list')</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3Dataset.prepare_data">
<span class="sig-name descname"><span class="pre">prepare_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3Dataset.prepare_data" title="Link to this definition"></a></dt>
<dd><p>Prepares the data for IceCube by pre-calculating the following
experimental data fields:</p>
<ul class="simple">
<li><dl class="simple">
<dt>sin_dec: float</dt><dd><p>The sin value of the declination coordinate.</p>
</dd>
</dl>
</li>
</ul>
<p>and monte-carlo data fields:</p>
<ul class="simple">
<li><dl class="simple">
<dt>sin_true_dec: float</dt><dd><p>The sin value of the true declination coordinate.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>DatasetData instance</em>) – The DatasetData instance holding the data as numpy record ndarray.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The TimeLord instance that should be used to time the data
preparation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3DatasetData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.dataset.</span></span><span class="sig-name descname"><span class="pre">I3DatasetData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_grl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.dataset.I3DatasetData" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetData</span></code></a></p>
<p>The class provides the container for the loaded experimental and
monto-carlo data of a data set. It’s the IceCube specific class that also
holds the good-run-list (GRL) data.</p>
<p>Creates a new DatasetData instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a><em> | </em><em>None</em>) – The instance of DataFieldRecordArray holding the experimental data.
This can be None for a MC-only study.</p></li>
<li><p><strong>data_mc</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the monto-carlo data.</p></li>
<li><p><strong>livetime</strong> (<em>float</em>) – The integrated livetime in days of the data.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3DatasetData.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3DatasetData.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3DatasetData.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">323</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3DatasetData.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3DatasetData.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_grl',</span> <span class="pre">'grl')</span></em><a class="headerlink" href="#skyllh.i3.dataset.I3DatasetData.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.dataset.I3DatasetData.grl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grl</span></span><a class="headerlink" href="#skyllh.i3.dataset.I3DatasetData.grl" title="Link to this definition"></a></dt>
<dd><p>The DataFieldRecordArray instance holding the good-run-list (GRL)
data of the IceCube data set. It is None, if there is no GRL data
available for this IceCube data set.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.detsigyield">
<span id="skyllh-i3-detsigyield-module"></span><h2>skyllh.i3.detsigyield module<a class="headerlink" href="#module-skyllh.i3.detsigyield" title="Link to this heading"></a></h2>
<p>This module contains classes for IceCube specific detector signal yields,
for a variation of source model and flux model combinations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">I3DetSigYield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">implmethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYield" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.detsigyield.DetSigYield" title="skyllh.core.detsigyield.DetSigYield"><code class="xref py py-class docutils literal notranslate"><span class="pre">DetSigYield</span></code></a></p>
<p>Abstract base class for all IceCube specific detector signal yield
classes. It assumes that sin(dec) binning is required for calculating the
detector effective area and hence the detector signal yield.</p>
<p>Constructor of the IceCube specific detector signal yield base
class.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYield.sin_dec_binning">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sin_dec_binning</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYield.sin_dec_binning" title="Link to this definition"></a></dt>
<dd><p>The BinningDefinition instance defining the sin(dec) binning
definition.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYield.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYield.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYield.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">30</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYield.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYield.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_sin_dec_binning',</span> <span class="pre">'sin_dec_binning')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYield.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">I3DetSigYieldImplMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.detsigyield.DetSigYieldImplMethod" title="skyllh.core.detsigyield.DetSigYieldImplMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">DetSigYieldImplMethod</span></code></a></p>
<p>Abstract base class for an IceCube specific detector signal yield
implementation method class.</p>
<p>Constructor of the IceCube specific detector signal yield
implementation base class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sin_dec_binning</strong> (<em>BinningDefinition instance</em>) – The instance of BinningDefinition defining the binning of sin(dec).</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod.sin_dec_binning">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sin_dec_binning</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod.sin_dec_binning" title="Link to this definition"></a></dt>
<dd><p>The BinningDefinition instance for the sin(dec) binning that should
be used for computing the sin(dec) dependency of the detector signal
yield. If None, the binning is supposed to be taken from the Dataset’s
binning definitions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod.get_sin_dec_binning">
<span class="sig-name descname"><span class="pre">get_sin_dec_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod.get_sin_dec_binning" title="Link to this definition"></a></dt>
<dd><p>Gets the sin(dec) binning definition either as setting from this
detector signal yield implementation method itself, or from the
given dataset.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">58</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_sin_dec_binning',</span> <span class="pre">'sin_dec_binning')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">PointLikeSourceI3DetSigYieldImplMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.detsigyield.I3DetSigYieldImplMethod" title="skyllh.i3.detsigyield.I3DetSigYieldImplMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">I3DetSigYieldImplMethod</span></code></a></p>
<p>Abstract base class for all IceCube specific detector signal yield
implementation methods for a point-like source. All IceCube detector signal
yield implementation methods require a sinDec binning definition for
the effective area. By default it is taken from the binning definitios
stored in the dataset, but a user-defined sinDec binning can be specified
if needed.</p>
<p>Initializes a new detector signal yield implementation method
object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sin_dec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a><em> | </em><em>None</em>) – The BinningDefinition instance defining the sin(dec) binning that
should be used to compute the sin(dec) dependency of the detector
effective area. If set to None, the binning will be taken from the
Dataset binning definitions.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.source_to_array">
<span class="sig-name descname"><span class="pre">source_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.source_to_array" title="Link to this definition"></a></dt>
<dd><p>Converts the sequence of PointLikeSource sources into a numpy record
array holding the spatial information of the sources needed for the
detector signal yield calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<a class="reference internal" href="skyllh.physics.html#skyllh.physics.source.SourceModel" title="skyllh.physics.source.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="skyllh.physics.html#skyllh.physics.source.SourceModel" title="skyllh.physics.source.SourceModel"><em>SourceModel</em></a>) – The source model containing the spatial information of the source.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> (<em>numpy record ndarray</em>) – The generated numpy record ndarray holding the spatial information
for each source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">108</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('supported_sourcemodels',)</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">FixedFluxPointLikeSourceI3DetSigYield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">implmethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_spl_sinDec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.detsigyield.I3DetSigYield" title="skyllh.i3.detsigyield.I3DetSigYield"><code class="xref py py-class docutils literal notranslate"><span class="pre">I3DetSigYield</span></code></a></p>
<p>The detector signal yield class for the
FixedFluxPointLikeSourceI3DetSigYieldImplMethod detector signal yield
implementation method.</p>
<p>Constructs an IceCube detector signal yield instance for a
point-like source with a fixed flux.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>implmethod</strong> (<em>FixedFluxPointLikeSourceI3DetSigYieldImplMethod instance</em>) – The instance of the detector signal yield implementation
method.</p></li>
<li><p><strong>dataset</strong> (<em>Dataset instance</em>) – The instance of Dataset holding the monte-carlo data this detector
signal yield is made for.</p></li>
<li><p><strong>fluxmodel</strong> (<em>FluxModel instance</em>) – The instance of FluxModel with fixed parameters this detector signal
yield is made for.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>Livetime instance</em>) – The livetime in days or an instance of Livetime.</p></li>
<li><p><strong>sin_dec_binning</strong> (<em>BinningDefinition instance</em>) – The binning definition for sin(dec).</p></li>
<li><p><strong>log_spl_sinDec</strong> (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html#scipy.interpolate.InterpolatedUnivariateSpline" title="(in SciPy v1.16.2)"><em>scipy.interpolate.InterpolatedUnivariateSpline</em></a>) – The spline instance representing the log value of the detector
signal yield as a function of sin(dec).</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.log_spl_sinDec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_spl_sinDec</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.log_spl_sinDec" title="Link to this definition"></a></dt>
<dd><p>The <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html#scipy.interpolate.InterpolatedUnivariateSpline" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.InterpolatedUnivariateSpline</span></code></a> instance
representing the spline for the log value of the detector signal
yield as a function of sin(dec).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_flux_params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__call__" title="Link to this definition"></a></dt>
<dd><p>Retrieves the detector signal yield for the list of given sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray with the field <code class="docutils literal notranslate"><span class="pre">dec</span></code> holding the
declination of the source.</p></li>
<li><p><strong>src_flux_params</strong> (<em>None</em>) – Unused interface argument, because this implementation does not
depend on any source flux fit parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>numpy 1d ndarray</em>) – The array with the detector signal yield for each source.</p></li>
<li><p><strong>grads</strong> (<em>None</em>) – Because with this implementation the detector signal yield
does not depend on any fit parameters. So there are no gradients
and None is returned.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">164</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_log_spl_sinDec',</span> <span class="pre">'log_spl_sinDec')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYield.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">FixedFluxPointLikeSourceI3DetSigYieldImplMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_sinDec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod" title="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointLikeSourceI3DetSigYieldImplMethod</span></code></a></p>
<p>This detector signal yield implementation method constructs a
detector signal yield for a fixed flux model, assuming a point-like
source. This means that the detector signal yield does not depend on
any source flux parameters, hence it is only dependent on the detector
effective area.
It constructs a one-dimensional spline function in sin(dec), using a
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html#scipy.interpolate.InterpolatedUnivariateSpline" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.InterpolatedUnivariateSpline</span></code></a>.</p>
<p>This detector signal yield implementation method works with all flux
models.</p>
<p>It is tailored to the IceCube detector at the South Pole, where the
effective area depends soley on the zenith angle, and hence on the
declination, of the source.</p>
<p>Creates a new IceCube detector signal yield implementation
method object for a fixed flux model. It requires a sinDec binning
definition to compute the sin(dec) dependency of the detector effective
area. The construct class method of this implementation method will
create a spline function of a given order in logarithmic space of the
effective area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sin_dec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a><em> | </em><em>None</em>) – The BinningDefinition instance which defines the sin(dec) binning.
If set to None, the binning will be taken from the Dataset binning
definitions.</p></li>
<li><p><strong>spline_order_sinDec</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
detector signal yield along the sin(dec) axis.
The default is 2.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_sinDec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spline_order_sinDec</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_sinDec" title="Link to this definition"></a></dt>
<dd><p>The order (int) of the logarithmic spline function, that splines the
detector signal yield, along the sin(dec) axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.construct_detsigyield">
<span class="sig-name descname"><span class="pre">construct_detsigyield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.construct_detsigyield" title="Link to this definition"></a></dt>
<dd><p>Constructs a detector signal yield log spline function for the
given fixed flux model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset instance holding meta information about the data.</p></li>
<li><p><strong>data</strong> (<em>DatasetData instance</em>) – <p>The DatasetData instance holding the monte-carlo event data.
The numpy record ndarray holding the monte-carlo event data must
contain the following data fields:</p>
<ul>
<li><dl class="simple">
<dt>’true_dec’<span class="classifier">float</span></dt><dd><p>The true declination of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’true_energy’<span class="classifier">float</span></dt><dd><p>The true energy value of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’mcweight’<span class="classifier">float</span></dt><dd><p>The monte-carlo weight of the data event in the unit
GeV cm^2 sr.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="skyllh.physics.html#skyllh.physics.flux.FluxModel" title="skyllh.physics.flux.FluxModel"><em>FluxModel</em></a>) – The flux model instance. Must be an instance of FluxModel.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><a class="reference internal" href="skyllh.core.html#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – The live-time in days to use for the detector signal yield.</p></li>
<li><p><strong>ppbar</strong> (<em>ProgressBar instance</em><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>detsigyield</strong> (<em>FixedFluxPointLikeSourceI3DetSigYield instance</em>) – The DetSigYield instance for point-like source with a fixed flux.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">251</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_spline_order_sinDec',</span> <span class="pre">'spline_order_sinDec',</span> <span class="pre">'supported_fluxmodels')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.FixedFluxPointLikeSourceI3DetSigYieldImplMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">PowerLawFluxPointLikeSourceI3DetSigYield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">implmethod</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_spl_sinDec_gamma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.detsigyield.I3DetSigYield" title="skyllh.i3.detsigyield.I3DetSigYield"><code class="xref py py-class docutils literal notranslate"><span class="pre">I3DetSigYield</span></code></a></p>
<p>The detector signal yield class for the
PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod detector signal yield
implementation method.</p>
<p>Constructs the detector signal yield instance.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">379</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_log_spl_sinDec_gamma',</span> <span class="pre">'log_spl_sinDec_gamma')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.log_spl_sinDec_gamma">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">log_spl_sinDec_gamma</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.log_spl_sinDec_gamma" title="Link to this definition"></a></dt>
<dd><p>The <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectBivariateSpline.html#scipy.interpolate.RectBivariateSpline" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RectBivariateSpline</span></code></a> instance
representing the spline for the log value of the detector signal
yield as a function of sin(dec) and gamma.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_flux_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYield.__call__" title="Link to this definition"></a></dt>
<dd><p>Retrieves the detector signal yield for the given list of
sources and their flux parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray with the field <code class="docutils literal notranslate"><span class="pre">dec</span></code> holding the
declination of the source.</p></li>
<li><p><strong>src_flux_params</strong> (<em>(</em><em>N_sources</em><em>,</em><em>)</em><em>-shaped numpy record ndarray</em>) – The numpy record ndarray containing the flux parameter <code class="docutils literal notranslate"><span class="pre">gamma</span></code> for
the sources. <code class="docutils literal notranslate"><span class="pre">gamma</span></code> can be different for the different sources.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>numpy (N_sources,)-shaped 1D ndarray</em>) – The array with the detector signal yield for each source.</p></li>
<li><p><strong>grads</strong> (<em>numpy (N_sources,N_fitparams)-shaped 2D ndarray</em>) – The array containing the gradient values for each source and fit
parameter. Since, this implementation depends on only one fit
parameter, i.e. gamma, the array is (N_sources,1)-shaped.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.detsigyield.</span></span><span class="sig-name descname"><span class="pre">PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gamma_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sin_dec_binning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_sinDec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_order_gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod" title="skyllh.i3.detsigyield.PointLikeSourceI3DetSigYieldImplMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointLikeSourceI3DetSigYieldImplMethod</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.multiproc.IsParallelizable" title="skyllh.core.multiproc.IsParallelizable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsParallelizable</span></code></a></p>
<p>This detector signal yield implementation method constructs a
detector signal yield for a variable power law flux model, which has
the spectral index gamma as fit parameter, assuming a point-like source.
It constructs a two-dimensional spline function in sin(dec) and gamma, using
a <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RectBivariateSpline.html#scipy.interpolate.RectBivariateSpline" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RectBivariateSpline</span></code></a>. Hence, the detector signal yield
can vary with the declination and the spectral index, gamma, of the source.</p>
<p>This detector signal yield implementation method works with a
PowerLawFlux flux model.</p>
<p>It is tailored to the IceCube detector at the South Pole, where the
effective area depends soley on the zenith angle, and hence on the
declination, of the source.</p>
<p>Creates a new IceCube detector signal yield implementation
method object for a power law flux model. It requires a sinDec binning
definition to compute the sin(dec) dependency of the detector effective
area, and a gamma parameter grid to compute the gamma dependency of the
detector signal yield.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gamma_grid</strong> (<em>ParameterGrid instance</em>) – The ParameterGrid instance which defines the grid of gamma values.</p></li>
<li><p><strong>sin_dec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a><em> | </em><em>None</em>) – The BinningDefinition instance which defines the sin(dec) binning.
If set to None, the sin(dec) binning will be taken from the
dataset’s binning definitions.</p></li>
<li><p><strong>spline_order_sinDec</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
detector signal yield along the sin(dec) axis.
The default is 2.</p></li>
<li><p><strong>spline_order_gamma</strong> (<em>int</em>) – The order of the spline function for the logarithmic values of the
detector signal yield along the gamma axis.
The default is 2.</p></li>
<li><p><strong>ncpu</strong> (<em>int</em><em> | </em><em>None</em>) – The number of CPUs to utilize. Global setting will take place if
not specified, i.e. set to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">460</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_gamma_grid',</span> <span class="pre">'_spline_order_gamma',</span> <span class="pre">'_spline_order_sinDec',</span> <span class="pre">'gamma_grid',</span> <span class="pre">'spline_order_gamma',</span> <span class="pre">'spline_order_sinDec',</span> <span class="pre">'supported_fluxmodels')</span></em><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.gamma_grid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gamma_grid</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.gamma_grid" title="Link to this definition"></a></dt>
<dd><p>The ParameterGrid instance for the gamma grid that should be used for
computing the gamma dependency of the detector signal yield.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_sinDec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spline_order_sinDec</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_sinDec" title="Link to this definition"></a></dt>
<dd><p>The order (int) of the logarithmic spline function, that splines the
detector signal yield, along the sin(dec) axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_gamma">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spline_order_gamma</span></span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.spline_order_gamma" title="Link to this definition"></a></dt>
<dd><p>The order (int) of the logarithmic spline function, that splines the
detector signal yield, along the gamma axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.construct_detsigyield">
<span class="sig-name descname"><span class="pre">construct_detsigyield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.detsigyield.PowerLawFluxPointLikeSourceI3DetSigYieldImplMethod.construct_detsigyield" title="Link to this definition"></a></dt>
<dd><p>Constructs a detector signal yield 2-dimensional log spline
function for the given power law flux model with varying gamma values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset instance holding the sin(dec) binning definition.</p></li>
<li><p><strong>data</strong> (<em>DatasetData instance</em>) – <p>The DatasetData instance holding the monte-carlo event data.
The numpy record array for the monte-carlo data of the dataset must
contain the following data fields:</p>
<ul>
<li><dl class="simple">
<dt>’true_dec’<span class="classifier">float</span></dt><dd><p>The true declination of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’mcweight’<span class="classifier">float</span></dt><dd><p>The monte-carlo weight of the data event in the unit
GeV cm^2 sr.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’true_energy’<span class="classifier">float</span></dt><dd><p>The true energy value of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="skyllh.physics.html#skyllh.physics.flux.FluxModel" title="skyllh.physics.flux.FluxModel"><em>FluxModel</em></a>) – The flux model instance. Must be an instance of FluxModel.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>Livetime instance</em>) – The live-time in days or an instance of Livetime to use for the
detector signal yield.</p></li>
<li><p><strong>ppbar</strong> (<em>ProgressBar instance</em><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>detsigyield</strong> (<em>PowerLawFluxPointLikeSourceI3DetSigYield instance</em>) – The DetSigYield instance for a point-like source with a power law
flux with variable gamma parameter.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.livetime">
<span id="skyllh-i3-livetime-module"></span><h2>skyllh.i3.livetime module<a class="headerlink" href="#module-skyllh.i3.livetime" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.livetime.</span></span><span class="sig-name descname"><span class="pre">I3Livetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uptime_mjd_intervals_arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Livetime</span></code></a></p>
<p>The I3Livetime class provides the functionality to load a Livetime object
from a good-run-list data file.</p>
<p>Creates a new Livetime object from a (N,2)-shaped ndarray holding
the uptime intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>uptime_mjd_intervals_arr</strong> (<em>(</em><em>N</em><em>,</em><em>2</em><em>)</em><em>-shaped ndarray</em>) – <p>The (N,2)-shaped ndarray holding the start and end times of each
up-time interval.</p>
<p>Note 1: The intervals must be sorted ascedent in time.</p>
<dl class="simple">
<dt>Note 2: By definition the lower edge is included in the interval,</dt><dd><p>whereas the upper edge is excluded from the interval.</p>
</dd>
</dl>
<p>Note 3: The intervals must not overlap.</p>
<p>The integrity of the internal mjd interval array will be ensured by
the property setter method of <code class="docutils literal notranslate"><span class="pre">uptime_mjd_intervals_arr</span></code> by
calling the <code class="docutils literal notranslate"><span class="pre">assert_mjd_intervals_integrity</span></code> method.</p>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime.from_GRL_files">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_GRL_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime.from_GRL_files" title="Link to this definition"></a></dt>
<dd><p>Loads an I3Livetime instance from the given good-run-list (GRL) data
file. The data file needs to contain the following data fields:</p>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>start<span class="classifier">float</span></dt><dd><p>The MJD of the run start.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>stop<span class="classifier">float</span></dt><dd><p>The MJD of the run stop.</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – The list of fully qualified file names of the GRL data files.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>livetime</strong> (<em>I3Livetime instance</em>) – The created I3Livetime instance for the provided GRL data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime.from_I3Dataset">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_I3Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime.from_I3Dataset" title="Link to this definition"></a></dt>
<dd><p>Loads an I3Livetime instance from a given I3Dataset instance, which
must have a good-run-list (GRL) files defined.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds</strong> (<em>I3Dataset instance</em>) – The instance of I3Dataset which defined the good-run-list (GRL)
files for the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>livetime</strong> (<em>I3Livetime instance</em>) – The created I3Livetime instance for the GRL data from the provided
dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">9</span></em><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.livetime.I3Livetime.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.livetime.I3Livetime.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.pdf">
<span id="skyllh-i3-pdf-module"></span><h2>skyllh.i3.pdf module<a class="headerlink" href="#module-skyllh.i3.pdf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.pdf.</span></span><span class="sig-name descname"><span class="pre">I3EnergyPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_logE</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sinDec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_mcweight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_physicsweight</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logE_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_filter</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.EnergyPDF" title="skyllh.core.pdf.EnergyPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyPDF</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.binning.UsesBinning" title="skyllh.core.binning.UsesBinning"><code class="xref py py-class docutils literal notranslate"><span class="pre">UsesBinning</span></code></a></p>
<p>This is the base class for all IceCube specific energy PDF models.
IceCube energy PDFs depend soley on the energy and the
zenith angle, and hence, on the declination of the event.</p>
<p>The IceCube energy PDF is modeled as a 1d histogram in energy,
but for different sin(declination) bins, hence, stored as a 2d histogram.</p>
<p>Creates a new IceCube energy PDF object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_logE</strong> (<em>1d ndarray</em>) – The array holding the log10(E) values of the events.</p></li>
<li><p><strong>data_sinDec</strong> (<em>1d ndarray</em>) – The array holding the sin(dec) values of the events.</p></li>
<li><p><strong>data_mcweight</strong> (<em>1d ndarray</em>) – The array holding the monte-carlo weights of the events.
The final data weight will be the product of data_mcweight and
data_physicsweight.</p></li>
<li><p><strong>data_physicsweight</strong> (<em>1d ndarray</em>) – The array holding the physics weights of the events.
The final data weight will be the product of data_mcweight and
data_physicsweight.</p></li>
<li><p><strong>logE_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the log(E) axis.</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination) axis.</p></li>
<li><p><strong>smoothing_filter</strong> (<em>SmoothingFilter instance</em><em> | </em><em>None</em>) – The smoothing filter to use for smoothing the energy histogram.
If None, no smoothing will be applied.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.hist_smoothing_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hist_smoothing_method</span></span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.hist_smoothing_method" title="Link to this definition"></a></dt>
<dd><p>The HistSmoothingMethod instance defining the smoothing filter of the
energy PDF histogram.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.hist">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hist</span></span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.hist" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 2D logE-sinDec histogram array.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hist_mask_mc_covered</span></span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered" title="Link to this definition"></a></dt>
<dd><p>(read-only) The boolean ndarray holding the mask of the 2D histogram
bins for which there is monte-carlo coverage.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered_zero_physics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hist_mask_mc_covered_zero_physics</span></span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered_zero_physics" title="Link to this definition"></a></dt>
<dd><p>(read-only) The boolean ndarray holding the mask of the 2D histogram
bins for which there is monte-carlo coverage but zero physics
contribution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_hist_logE_sinDec',</span> <span class="pre">'_hist_mask_mc_covered',</span> <span class="pre">'_hist_mask_mc_covered_zero_physics',</span> <span class="pre">'_hist_smoothing_method',</span> <span class="pre">'hist_smoothing_method')</span></em><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered_with_physics">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hist_mask_mc_covered_with_physics</span></span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.hist_mask_mc_covered_with_physics" title="Link to this definition"></a></dt>
<dd><p>(read-only) The boolean ndarray holding the mask of the 2D histogram
bins for which there is monte-carlo coverage and has physics
contribution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.assert_is_valid_for_exp_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_exp_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.assert_is_valid_for_exp_data" title="Link to this definition"></a></dt>
<dd><p>Checks if this energy PDF is valid for all the given experimental
data.
It checks if all the data is within the logE and sin(dec) binning range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_exp</strong> (<em>numpy record ndarray</em>) – <p>The array holding the experimental data. The following data fields
must exist:</p>
<ul class="simple">
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the energy value of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’dec’<span class="classifier">float</span></dt><dd><p>The declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the logE or sin(dec) binning range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.pdf.I3EnergyPDF.get_prob">
<span class="sig-name descname"><span class="pre">get_prob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdf.I3EnergyPDF.get_prob" title="Link to this definition"></a></dt>
<dd><p>Calculates the energy probability (in logE) of each event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The TrialDataManager instance holding the data events for which the
probability should be calculated for. The following data fields must
exist:</p>
<ul>
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the energy value of the event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sin(declination) value of the event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>fitparams</strong> (<em>None</em>) – Unused interface parameter.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>prob</strong> (<em>1D (N_events,) shaped ndarray</em>) – The array with the energy probability for each event.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.pdfratio">
<span id="skyllh-i3-pdfratio-module"></span><h2>skyllh.i3.pdfratio module<a class="headerlink" href="#module-skyllh.i3.pdfratio" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.pdfratio.</span></span><span class="sig-name descname"><span class="pre">I3EnergySigSetOverBkgPDFRatioSpline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signalpdfset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backgroundpdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillmethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolmethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.pdfratio.SigSetOverBkgPDFRatio" title="skyllh.core.pdfratio.SigSetOverBkgPDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">SigSetOverBkgPDFRatio</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.multiproc.IsParallelizable" title="skyllh.core.multiproc.IsParallelizable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsParallelizable</span></code></a></p>
<p>This class implements a signal over background PDF ratio spline for
I3EnergyPDF enegry PDFs. It takes an object, which is derived from PDFSet
for I3EnergyPDF PDF types, and which is derived from IsSignalPDF, as signal
PDF. Furthermore, it takes an object, which is derived from I3EnergyPDF and
IsBackgroundPDF, as background PDF, and creates a spline for the ratio of
the signal and background PDFs for a grid of different discrete energy
signal fit parameters, which are defined by the signal PDF set.</p>
<p>Creates a new IceCube signal-over-background energy PDF ratio object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signalpdfset</strong> (<em>class instance derived from PDFSet</em><em> (</em><em>for PDF type</em>) – I3EnergyPDF), IsSignalPDF, and UsesBinning
The PDF set, which provides signal energy PDFs for a set of
discrete signal parameters.</p></li>
<li><p><strong>backgroundpdf</strong> (<em>class instance derived from I3EnergyPDF</em><em>, </em><em>and</em>) – IsBackgroundPDF
The background energy PDF object.</p></li>
<li><p><strong>fillmethod</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.pdfratio.PDFRatioFillMethod" title="skyllh.core.pdfratio.PDFRatioFillMethod"><em>PDFRatioFillMethod</em></a><em> | </em><em>None</em>) – An instance of class derived from PDFRatioFillMethod that implements
the desired ratio fill method.
If set to None (default), the default ratio fill method
MostSignalLikePDFRatioFillMethod will be used.</p></li>
<li><p><strong>interpolmethod</strong> (<em>class</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><em>GridManifoldInterpolationMethod</em></a>) – The class implementing the fit parameter interpolation method for
the PDF ratio manifold grid.</p></li>
<li><p><strong>ncpu</strong> (<em>int</em><em> | </em><em>None</em>) – The number of CPUs to use to create the ratio splines for the
different sets of signal parameters.</p></li>
<li><p><strong>ppbar</strong> (<em>ProgressBar instance</em><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the signal and background PDFs use different binning.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.fillmethod">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fillmethod</span></span><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.fillmethod" title="Link to this definition"></a></dt>
<dd><p>The PDFRatioFillMethod object, which should be used for filling the
PDF ratio bins.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">14</span></em><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_fitparams_hash',</span> <span class="pre">'_cache_gradients',</span> <span class="pre">'_cache_ratio',</span> <span class="pre">'_data_field_names',</span> <span class="pre">'_fillmethod',</span> <span class="pre">'_gridfitparams_hash_log_ratio_spline_dict',</span> <span class="pre">'_interpolmethod_instance',</span> <span class="pre">'fillmethod')</span></em><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.get_ratio">
<span class="sig-name descname"><span class="pre">get_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.get_ratio" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio values for each given trial event data, given
the given set of fit parameters. This method is called during the
likelihood maximization process.
For computational efficiency reasons, the gradients are calculated as
well and will be cached.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial event data for which
the PDF ratio values should get calculated.</p></li>
<li><p><strong>fitparams</strong> (<em>dict</em>) – The dictionary with the fit parameter values.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratio</strong> (<em>1d ndarray of float</em>) – The PDF ratio value for each given event.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.get_gradient">
<span class="sig-name descname"><span class="pre">get_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.pdfratio.I3EnergySigSetOverBkgPDFRatioSpline.get_gradient" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio gradient for the pidx’th fit parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial event data for which
the PDF ratio gradient values should get calculated.</p></li>
<li><p><strong>fitparams</strong> (<em>dict</em>) – The dictionary with the fit parameter values.</p></li>
<li><p><strong>fitparam_name</strong> (<em>str</em>) – The name of the fit parameter for which the gradient should get
calculated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.scrambling">
<span id="skyllh-i3-scrambling-module"></span><h2>skyllh.i3.scrambling module<a class="headerlink" href="#module-skyllh.i3.scrambling" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.scrambling.I3TimeScramblingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.scrambling.</span></span><span class="sig-name descname"><span class="pre">I3TimeScramblingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timegen</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.scrambling.I3TimeScramblingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.scrambling.TimeScramblingMethod" title="skyllh.core.scrambling.TimeScramblingMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeScramblingMethod</span></code></a></p>
<p>The I3TimeScramblingMethod class provides a data scrambling method to
perform time scrambling of the data,
by drawing a MJD time from a given time generator.</p>
<p>Initializes a new I3 time scrambling instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>timegen</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.times.TimeGenerator" title="skyllh.core.times.TimeGenerator"><em>TimeGenerator</em></a>) – The time generator that should be used to generate random MJD times.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.scrambling.I3TimeScramblingMethod.scramble">
<span class="sig-name descname"><span class="pre">scramble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.scrambling.I3TimeScramblingMethod.scramble" title="Link to this definition"></a></dt>
<dd><p>Draws a time from the time generator and calculates the right
ascention coordinate from the azimuth angle according to the time.
Sets the values of the <code class="docutils literal notranslate"><span class="pre">time</span></code> and <code class="docutils literal notranslate"><span class="pre">ra</span></code> keys of data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>data</strong> (<em>DataFieldRecordArray instance</em>) – The DataFieldRecordArray instance containing the to be scrambled
data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>numpy record ndarray</em>) – The given numpy record ndarray holding the scrambled data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.scrambling.I3TimeScramblingMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.scrambling.I3TimeScramblingMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.scrambling.I3TimeScramblingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#skyllh.i3.scrambling.I3TimeScramblingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.scrambling.I3TimeScramblingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.scrambling.I3TimeScramblingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.signal_generation">
<span id="skyllh-i3-signal-generation-module"></span><h2>skyllh.i3.signal_generation module<a class="headerlink" href="#module-skyllh.i3.signal_generation" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.source_sin_dec_shift_linear">
<span class="sig-prename descclassname"><span class="pre">skyllh.i3.signal_generation.</span></span><span class="sig-name descname"><span class="pre">source_sin_dec_shift_linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.source_sin_dec_shift_linear" title="Link to this definition"></a></dt>
<dd><p>Calculates the shift of the sine of the source declination, in order to
allow the construction of the source sine declination band with
sin(dec_src) +/- w. This shift function, S(x), is implemented as a line
with the following points:</p>
<blockquote>
<div><p>S(L) = w
S((L+U)/2) = 0
S(U) = -w</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>1D numpy ndarray</em>) – The sine of the source declination for each source.</p></li>
<li><p><strong>w</strong> (<em>float</em>) – The half size of the sin(dec)-window.</p></li>
<li><p><strong>L</strong> (<em>float</em>) – The lower value of the allowed sin(dec) range.</p></li>
<li><p><strong>U</strong> (<em>float</em>) – The upper value of the allowed sin(dec) range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>S</strong> (<em>1D numpy ndarray</em>) – The sin(dec) shift of the sin(dec) values of the given sources, such
that <code class="docutils literal notranslate"><span class="pre">sin(dec_src)</span> <span class="pre">+</span> <span class="pre">S</span></code> is the new sin(dec) of the source, and
<code class="docutils literal notranslate"><span class="pre">sin(dec_src)</span> <span class="pre">+</span> <span class="pre">S</span> <span class="pre">+/-</span> <span class="pre">w</span></code> is always within the sin(dec) range [L, U].</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.source_sin_dec_shift_cubic">
<span class="sig-prename descclassname"><span class="pre">skyllh.i3.signal_generation.</span></span><span class="sig-name descname"><span class="pre">source_sin_dec_shift_cubic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">L</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">U</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.source_sin_dec_shift_cubic" title="Link to this definition"></a></dt>
<dd><p>Calculates the shift of the sine of the source declination, in order to
allow the construction of the source sine declination band with
sin(dec_src) +/- w. This shift function, S(x), is implemented as a cubic
function with the following points:</p>
<blockquote>
<div><p>S(L) = w
S((L+U)/2) = 0
S(U) = -w</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>1D numpy ndarray</em>) – The sine of the source declination for each source.</p></li>
<li><p><strong>w</strong> (<em>float</em>) – The half size of the sin(dec)-window.</p></li>
<li><p><strong>L</strong> (<em>float</em>) – The lower value of the allowed sin(dec) range.</p></li>
<li><p><strong>U</strong> (<em>float</em>) – The upper value of the allowed sin(dec) range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>S</strong> (<em>1D numpy ndarray</em>) – The sin(dec) shift of the sin(dec) values of the given sources, such
that <code class="docutils literal notranslate"><span class="pre">sin(dec_src)</span> <span class="pre">+</span> <span class="pre">S</span></code> is the new sin(dec) of the source, and
<code class="docutils literal notranslate"><span class="pre">sin(dec_src)</span> <span class="pre">+</span> <span class="pre">S</span> <span class="pre">+/-</span> <span class="pre">w</span></code> is always within the sin(dec) range [L, U].</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.signal_generation.</span></span><span class="sig-name descname"><span class="pre">PointLikeSourceI3SignalGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_sin_dec_half_bandwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(0.01745240643728351)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_sin_dec_shift_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.signal_generation.SignalGenerationMethod" title="skyllh.core.signal_generation.SignalGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SignalGenerationMethod</span></code></a></p>
<p>This class provides a signal generation method for a point-like source
seen in the IceCube detector.</p>
<p>Constructs a new signal generation method instance for a point-like
source detected with IceCube.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_sin_dec_half_bandwidth</strong> (<em>float</em>) – The half-width of the sin(dec) band to take MC events from around a
source. The default is sin(1deg), i.e. a 1deg half-bandwidth.</p></li>
<li><p><strong>src_sin_dec_shift_func</strong> (<em>callable</em><em> | </em><em>None</em>) – The function that provides the source sin(dec) shift needed for
constructing the source declination bands from where to draw
monte-carlo events from. If set to None, the default function
<code class="docutils literal notranslate"><span class="pre">source_sin_dec_shift_linear</span></code> will be used.</p></li>
<li><p><strong>energy_range</strong> (<em>2-element tuple</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The energy range from which to take MC events into account for
signal event generation.
If set to None, the entire energy range [0, +inf] is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.src_sin_dec_half_bandwidth">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_sin_dec_half_bandwidth</span></span><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.src_sin_dec_half_bandwidth" title="Link to this definition"></a></dt>
<dd><p>The half-width of the sin(dec) band to take MC events from around a
source.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.src_sin_dec_shift_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_sin_dec_shift_func</span></span><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.src_sin_dec_shift_func" title="Link to this definition"></a></dt>
<dd><p>The function that provides the source sin(dec) shift needed for
constructing the source declination bands from where to draw
monte-carlo events from.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.calc_source_signal_mc_event_flux">
<span class="sig-name descname"><span class="pre">calc_source_signal_mc_event_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.calc_source_signal_mc_event_flux" title="Link to this definition"></a></dt>
<dd><p>Calculates the signal flux of each given MC event for each source
hypothesis of the given source hypothesis group. The unit of the signal
flux must be 1/(GeV cm^2 s sr).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>numpy record ndarray</em>) – The numpy record array holding the MC events of a dataset.</p></li>
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group, which defines the list of sources, and
their flux model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>indices_list</strong> (<em>list of 1D ndarrays</em>) – The list of event indices arrays specifying which MC events have
been selected as signal candidate events for each source of the
given source hypothesis group. Hence, the length of that list is the
number of sources of the source hypothesis group. The length of the
different 1D ndarrays is variable and depends on the source.</p></li>
<li><p><strong>flux_list</strong> (<em>list of 1D ndarrays</em>) – The list of 1D ndarrays holding the flux value of the selected
signal candidate events. One array for each source of the given
source hypothesis group. Hence, the length of that list is the
number of sources of the source hypothesis group. The length of the
different 1D ndarrays is variable and depends on the source.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.signal_event_post_sampling_processing">
<span class="sig-name descname"><span class="pre">signal_event_post_sampling_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events_meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.signal_event_post_sampling_processing" title="Link to this definition"></a></dt>
<dd><p>Rotates the generated signal events to their source location for a
given source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group instance holding the sources and their
locations.</p></li>
<li><p><strong>shg_sig_events_meta</strong> (<em>numpy record ndarray</em>) – <p>The numpy record ndarray holding meta information about the
generated signal events for the given source hypothesis group.
The length of this array must be the same as shg_sig_events.
It needs to contain the following data fields:</p>
<ul>
<li><dl class="simple">
<dt>’shg_src_idx’: int</dt><dd><p>The source index within the source hypothesis group.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>shg_sig_events</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray holding the generated signal events for
the given source hypothesis group and in the format of the original
MC events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>shg_sig_events</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray with the processed MC signal events.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">89</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_src_sin_dec_half_bandwidth',</span> <span class="pre">'_src_sin_dec_shift_func',</span> <span class="pre">'src_sin_dec_half_bandwidth',</span> <span class="pre">'src_sin_dec_shift_func')</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.signal_generation.</span></span><span class="sig-name descname"><span class="pre">MultiPointLikeSourceI3SignalGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_sin_dec_half_bandwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">np.float64(0.01745240643728351)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_sin_dec_shift_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod" title="skyllh.i3.signal_generation.PointLikeSourceI3SignalGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointLikeSourceI3SignalGenerationMethod</span></code></a></p>
<p>This class provides a signal generation method for a multiple point-like
sources seen in the IceCube detector.</p>
<p>Constructs a new signal generation method instance for a point-like
source detected with IceCube.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_sin_dec_half_bandwidth</strong> (<em>float</em>) – The half-width of the sin(dec) band to take MC events from around a
source. The default is sin(1deg), i.e. a 1deg half-bandwidth.</p></li>
<li><p><strong>src_sin_dec_shift_func</strong> (<em>callable</em><em> | </em><em>None</em>) – The function that provides the source sin(dec) shift needed for
constructing the source declination bands from where to draw
monte-carlo events from. If set to None, the default function
<code class="docutils literal notranslate"><span class="pre">source_sin_dec_shift_linear</span></code> will be used.</p></li>
<li><p><strong>energy_range</strong> (<em>2-element tuple</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The energy range from which to take MC events into account for
signal event generation.
If set to None, the entire energy range [0, +inf] is used.</p></li>
<li><p><strong>batch_size</strong> (<em>int</em><em>, </em><em>optional</em>) – Batch size for signal generation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">328</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('batch_size',)</span></em><a class="headerlink" href="#skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.calc_source_signal_mc_event_flux">
<span class="sig-name descname"><span class="pre">calc_source_signal_mc_event_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signal_generation.MultiPointLikeSourceI3SignalGenerationMethod.calc_source_signal_mc_event_flux" title="Link to this definition"></a></dt>
<dd><p>Calculates the signal flux of each given MC event for each source
hypothesis of the given source hypothesis group. The unit of the signal
flux must be 1/(GeV cm^2 s sr).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>numpy record ndarray</em>) – The numpy record array holding the MC events of a dataset.</p></li>
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group, which defines the list of sources, and
their flux model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ev_indices</strong> (<em>1D ndarray</em>) – Event indices array specifying which MC events have been selected as
signal candidate events for each source of the given source
hypothesis group. The length of the 1D ndarray is variable and
depends on the source.</p></li>
<li><p><strong>src_indices</strong> (<em>1D ndarray</em>) – Source indices array specifying which source corresponds to the
event in ev_indices array.</p></li>
<li><p><strong>flux_list</strong> (<em>list of 1D ndarrays</em>) – The list of 1D ndarrays holding the flux value of the selected
signal candidate events. One array for each source of the given
source hypothesis group. Hence, the length of that list is the
number of sources of the source hypothesis group. The length of the
different 1D ndarrays is variable and depends on the source.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.i3.signalpdf">
<span id="skyllh-i3-signalpdf-module"></span><h2>skyllh.i3.signalpdf module<a class="headerlink" href="#module-skyllh.i3.signalpdf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.i3.signalpdf.</span></span><span class="sig-name descname"><span class="pre">SignalI3EnergyPDFSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logE_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sinDec_binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_grid_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.PDFSet" title="skyllh.core.pdf.PDFSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFSet</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a>, <a class="reference internal" href="skyllh.core.html#skyllh.core.multiproc.IsParallelizable" title="skyllh.core.multiproc.IsParallelizable"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsParallelizable</span></code></a></p>
<p>This is the signal energy PDF for IceCube. It creates a set of
I3EnergyPDF objects for a discrete set of energy signal parameters. Energy
signal parameters are the parameters that influence the source flux model.</p>
<p>Creates a new IceCube energy signal PDF for a given flux model and
a set of fit parameter grids for the flux model.
It creates a set of I3EnergyPDF objects for each signal parameter value
permutation and stores it inside the <code class="docutils literal notranslate"><span class="pre">_params_hash_I3EnergyPDF_dict</span></code>
dictionary, where the hash of the fit parameters dictionary is the key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The array holding the monte-carlo data. The following data fields
must exist:</p>
<ul>
<li><dl class="simple">
<dt>’true_energy’<span class="classifier">float</span></dt><dd><p>The true energy value of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the reconstructed energy value of the data
event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’dec’<span class="classifier">float</span></dt><dd><p>The declination of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’mcweight’<span class="classifier">float</span></dt><dd><p>The monte-carlo weight value of the data events in unit
GeV cm^2 sr.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>logE_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the binning in log10(E).</p></li>
<li><p><strong>sinDec_binning</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition for the sin(declination).</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="skyllh.physics.html#skyllh.physics.flux.FluxModel" title="skyllh.physics.flux.FluxModel"><em>FluxModel</em></a>) – The flux model to use to create the signal energy PDF.</p></li>
<li><p><strong>fitparam_grid_set</strong> (<a class="reference internal" href="skyllh.core.html#skyllh.core.parameters.ParameterGridSet" title="skyllh.core.parameters.ParameterGridSet"><em>ParameterGridSet</em></a><em> | </em><a class="reference internal" href="skyllh.core.html#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a>) – The set of parameter grids. A ParameterGrid object for each
energy fit parameter, for which an I3EnergyPDF object needs to be
created.</p></li>
<li><p><strong>smoothing_filter</strong> (<em>SmoothingFilter instance</em><em> | </em><em>None</em>) – The smoothing filter to use for smoothing the energy histogram.
If None, no smoothing will be applied.</p></li>
<li><p><strong>ncpu</strong> (<em>int</em><em> | </em><em>None</em><em> (</em><em>default</em><em>)</em>) – The number of CPUs to use to create the different I3EnergyPDF
objects for the different fit parameter grid values.</p></li>
<li><p><strong>ppbar</strong> (<em>ProgressBar instance</em><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet.assert_is_valid_for_exp_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_exp_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet.assert_is_valid_for_exp_data" title="Link to this definition"></a></dt>
<dd><p>Checks if this signal energy PDF is valid for all the given
experimental data.
It checks if all the data is within the logE and sin(dec) binning range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data_exp</strong> (<em>numpy record ndarray</em>) – <p>The array holding the experimental data. The following data fields
must exist:</p>
<ul class="simple">
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the energy value of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’dec’<span class="classifier">float</span></dt><dd><p>The declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the logE or sin(dec) binning range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet.get_prob">
<span class="sig-name descname"><span class="pre">get_prob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridfitparams</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet.get_prob" title="Link to this definition"></a></dt>
<dd><p>Calculates the signal energy probability (in logE) of each event for
a given set of signal fit parameters on a grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The TrialDataManager instance holding the data events for which the
probability should be calculated for. The following data fields must
exist:</p>
<ul>
<li><dl class="simple">
<dt>’log_energy’<span class="classifier">float</span></dt><dd><p>The logarithm of the energy value of the event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’sin_dec’<span class="classifier">float</span></dt><dd><p>The sin(declination) value of the event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>gridfitparams</strong> (<em>dict</em>) – The dictionary holding the signal parameter values for which the
signal energy probability should be calculated. Note, that the
parameter values must match a set of parameter grid values for which
an I3EnergyPDF object has been created at construction time of this
SignalI3EnergyPDF object. There is no interpolation method defined
at this point to allow for arbitrary parameter values!</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>prob</strong> (<em>1d ndarray</em>) – The array with the signal energy probability for each event.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If no energy PDF can be found for the given signal parameter values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">24</span></em><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.i3.signalpdf.SignalI3EnergyPDFSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skyllh.core.utils.html" class="btn btn-neutral float-left" title="skyllh.core.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="skyllh.i3.utils.html" class="btn btn-neutral float-right" title="skyllh.i3.utils package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The IceCube Collaboration, T. Kontrimas, M. Wolf.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: v22_04_28a
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../../master/html/index.html">master</a></dd>
      <dd><a href="../../../coords/html/index.html">coords</a></dd>
      <dd><a href="../../../data_release/html/index.html">data_release</a></dd>
      <dd><a href="../../../dm/html/index.html">dm</a></dd>
      <dd><a href="../../../fix169_fix203/html/index.html">fix169_fix203</a></dd>
      <dd><a href="../../../fix230/html/index.html">fix230</a></dd>
      <dd><a href="../../../llh_module/html/index.html">llh_module</a></dd>
      <dd><a href="../../../signal_gen_method/html/index.html">signal_gen_method</a></dd>
      <dd><a href="../../../stack_public/html/index.html">stack_public</a></dd>
    </dl>
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../v19_09_15/html/index.html">v19_09_15</a></dd>
      <dd><a href="../../../v20_01_09/html/index.html">v20_01_09</a></dd>
      <dd><a href="../../../v20_03_12/html/index.html">v20_03_12</a></dd>
      <dd><a href="../../../v20_11_02/html/index.html">v20_11_02</a></dd>
      <dd><a href="../../../v21_10_18_temp/html/index.html">v21_10_18_temp</a></dd>
      <dd><a href="../../../v21_10_20/html/index.html">v21_10_20</a></dd>
      <dd><a href="../../../v22_04_28/html/index.html">v22_04_28</a></dd>
      <dd><a href="skyllh.i3.html">v22_04_28a</a></dd>
      <dd><a href="../../../v23.0.0/html/index.html">v23.0.0</a></dd>
      <dd><a href="../../../v23.1.0/html/index.html">v23.1.0</a></dd>
      <dd><a href="../../../v23.1.1/html/index.html">v23.1.1</a></dd>
      <dd><a href="../../../v23.2.0/html/index.html">v23.2.0</a></dd>
      <dd><a href="../../../v23.2.1/html/index.html">v23.2.1</a></dd>
      <dd><a href="../../../v23.2.1.rc1/html/index.html">v23.2.1.rc1</a></dd>
      <dd><a href="../../../v24.1.0/html/index.html">v24.1.0</a></dd>
      <dd><a href="../../../v24.1.1a/html/index.html">v24.1.1a</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>