

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skyllh.core package &mdash; SkyLLH  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
      <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skyllh.core.minimizers package" href="skyllh.core.minimizers.html" />
    <link rel="prev" title="skyllh.cluster package" href="skyllh.cluster.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SkyLLH
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Ask Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyllh.html">skyllh package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyllh.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyllh.analyses.html">skyllh.analyses package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.cluster.html">skyllh.cluster package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">skyllh.core package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.analysis">skyllh.core.analysis module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.background_generation">skyllh.core.background_generation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.background_generator">skyllh.core.background_generator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.backgroundpdf">skyllh.core.backgroundpdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.binning">skyllh.core.binning module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.catalog">skyllh.core.catalog module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.config">skyllh.core.config module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.datafields">skyllh.core.datafields module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.dataset">skyllh.core.dataset module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.debugging">skyllh.core.debugging module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.detsigyield">skyllh.core.detsigyield module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.display">skyllh.core.display module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.event_selection">skyllh.core.event_selection module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.expectation_maximization">skyllh.core.expectation_maximization module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.flux_model">skyllh.core.flux_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.interpolate">skyllh.core.interpolate module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.livetime">skyllh.core.livetime module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.llhratio">skyllh.core.llhratio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.math">skyllh.core.math module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.minimizer">skyllh.core.minimizer module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.model">skyllh.core.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.multiproc">skyllh.core.multiproc module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.parameters">skyllh.core.parameters module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.pdf">skyllh.core.pdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.pdfratio">skyllh.core.pdfratio module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.pdfratio_fill">skyllh.core.pdfratio_fill module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.progressbar">skyllh.core.progressbar module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.py">skyllh.core.py module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.random">skyllh.core.random module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.scrambling">skyllh.core.scrambling module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.services">skyllh.core.services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.session">skyllh.core.session module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.signal_generation">skyllh.core.signal_generation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.signal_generator">skyllh.core.signal_generator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.signalpdf">skyllh.core.signalpdf module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.smoothing">skyllh.core.smoothing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.source_hypo_grouping">skyllh.core.source_hypo_grouping module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.source_model">skyllh.core.source_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.storage">skyllh.core.storage module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.test_statistic">skyllh.core.test_statistic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.times">skyllh.core.times module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.timing">skyllh.core.timing module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.tool">skyllh.core.tool module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.trialdata">skyllh.core.trialdata module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.core.types">skyllh.core.types module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.datasets.html">skyllh.datasets package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.html">skyllh.i3 package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.plotting.html">skyllh.plotting package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.scripting.html">skyllh.scripting package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes.html">Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/unit_tests.html">Unit tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SkyLLH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="skyllh.html">skyllh package</a></li>
      <li class="breadcrumb-item active">skyllh.core package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/skyllh.core.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-skyllh.core">
<span id="skyllh-core-package"></span><h1>skyllh.core package<a class="headerlink" href="#module-skyllh.core" title="Link to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="skyllh.core.minimizers.html">skyllh.core.minimizers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.minimizers.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.minimizers.html#module-skyllh.core.minimizers.iminuit">skyllh.core.minimizers.iminuit module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor.get_f"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor.get_f()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor.get_grads"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor.get_grads()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor.__annotations__"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor.__annotations__</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor.__firstlineno__"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor.__firstlineno__</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.FuncWithGradsFunctor.__static_attributes__"><code class="docutils literal notranslate"><span class="pre">FuncWithGradsFunctor.__static_attributes__</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.minimize"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.minimize()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.get_niter"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.get_niter()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.has_converged"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.has_converged()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.is_repeatable"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.is_repeatable()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.__annotations__"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.__annotations__</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.__firstlineno__"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.__firstlineno__</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.minimizers.html#skyllh.core.minimizers.iminuit.IMinuitMinimizerImpl.__static_attributes__"><code class="docutils literal notranslate"><span class="pre">IMinuitMinimizerImpl.__static_attributes__</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="skyllh.core.utils.html">skyllh.core.utils package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.analysis">skyllh.core.utils.analysis module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.pointlikesource_to_data_field_array"><code class="docutils literal notranslate"><span class="pre">pointlikesource_to_data_field_array()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.calculate_pval_from_trials"><code class="docutils literal notranslate"><span class="pre">calculate_pval_from_trials()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.calculate_pval_from_gammafit_to_trials"><code class="docutils literal notranslate"><span class="pre">calculate_pval_from_gammafit_to_trials()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.calculate_pval_from_trials_mixed"><code class="docutils literal notranslate"><span class="pre">calculate_pval_from_trials_mixed()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.truncated_gamma_logpdf"><code class="docutils literal notranslate"><span class="pre">truncated_gamma_logpdf()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.calculate_critical_ts_from_gamma"><code class="docutils literal notranslate"><span class="pre">calculate_critical_ts_from_gamma()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.polynomial_fit"><code class="docutils literal notranslate"><span class="pre">polynomial_fit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.estimate_mean_nsignal_for_ts_quantile_with_given_trials"><code class="docutils literal notranslate"><span class="pre">estimate_mean_nsignal_for_ts_quantile_with_given_trials()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.estimate_mean_nsignal_for_ts_quantile"><code class="docutils literal notranslate"><span class="pre">estimate_mean_nsignal_for_ts_quantile()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.estimate_sensitivity"><code class="docutils literal notranslate"><span class="pre">estimate_sensitivity()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.estimate_discovery_potential"><code class="docutils literal notranslate"><span class="pre">estimate_discovery_potential()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.generate_mu_of_p_spline_interpolation"><code class="docutils literal notranslate"><span class="pre">generate_mu_of_p_spline_interpolation()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.create_trial_data_file"><code class="docutils literal notranslate"><span class="pre">create_trial_data_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.extend_trial_data_file"><code class="docutils literal notranslate"><span class="pre">extend_trial_data_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.analysis.calculate_upper_limit_distribution"><code class="docutils literal notranslate"><span class="pre">calculate_upper_limit_distribution()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.coords">skyllh.core.utils.coords module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.coords.rotate_spherical_vector"><code class="docutils literal notranslate"><span class="pre">rotate_spherical_vector()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.coords.rotate_signal_events_on_sphere"><code class="docutils literal notranslate"><span class="pre">rotate_signal_events_on_sphere()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.coords.angular_separation"><code class="docutils literal notranslate"><span class="pre">angular_separation()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.flux_model">skyllh.core.utils.flux_model module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.flux_model.create_scipy_stats_rv_continuous_from_TimeFluxProfile"><code class="docutils literal notranslate"><span class="pre">create_scipy_stats_rv_continuous_from_TimeFluxProfile()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.multidimgridpdf">skyllh.core.utils.multidimgridpdf module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.multidimgridpdf.get_kde_pdf_sig_spatial_norm_factor_func"><code class="docutils literal notranslate"><span class="pre">get_kde_pdf_sig_spatial_norm_factor_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.multidimgridpdf.get_kde_pdf_bkg_norm_factor_func"><code class="docutils literal notranslate"><span class="pre">get_kde_pdf_bkg_norm_factor_func()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.multidimgridpdf.create_MultiDimGridPDF_from_photosplinetable"><code class="docutils literal notranslate"><span class="pre">create_MultiDimGridPDF_from_photosplinetable()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.multidimgridpdf.create_MultiDimGridPDF_from_kde_pdf"><code class="docutils literal notranslate"><span class="pre">create_MultiDimGridPDF_from_kde_pdf()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.spline">skyllh.core.utils.spline module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.spline.make_spline_1d"><code class="docutils literal notranslate"><span class="pre">make_spline_1d()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.spline.CatmullRomRegular1DSpline"><code class="docutils literal notranslate"><span class="pre">CatmullRomRegular1DSpline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.spline.CatmullRomRegular1DSpline.__call__"><code class="docutils literal notranslate"><span class="pre">CatmullRomRegular1DSpline.__call__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.spline.CatmullRomRegular1DSpline.__firstlineno__"><code class="docutils literal notranslate"><span class="pre">CatmullRomRegular1DSpline.__firstlineno__</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.spline.CatmullRomRegular1DSpline.__static_attributes__"><code class="docutils literal notranslate"><span class="pre">CatmullRomRegular1DSpline.__static_attributes__</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.tdm">skyllh.core.utils.tdm module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.tdm.get_tdm_field_func_psi"><code class="docutils literal notranslate"><span class="pre">get_tdm_field_func_psi()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="skyllh.core.utils.html#module-skyllh.core.utils.trials">skyllh.core.utils.trials module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.trials.create_pseudo_data_file"><code class="docutils literal notranslate"><span class="pre">create_pseudo_data_file()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.utils.html#skyllh.core.utils.trials.load_pseudo_data"><code class="docutils literal notranslate"><span class="pre">load_pseudo_data()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-skyllh.core.analysis">
<span id="skyllh-core-analysis-module"></span><h2>skyllh.core.analysis module<a class="headerlink" href="#module-skyllh.core.analysis" title="Link to this heading"></a></h2>
<p>The analysis module provides classes for pre-defined analyses.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.analysis.</span></span><span class="sig-name descname"><span class="pre">Analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_statistic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for all analysis classes.
It contains common properties required by all analyses and defines the
overall analysis interface how to setup and run an analysis.</p>
<p>Constructor of the analysis base class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses, their flux model, and their detector signal
yield implementation method.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance managing the global set of
parameters and their relation to individual models, e.g. sources.</p></li>
<li><p><strong>test_statistic</strong> (<em>TestStatistic instance</em>) – The TestStatistic instance that defines the test statistic function
of the analysis.</p></li>
<li><p><strong>bkg_generator_cls</strong> (<em>class</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator" title="skyllh.core.background_generator.MultiDatasetBackgroundGenerator"><em>MultiDatasetBackgroundGenerator</em></a><em> | </em><em>None</em>) – The background generator class used to create the background
generator instance for multiple datasets.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<a class="reference internal" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator" title="skyllh.core.background_generator.MultiDatasetBackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">skyllh.core.background_generator.MultiDatasetBackgroundGenerator</span></code></a>
class is used.</p></li>
<li><p><strong>sig_generator_cls</strong> (<em>class</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><em>MultiDatasetSignalGenerator</em></a><em> | </em><em>None</em>) – The signal generator class used to create the signal generator
instance for multiple datasets.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a>
class is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>The SourceHypoGroupManager instance, which defines the groups of
source hypothesis, their flux model, and their detector signal
yield implementation method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.pmm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pmm</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.pmm" title="Link to this definition"></a></dt>
<dd><p>The ParameterModelMapper instance that manages the global set of
parameters and their relation to individual models, e.g. sources.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.test_statistic">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">test_statistic</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.test_statistic" title="Link to this definition"></a></dt>
<dd><p>The TestStatistic instance that defines the test-statistic function
of the analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.bkg_generator_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_generator_list</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.bkg_generator_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of instance of BackgroundGenerator, one for each
dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.bkg_generator_cls">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_generator_cls</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.bkg_generator_cls" title="Link to this definition"></a></dt>
<dd><p>The background generator class that should be used to construct the
background generator instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.dataset_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_list</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.dataset_list" title="Link to this definition"></a></dt>
<dd><p>The list of Dataset instances.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.data_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_list</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.data_list" title="Link to this definition"></a></dt>
<dd><p>The list of DatasetData instances holding the original data of the
dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets used in this analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.bkg_generator">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_generator</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.bkg_generator" title="Link to this definition"></a></dt>
<dd><p>(read-only) The background generator instance. Is None of the
background generator has not been constructed via the
<cite>construct_background_generator</cite> method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.detsigyield_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detsigyield_service</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.detsigyield_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DetSigYieldService for the analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.src_detsigyield_weights_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_detsigyield_weights_service</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.src_detsigyield_weights_service" title="Link to this definition"></a></dt>
<dd><p>The instance of SrcDetSigYieldWeightsService for the analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.ds_sig_weight_factors_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ds_sig_weight_factors_service</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.ds_sig_weight_factors_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetSignalWeightFactorsService for the analysis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.sig_generator_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_generator_list</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.sig_generator_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of instance of SignalGenerator, one for each
dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.sig_generator_cls">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_generator_cls</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.sig_generator_cls" title="Link to this definition"></a></dt>
<dd><p>The signal generator class that should be used to construct the
signal generator instance handling all datasets.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.sig_generator">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_generator</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.sig_generator" title="Link to this definition"></a></dt>
<dd><p>(read-only) The signal generator instance. Is None if the signal
generator has not been constructed via the
<cite>construct_signal_generator</cite> method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.tdm_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tdm_list</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.tdm_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of TrialDataManager. One for each dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.total_livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">total_livetime</span></span><a class="headerlink" href="#skyllh.core.analysis.Analysis.total_livetime" title="Link to this definition"></a></dt>
<dd><p>(read-only) The total live-time in days of the loaded data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.construct_services">
<span class="sig-name descname"><span class="pre">construct_services</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.construct_services" title="Link to this definition"></a></dt>
<dd><p>Constructs the following services:</p>
<blockquote>
<div><ul class="simple">
<li><p>detector signal yield service</p></li>
<li><p>source detector signal yield weights service</p></li>
<li><p>dataset signal weight factors service</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.add_dataset">
<span class="sig-name descname"><span class="pre">add_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_selection_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.add_dataset" title="Link to this definition"></a></dt>
<dd><p>Adds the given dataset to the list of datasets for this analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance that should get added.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the original (prepared) data of the
dataset.</p></li>
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a><em> | </em><em>None</em>) – The TrialDataManager instance managing the trial data and additional
data fields of the data set. If set to None, it means that no
additional data fields are defined.</p></li>
<li><p><strong>event_selection_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a><em> | </em><em>None</em>) – The instance of EventSelectionMethod to use to select only
signal-like events from the data. All other events
will be treated as pure background events. This reduces the amount
of log-likelihood-ratio function evaluations. If set to None, all
events will be evaluated.</p></li>
<li><p><strong>bkg_generator</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><em>BackgroundGenerator</em></a><em> | </em><em>None</em>) – The optional instance of BackgroundGenerator, which should be used
to generate background events for this particular dataset.</p></li>
<li><p><strong>sig_generator</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em> | </em><em>None</em>) – The optional instance of SignalGenerator, which should be used
to generate signal events for this particular dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.get_livetime">
<span class="sig-name descname"><span class="pre">get_livetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.get_livetime" title="Link to this definition"></a></dt>
<dd><p>Retrieves the numeric livetime of the given dataset in the specified
unit. The dataset can be specified either through its index or its name.
If no dataset is specified, the total livetime, i.e. the sum of the
livetime of all datasets, is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_key</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) – The index or name of the dataset for which the livetime should get
retrieved. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the total livetime of all datasets
will be returned.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.Unit</em><em> | </em><em>None</em>) – The time unit in which the livetime should be returned. If set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">astropy.units.day</span></code> will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.calculate_test_statistic">
<span class="sig-name descname"><span class="pre">calculate_test_statistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.calculate_test_statistic" title="Link to this definition"></a></dt>
<dd><p>Calculates the test statistic value by calling the <code class="docutils literal notranslate"><span class="pre">evaluate</span></code>
method of the TestStatistic class with the given log_lambda value and
fit parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The value of the log-likelihood ratio function. Usually, this is its
maximum.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D ndarray holding the global
fit parameter values of the log-likelihood ratio function for
the given log_lambda value.</p></li>
<li><p><strong>**kwargs</strong> – Any additional keyword arguments are passed to the
<code class="docutils literal notranslate"><span class="pre">__call__</span></code> method of the TestStatistic instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TS</strong> (<em>float</em>) – The calculated test-statistic value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.construct_background_generator">
<span class="sig-name descname"><span class="pre">construct_background_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.construct_background_generator" title="Link to this definition"></a></dt>
<dd><p>Constructs the background generator for all added datasets.
This method must be called after all the datasets were added via the
add_dataset method. It sets the <cite>bkg_generator</cite> property of this
Analysis class instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.construct_signal_generator">
<span class="sig-name descname"><span class="pre">construct_signal_generator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.construct_signal_generator" title="Link to this definition"></a></dt>
<dd><p>Constructs the signal generator for all added datasets.
This method must be called after all the datasets were added via the
add_dataset method. It sets the <cite>sig_generator</cite> property of this
Analysis class instance. The signal generation method has to be set
through the source hypothesis group.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.initialize_trial">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.initialize_trial" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to initialize the log-likelihood ratio
function with a new set of given trial data. This is a low-level method.
For convenient methods see the <cite>unblind</cite> and <cite>do_trial</cite> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events_list</strong> (<em>list</em><em> of </em><em>numpy record ndarray</em>) – The list of data events to use for the log-likelihood function
evaluation. The data arrays for the datasets must be in the same
order than the added datasets.</p></li>
<li><p><strong>n_events_list</strong> (<em>list</em><em> of </em><em>int</em><em> | </em><em>None</em>) – The list of the number of events of each data set. These numbers
can be larger than the number of events given by the <cite>events_list</cite>
argument in cases where an event selection method was already used.
If set to None, the number of events is taken from the given
<cite>events_list</cite> argument.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.unblind">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unblind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.unblind" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to run the analysis on the experimental data,
i.e. unblinds the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used by the
minimizer to generate new random initial fit parameter values.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time the
maximization of the LLH ratio function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>TS</strong> (<em>float</em>) – The test-statistic value.</p></li>
<li><p><strong>global_params_dict</strong> (<em>dict</em>) – The dictionary holding the global parameter names and their
best fit values. It includes fixed and floating parameters.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the performed
minimization process of the analysis.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">do_trial_with_given_pseudo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_status_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to perform an analysis trial on a given
pseudo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<em>int</em>) – The seed value, which was used to generate the pseudo data. It will
be stored in the returned result array.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events the pseudo data was generated with.</p></li>
<li><p><strong>n_sig</strong> (<em>int</em>) – The total number of actual signal events in the pseudo data.</p></li>
<li><p><strong>n_events_list</strong> (<em>list</em><em> of </em><em>int</em>) – The total number of events for each data set of the pseudo data.</p></li>
<li><p><strong>events_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The list of instance of DataFieldRecordArray containing the pseudo
data events for each data sample. The number of events for each
data sample can be less than the number of events given by
<code class="docutils literal notranslate"><span class="pre">n_events_list</span></code> if an event selection method was already utilized
when generating background events.</p></li>
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers for the minimizer, e.g. for new initial fit parameter
values.</p></li>
<li><p><strong>minimizer_status_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – If a dictionary is provided, it will be updated with the minimizer
status dictionary.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>recarray</strong> (<em>instance of numpy record ndarray</em>) – The numpy record ndarray holding the result of the trial. It must
contain the following data fields:</p>
<dl class="simple">
<dt>rss_seed<span class="classifier">int</span></dt><dd><p>The RandomStateService seed.</p>
</dd>
<dt>mean_n_sig<span class="classifier">float</span></dt><dd><p>The mean number of signal events.</p>
</dd>
<dt>n_sig<span class="classifier">int</span></dt><dd><p>The actual number of injected signal events.</p>
</dd>
<dt>ts<span class="classifier">float</span></dt><dd><p>The test-statistic value.</p>
</dd>
<dt>[&lt;global_param_name&gt;<span class="classifier">float ]</span></dt><dd><p>Any additional parameters of the analysis.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>If the SourceHypoGroupManager instance changed, this method needs to
be called to propagate the change to all components of the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.do_trial_with_given_bkg_and_sig_pseudo_data">
<span class="sig-name descname"><span class="pre">do_trial_with_given_bkg_and_sig_pseudo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_bkg_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sig_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_status_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.do_trial_with_given_bkg_and_sig_pseudo_data" title="Link to this definition"></a></dt>
<dd><p>Performs an analysis trial on the given background and signal pseudo
data. This method merges the background and signal pseudo events and
calls the <code class="docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data</span></code> method of this class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method alters the DataFieldRecordArray instances of the
bkg_events_list argument!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<em>int</em>) – The seed value, which was used to generate the background and signal
pseudo data. It will be stored in the returned result array.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events the pseudo data was generated with.</p></li>
<li><p><strong>n_sig</strong> (<em>int</em>) – The total number of actual signal events in the pseudo data.</p></li>
<li><p><strong>n_bkg_events_list</strong> (<em>list</em><em> of </em><em>int</em>) – The total number of background events for each data set of the
pseudo data.</p></li>
<li><p><strong>n_sig_events_list</strong> (<em>list</em><em> of </em><em>int</em>) – The total number of signal events for each data set of the
pseudo data.</p></li>
<li><p><strong>bkg_events_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The list of instance of DataFieldRecordArray containing the
background pseudo data events for each data set.</p></li>
<li><p><strong>sig_events_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a><em> | </em><em>None</em>) – The list of instance of DataFieldRecordArray containing the signal
pseudo data events for each data set. If a particular dataset has
no signal events, the entry for that dataset can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers for the minimizer, e.g. for new initial fit parameter
values.</p></li>
<li><p><strong>minimizer_status_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – If a dictionary is provided, it will be updated with the minimizer
status dictionary.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance of TimeLord that should be used to time individual
tasks.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments are passed to the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data()</span></code></a>
method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>recarray</strong> (<em>instance of numpy record ndarray</em>) – The numpy record ndarray holding the result of the trial.
See the documentation of the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data()</span></code></a>
method for further information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.generate_background_events">
<span class="sig-name descname"><span class="pre">generate_background_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_bkg_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.generate_background_events" title="Link to this definition"></a></dt>
<dd><p>Generates background events utilizing the background generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers.</p></li>
<li><p><strong>mean_n_bkg_list</strong> (<em>list</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The mean number of background events that should be generated for
each dataset. If set to None (the default), the background
generation method needs to obtain this number itself.</p></li>
<li><p><strong>bkg_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Optional keyword arguments for the <code class="docutils literal notranslate"><span class="pre">generate_background_events</span></code>
method of the background generator.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks of this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_events_list</strong> (<em>list of int</em>) – The list of the number of events that have been generated for each
pseudo data set.</p></li>
<li><p><strong>events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list of instance of DataFieldRecordArray containing the pseudo
data events for each data sample. The number of events for each
data set can be less than the number of events given by
<code class="docutils literal notranslate"><span class="pre">n_events_list</span></code> if an event selection method was already utilized
when generating background events.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.generate_signal_events">
<span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>Generates signal events utilizing the signal generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events that should be generated for the
trial. The actual number of generated events will be drawn from a
Poisson distribution with this given signal mean as mean.</p></li>
<li><p><strong>sig_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Additional keyword arguments for the <code class="docutils literal notranslate"><span class="pre">generate_signal_events</span></code>
method of the <code class="docutils literal notranslate"><span class="pre">sig_generator_cls</span></code> class. An usual keyword argument
is <code class="docutils literal notranslate"><span class="pre">poisson</span></code>.</p></li>
<li><p><strong>n_events_list</strong> (<em>list</em><em> of </em><em>int</em><em> | </em><em>None</em>) – If given, it specifies the number of events of each data set already
present and the number of signal events will be added.</p></li>
<li><p><strong>events_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a><em> | </em><em>None</em>) – If given, it specifies the events of each data set already present
and the signal events will be added.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance of TimeLord that should be used to time individual
tasks of this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_sig</strong> (<em>int</em>) – The actual number of injected signal events.</p></li>
<li><p><strong>n_events_list</strong> (<em>list of int</em>) – The list of the number of signal events that have been generated for
each data set.</p></li>
<li><p><strong>events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list of instance of DataFieldRecordArray containing the
signal data events for each data set. An entry is None, if no signal
events were generated for this particular data set.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.generate_pseudo_data">
<span class="sig-name descname"><span class="pre">generate_pseudo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_bkg_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.generate_pseudo_data" title="Link to this definition"></a></dt>
<dd><p>Generates pseudo data with background and possible signal
events for each data set using the background and signal generation
methods of the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers.</p></li>
<li><p><strong>mean_n_bkg_list</strong> (<em>list</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The mean number of background events that should be generated for
each dataset. If set to None (the default), the background
generation method needs to obtain this number itself.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events that should be generated for the
trial. The actual number of generated events will be drawn from a
Poisson distribution with this given signal mean as mean.</p></li>
<li><p><strong>bkg_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Additional keyword arguments for the <cite>generate_events</cite> method of the
background generation method class. An usual keyword argument is
<cite>poisson</cite>.</p></li>
<li><p><strong>sig_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Additional keyword arguments for the <cite>generate_signal_events</cite> method
of the <cite>SignalGenerator</cite> class. An usual keyword argument is
<cite>poisson</cite>.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks of this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_sig</strong> (<em>int</em>) – The actual number of injected signal events.</p></li>
<li><p><strong>n_events_list</strong> (<em>list of int</em>) – The list of the number of events that have been generated for each
pseudo data set.</p></li>
<li><p><strong>events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list of DataFieldRecordArray instances containing the pseudo
data events for each data sample. The number of events for each
data set can be less than the number of events given by
<cite>n_events_list</cite> if an event selection method was already utilized
when generating background events.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.do_trial">
<span class="sig-name descname"><span class="pre">do_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_bkg_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_status_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.do_trial" title="Link to this definition"></a></dt>
<dd><p>This method performs an analysis trial by generating a
pseudo data sample with background events and possible signal events
via the <a class="reference internal" href="#skyllh.core.analysis.Analysis.generate_pseudo_data" title="skyllh.core.analysis.Analysis.generate_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">generate_pseudo_data()</span></code></a> method, and performs the analysis
on that random pseudo data sample by calling the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data()</span></code></a> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating
random numbers.</p></li>
<li><p><strong>mean_n_bkg_list</strong> (<em>list</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The mean number of background events that should be generated for
each dataset. If set to None (the default), the background
generation method needs to obtain this number itself.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events that should be generated for the
trial.</p></li>
<li><p><strong>bkg_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Additional keyword arguments for the <cite>generate_events</cite> method of the
background generation method class. An usual keyword argument is
<cite>poisson</cite>.</p></li>
<li><p><strong>sig_kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – Additional keyword arguments for the <cite>generate_signal_events</cite> method
of the <cite>SignalGenerator</cite> class. An usual keyword argument is
<cite>poisson</cite>.</p></li>
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a><em> | </em><em>None</em>) – The instance of RandomStateService to use for generating random
numbers for the minimizer, e.g. new initial fit parameter values.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">rss</span></code> will be used for the minimizer.</p></li>
<li><p><strong>minimizer_status_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – If a dictionary is provided, it will be updated with the minimizer
status dictionary.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks.</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – Additional keyword arguments are passed to the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data()</span></code></a> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>recarray</strong> (<em>instance of numpy record ndarray</em>) – The numpy record ndarray holding the result of the trial.
See the documentation of the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data" title="skyllh.core.analysis.Analysis.do_trial_with_given_pseudo_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial_with_given_pseudo_data()</span></code></a>
method for further information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.do_trials">
<span class="sig-name descname"><span class="pre">do_trials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.Analysis.do_trials" title="Link to this definition"></a></dt>
<dd><p>Executes the <a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial" title="skyllh.core.analysis.Analysis.do_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial()</span></code></a> method <code class="docutils literal notranslate"><span class="pre">n</span></code> times with possible
multi-processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The RandomStateService instance to use for generating random
numbers.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of trials to generate using the <cite>do_trial</cite> method.</p></li>
<li><p><strong>ncpu</strong> (<em>int</em><em> | </em><em>None</em>) – The number of CPUs to use, i.e. the number of subprocesses to
spawn. If set to None, the global setting will be used.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The possible parent ProgressBar instance.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments are passed to the <a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial" title="skyllh.core.analysis.Analysis.do_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial()</span></code></a>
method. See the documentation of that method for allowed keyword
arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>recarray</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray holding the result of all trials.
See the documentation of the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.do_trial" title="skyllh.core.analysis.Analysis.do_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial()</span></code></a> method for the
list of data fields.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.analysis.Analysis.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">83</span></em><a class="headerlink" href="#skyllh.core.analysis.Analysis.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.Analysis.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_generator',</span> <span class="pre">'_bkg_generator_cls',</span> <span class="pre">'_bkg_generator_list',</span> <span class="pre">'_data_list',</span> <span class="pre">'_dataset_list',</span> <span class="pre">'_detsigyield_service',</span> <span class="pre">'_ds_sig_weight_factors_service',</span> <span class="pre">'_event_selection_method_list',</span> <span class="pre">'_pmm',</span> <span class="pre">'_shg_mgr',</span> <span class="pre">'_sig_generator',</span> <span class="pre">'_sig_generator_cls',</span> <span class="pre">'_sig_generator_list',</span> <span class="pre">'_src_detsigyield_weights_service',</span> <span class="pre">'_tdm_list',</span> <span class="pre">'_test_statistic',</span> <span class="pre">'bkg_generator_cls',</span> <span class="pre">'detsigyield_service',</span> <span class="pre">'ds_sig_weight_factors_service',</span> <span class="pre">'pmm',</span> <span class="pre">'shg_mgr',</span> <span class="pre">'sig_generator_cls',</span> <span class="pre">'src_detsigyield_weights_service',</span> <span class="pre">'test_statistic')</span></em><a class="headerlink" href="#skyllh.core.analysis.Analysis.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.analysis.</span></span><span class="sig-name descname"><span class="pre">LLHRatioAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_statistic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.analysis.Analysis" title="skyllh.core.analysis.Analysis"><code class="xref py py-class docutils literal notranslate"><span class="pre">Analysis</span></code></a></p>
<p>This is the abstract base class for all log-likelihood ratio analysis
classes. It requires a mathematical log-likelihood ratio function.</p>
<p>To set-up and run an analysis the following procedure applies:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Create an Analysis instance.</p></li>
<li><p>Add the datasets and their PDF ratio instances via the
<a class="reference internal" href="#skyllh.core.analysis.Analysis.add_dataset" title="skyllh.core.analysis.Analysis.add_dataset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.analysis.Analysis.add_dataset()</span></code></a> method.</p></li>
<li><p>Construct the log-likelihood ratio function via the
<a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis.construct_llhratio" title="skyllh.core.analysis.LLHRatioAnalysis.construct_llhratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">construct_llhratio()</span></code></a> method.</p></li>
<li><p>Initialize a trial via the <a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis.initialize_trial" title="skyllh.core.analysis.LLHRatioAnalysis.initialize_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_trial()</span></code></a> method.</p></li>
<li><p>Fit the global fit parameters to the trial data via the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">maximize()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">llhratio</span></code> property.</p></li>
</ol>
</div></blockquote>
<p>Alternatively, one can use the convenient methods <code class="xref py py-meth docutils literal notranslate"><span class="pre">do_trial()</span></code> or
<a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis.unblind" title="skyllh.core.analysis.LLHRatioAnalysis.unblind"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unblind()</span></code></a> to perform a random trial or to unblind the data,
respectively. Both methods will fit the global fit parameters using the set
up data. Finally, the test statistic is calculated via the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">calculate_test_statistic()</span></code> method.</p>
<p>In order to calculate sensitivities and discovery potentials, analysis
trials have to be performed on random data samples with injected signal
events. To perform a trial with injected signal events, the signal generator
has to be constructed via the <code class="xref py py-meth docutils literal notranslate"><span class="pre">construct_signal_generator()</span></code> method
before any random trial data can be generated.</p>
<p>Constructs a new instance of LLHRatioAnalysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses, their flux model, and their detector signal
yield implementation method.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance managing the global set of
parameters and their relation to individual models, e.g. sources.</p></li>
<li><p><strong>test_statistic</strong> (<em>TestStatistic instance</em>) – The TestStatistic instance that defines the test statistic function
of the analysis.</p></li>
<li><p><strong>bkg_generator_cls</strong> (<em>class</em><em> of </em><em>BackgroundGeneratorBase</em><em> | </em><em>None</em>) – The background generator class used to create the background
generator instance.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">skyllh.core.background_generator.BackgroundGenerator</span></code></a> class
is used.</p></li>
<li><p><strong>sig_generator_cls</strong> (<em>class</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em> | </em><em>None</em>) – The signal generator class used to create the signal generator
instance.
If set to None, the
<a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a>
class is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1227</span></em><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_llhratio',</span> <span class="pre">'_pdfratio_list')</span></em><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.llhratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llhratio</span></span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.llhratio" title="Link to this definition"></a></dt>
<dd><p>The log-likelihood ratio function instance. It is None, if it has
not been constructed yet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.construct_llhratio">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">construct_llhratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.construct_llhratio" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to construct the LLH ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>llhratio</strong> (<em>instance of LLHRatio</em>) – The instance of LLHRatio that implements the
log-likelihood-ratio function of this LLH ratio analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.add_dataset">
<span class="sig-name descname"><span class="pre">add_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdfratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_selection_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.add_dataset" title="Link to this definition"></a></dt>
<dd><p>Adds a dataset with its PDF ratio instances to the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset that should get added.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The instance of DatasetData holding the original (prepared) data of
the dataset.</p></li>
<li><p><strong>pdfratio</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><em>PDFRatio</em></a>) – The instance of PDFRatio for the to-be-added data set.</p></li>
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a><em> | </em><em>None</em>) – The TrialDataManager instance that manages the trial data and
additional data fields for this data set.</p></li>
<li><p><strong>event_selection_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a><em> | </em><em>None</em>) – The instance of EventSelectionMethod to use to select only
signal-like events from the trial data. All other events
will be treated as pure background events. This reduces the amount
of log-likelihood-ratio function evaluations. If set to None, all
events will be evaluated.</p></li>
<li><p><strong>bkg_generator</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><em>BackgroundGenerator</em></a><em> | </em><em>None</em>) – The optional instance of BackgroundGenerator, which should be used
to generate background events for this particular dataset.</p></li>
<li><p><strong>sig_generator</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em> | </em><em>None</em>) – The optional instance of SignalGenerator, which should be used
to generate signal events for this particular dataset.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>If the SourceHypoGroupManager instance changed, this method needs to
be called to propagate the change to all components of the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.initialize_trial">
<span class="sig-name descname"><span class="pre">initialize_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.initialize_trial" title="Link to this definition"></a></dt>
<dd><p>This method initializes the log-likelihood ratio
function with a new set of given trial data. This is a low-level method.
For convenient methods see the <code class="docutils literal notranslate"><span class="pre">unblind</span></code> and <code class="docutils literal notranslate"><span class="pre">do_trial</span></code> methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events_list</strong> (<em>list</em><em> of </em><em>DataFieldRecordArray instances</em>) – The list of DataFieldRecordArray instances holding the data events
to use for the log-likelihood function evaluation. The data arrays
for the datasets must be in the same order than the added datasets.</p></li>
<li><p><strong>n_events_list</strong> (<em>list</em><em> of </em><em>int</em><em> | </em><em>None</em>) – The list of the number of events of each data set. If set to None,
the number of events is taken from the size of the given events
arrays.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.unblind">
<span class="sig-name descname"><span class="pre">unblind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.unblind" title="Link to this definition"></a></dt>
<dd><p>Evaluates the unscrambled data, i.e. unblinds the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used by the
minimizer to generate new random initial fit parameter values.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time the
maximization of the LLH ratio function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>TS</strong> (<em>float</em>) – The test-statistic value.</p></li>
<li><p><strong>global_params_dict</strong> (<em>dict</em>) – The dictionary holding the global parameter names and their
best fit values. It includes fixed and floating parameters.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the performed
minimization process of the negative of the log-likelihood ratio
function.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.LLHRatioAnalysis.do_trial_with_given_pseudo_data">
<span class="sig-name descname"><span class="pre">do_trial_with_given_pseudo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer_status_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig_0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.LLHRatioAnalysis.do_trial_with_given_pseudo_data" title="Link to this definition"></a></dt>
<dd><p>Performs an analysis trial on the given pseudo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<em>int</em>) – The seed value, which was used to generate the pseudo data. It will
be stored in the returned result array.</p></li>
<li><p><strong>mean_n_sig</strong> (<em>float</em>) – The mean number of signal events the pseudo data was generated with.</p></li>
<li><p><strong>n_sig</strong> (<em>int</em>) – The total number of actual signal events in the pseudo data.</p></li>
<li><p><strong>n_events_list</strong> (<em>list</em><em> of </em><em>int</em>) – The total number of events for each data set of the pseudo data.</p></li>
<li><p><strong>events_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The list of instance of DataFieldRecordArray containing the pseudo
data events for each data sample. The number of events for each
data sample can be less than the number of events given by
<code class="docutils literal notranslate"><span class="pre">n_events_list</span></code> if an event selection method was already utilized
when generating background events.</p></li>
<li><p><strong>minimizer_rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to use for generating random
numbers for the minimizer, e.g. for new initial fit parameter
values.</p></li>
<li><p><strong>minimizer_status_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – If a dictionary is provided, it will be updated with the minimizer
status dictionary.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time
individual tasks.</p></li>
<li><p><strong>mean_n_sig_0</strong> (<em>float</em><em> | </em><em>None</em>) – The fixed mean number of signal events for the null-hypothesis,
when using a ns-profile log-likelihood-ratio function.
If set to None, this argument is interpreted as 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>recarray</strong> (<em>instance of numpy record ndarray</em>) – The numpy record ndarray holding the result of the trial. It
contains the following data fields:</p>
<dl class="simple">
<dt>seed<span class="classifier">int</span></dt><dd><p>The seed value of the RandomStateService.</p>
</dd>
<dt>mean_n_sig<span class="classifier">float</span></dt><dd><p>The mean number of signal events.</p>
</dd>
<dt>n_sig<span class="classifier">int</span></dt><dd><p>The actual number of injected signal events.</p>
</dd>
<dt>mean_n_sig_0<span class="classifier">float</span></dt><dd><p>The fixed mean number of signal events for the null-hypothesis.</p>
</dd>
<dt>ts<span class="classifier">float</span></dt><dd><p>The test-statistic value.</p>
</dd>
<dt>[&lt;global_param_name&gt;<span class="classifier">float ]</span></dt><dd><p>Any additional parameters of the LLH ratio function.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.analysis.</span></span><span class="sig-name descname"><span class="pre">SingleSourceMultiDatasetLLHRatioAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_statistic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis" title="skyllh.core.analysis.LLHRatioAnalysis"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatioAnalysis</span></code></a></p>
<p>This is an analysis class that implements a log-likelihood ratio analysis
for multiple datasets assuming a single source.
It is a special case of the multi-source analysis.</p>
<p>For more information how to construct and run the analysis see the
documentation of the <a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis" title="skyllh.core.analysis.LLHRatioAnalysis"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatioAnalysis</span></code></a> class.</p>
<p>Creates a new time-integrated point-like source analysis assuming a
single source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses, their flux model, and their detector signal
efficiency implementation method.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance managing the global set of
parameters and their relation to individual models, e.g. sources.</p></li>
<li><p><strong>test_statistic</strong> (<em>TestStatistic instance</em>) – The TestStatistic instance that defines the test statistic function
of the analysis.</p></li>
<li><p><strong>bkg_generator_cls</strong> (<em>class</em><em> of </em><em>BackgroundGeneratorBase</em><em> | </em><em>None</em>) – The background generator class used to create the background
generator instance.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">skyllh.core.background_generator.BackgroundGenerator</span></code></a> class
is used.</p></li>
<li><p><strong>sig_generator_cls</strong> (<em>SignalGenerator class</em><em> | </em><em>None</em>) – The signal generator class that should be used to create the signal
generator instance for multiple datasets. If set to None, the
<a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a>
class is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1615</span></em><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.construct_llhratio">
<span class="sig-name descname"><span class="pre">construct_llhratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.construct_llhratio" title="Link to this definition"></a></dt>
<dd><p>Constructs the log-likelihood (LLH) ratio function of the analysis.
This setups all the necessary analysis objects like detector signal
yields and dataset signal weights, constructs the log-likelihood ratio
functions for each dataset and the final composite LLH ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The instance of Minimizer that should be used to minimize the
negative of the log-likelihood ratio function.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>llhratio</strong> (<em>instance of MultiDatasetTCLLHRatio</em>) – The instance of MultiDatasetTCLLHRatio that implements the
log-likelihood-ratio function of the analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.change_source">
<span class="sig-name descname"><span class="pre">change_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.change_source" title="Link to this definition"></a></dt>
<dd><p>Changes the source of the analysis to the given source. It makes the
necessary changes to all the objects of the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The instance of SourceModel describing the new source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.calculate_fluxmodel_scaling_factor">
<span class="sig-name descname"><span class="pre">calculate_fluxmodel_scaling_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.SingleSourceMultiDatasetLLHRatioAnalysis.calculate_fluxmodel_scaling_factor" title="Link to this definition"></a></dt>
<dd><p>Calculates the factor the source’s fluxmodel has to be scaled
in order to obtain the given mean number of signal events in the
detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_ns</strong> (<em>float</em>) – The mean number of signal events in the detector for which the
scaling factor is calculated.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D ndarray holding the values of the global
fit parameters, that should be used for the flux calculation.
The order of the values must match the order the fit parameters were
defined in the parameter model mapper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>factor</strong> (<em>float</em>) – The factor the source’s fluxmodel needs to be scaled in order to
obtain the given mean number of signal events in the detector.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.analysis.</span></span><span class="sig-name descname"><span class="pre">MultiSourceMultiDatasetLLHRatioAnalysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_statistic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis" title="skyllh.core.analysis.LLHRatioAnalysis"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatioAnalysis</span></code></a></p>
<p>This is an analysis class that implements a log-likelihood ratio analysis
for multiple datasets assuming a multiple sources.</p>
<p>For more information how to construct and run the analysis see the
documentation of the <a class="reference internal" href="#skyllh.core.analysis.LLHRatioAnalysis" title="skyllh.core.analysis.LLHRatioAnalysis"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatioAnalysis</span></code></a> class.</p>
<p>Constructs a new instance of MultiDatasetLLHRatioAnalysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses, their flux model, and their detector signal
yield implementation method.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance managing the global set of
parameters and their relation to individual models, e.g. sources.</p></li>
<li><p><strong>test_statistic</strong> (<em>TestStatistic instance</em>) – The TestStatistic instance that defines the test statistic function
of the analysis.</p></li>
<li><p><strong>bkg_generator_cls</strong> (<em>class</em><em> of </em><em>BackgroundGeneratorBase</em><em> | </em><em>None</em>) – The background generator class used to create the background
generator instance.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
<a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">skyllh.core.background_generator.BackgroundGenerator</span></code></a> class
is used.</p></li>
<li><p><strong>sig_generator_cls</strong> (<em>subclass</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em>| </em><em>None</em>) – The signal generator class that should be used to create the signal
generator instance handling multiple datasets.
If set to None, the
<a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a>
class is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1786</span></em><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.construct_llhratio">
<span class="sig-name descname"><span class="pre">construct_llhratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.construct_llhratio" title="Link to this definition"></a></dt>
<dd><p>Constructs the log-likelihood (LLH) ratio function of the analysis.
This setups all the necessary analysis objects like detector signal
yields and dataset signal weights, constructs the log-likelihood ratio
functions for each dataset and the final composite LLH ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The instance of Minimizer that should be used to minimize the
negative of the log-likelihood ratio function.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>llhratio</strong> (<em>instance of MultiDatasetTCLLHRatio</em>) – The instance of MultiDatasetTCLLHRatio that implements the
log-likelihood-ratio function of the analysis.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.calculate_fluxmodel_scaling_factors">
<span class="sig-name descname"><span class="pre">calculate_fluxmodel_scaling_factors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mean_ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.analysis.MultiSourceMultiDatasetLLHRatioAnalysis.calculate_fluxmodel_scaling_factors" title="Link to this definition"></a></dt>
<dd><p>Calculates the factors the source’s fluxmodel has to be scaled
in order to obtain the given mean number of signal events in the
detector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mean_ns</strong> (<em>float</em>) – The mean number of signal events in the detector for which the
scaling factors will be calculated.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D ndarray holding the values of the global
fit parameters, which should be used for the flux calculation.
The order of the values must match the order the fit parameters were
defined in the parameter model mapper.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>factors</strong> (<em>instance of numpy ndarray</em>) – The (N_sources,)-shaped numpy ndarray of float holding the factors
the flux models of the sources need to be scaled in order to obtain
the given mean number of signal events in the detector.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.background_generation">
<span id="skyllh-core-background-generation-module"></span><h2>skyllh.core.background_generation module<a class="headerlink" href="#module-skyllh.core.background_generation" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generation.</span></span><span class="sig-name descname"><span class="pre">BackgroundGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for a detector specific background
generation method.</p>
<p>Constructs a new background generation method instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Notifies the background generation method about an updated
SourceHypoGroupManager instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod.generate_events">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod.generate_events" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to generate a <cite>mean</cite> number of background
events for the given dataset and its data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance describing the dataset for which background
events should get generated.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the data of the dataset for which
background events should get generated.</p></li>
<li><p><strong>mean</strong> (<em>float</em>) – The mean number of background events to generate.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments, which might be required for a
particular background generation method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg</strong> (<em>int</em>) – The number of generated background events.</p></li>
<li><p><strong>bkg_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the generated
background events. The number of events in this array might be less
than <code class="docutils literal notranslate"><span class="pre">n_bkg</span></code> if an event selection method was used for
optimization purposes. The difference <code class="docutils literal notranslate"><span class="pre">n_bkg</span> <span class="pre">-</span> <span class="pre">len(bkg_events)</span></code> is
then the number of pure background events in the generated
background event sample.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">41</span></em><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.BackgroundGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.background_generation.BackgroundGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generation.</span></span><span class="sig-name descname"><span class="pre">MCDataSamplingBkgGenMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_event_prob_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_mean_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_scrambler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_mc_data_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_event_selection_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.background_generation.BackgroundGenerationMethod" title="skyllh.core.background_generation.BackgroundGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundGenerationMethod</span></code></a></p>
<p>This class implements the method to generate background events from
monte-carlo (MC) data by sampling events from the MC data set according to a
probability value given for each event. Functions can be provided to get the
mean number of background events and the probability of each monte-carlo
event.</p>
<p>Creates a new instance of the MCDataSamplingBkgGenMethod class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>get_event_prob_func</strong> (<em>callable</em>) – <p>The function to get the background probability of each monte-carlo
event. The call signature of this function must be</p>
<blockquote>
<div><p>__call__(dataset, data, events)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is an instance of Dataset and <code class="docutils literal notranslate"><span class="pre">data</span></code> is an
instance of DatasetData of the data set for which background events
needs to get generated. The <code class="docutils literal notranslate"><span class="pre">events</span></code> argument holds the actual
set of events, for which the background event probabilities need to
get calculated.</p>
</p></li>
<li><p><strong>get_mean_func</strong> (<em>callable</em><em> | </em><em>None</em>) – <p>The function to get the mean number of background events.
The call signature of this function must be</p>
<blockquote>
<div><p>__call__(dataset, data, events)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is an instance of Dataset and <code class="docutils literal notranslate"><span class="pre">data</span></code> is an
instance of DatasetData of the data set for which background events
needs to get generated. The <cite>events</cite> argument holds the actual set
of events, for which the mean number of background events should get
calculated. This argument can be <cite>None</cite>, which means that the mean
number of background events to generate needs to get specified
through the <code class="docutils literal notranslate"><span class="pre">generate_events</span></code> method. However, if a pre event
selection method is provided, this argument cannot be <code class="docutils literal notranslate"><span class="pre">None</span></code>!</p>
</p></li>
<li><p><strong>data_scrambler</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.scrambling.DataScrambler" title="skyllh.core.scrambling.DataScrambler"><em>DataScrambler</em></a><em> | </em><em>None</em>) – If set to an instance of DataScrambler, the drawn monte-carlo
background events will get scrambled. This can ensure more
independent data trials. It is especially important when monte-carlo
statistics are low.</p></li>
<li><p><strong>keep_mc_data_fields</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The MC data field names that should be kept in order to be able to
calculate the background events rates by the functions
<code class="docutils literal notranslate"><span class="pre">get_event_prob_func</span></code> and <code class="docutils literal notranslate"><span class="pre">get_mean_func</span></code>. All other MC fields
will get dropped due to computational efficiency reasons.</p></li>
<li><p><strong>pre_event_selection_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a><em> | </em><em>None</em>) – If set to an instance of EventSelectionMethod, this method will
pre-select the MC events that will be used for later background
event generation. Using this pre-selection a large portion of the
MC data can be reduced prior to background event generation.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.get_event_prob_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_event_prob_func</span></span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.get_event_prob_func" title="Link to this definition"></a></dt>
<dd><p>The function to obtain the background probability for each
monte-carlo event of the data set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.get_mean_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_mean_func</span></span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.get_mean_func" title="Link to this definition"></a></dt>
<dd><p>The function to obtain the mean number of background events for the
data set. This can be None, which means that the mean number of
background events to generate needs to be specified through the
<cite>generate_events</cite> method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.data_scrambler">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_scrambler</span></span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.data_scrambler" title="Link to this definition"></a></dt>
<dd><p>The DataScrambler instance that should be used to scramble the drawn
monte-carlo background events to ensure more independent data trials.
This is especially important when monte-carlo statistics are low. It is
<cite>None</cite>, if no data scrambling should be used.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">116</span></em><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_data_id',</span> <span class="pre">'_cache_mc',</span> <span class="pre">'_cache_mc_event_bkg_prob',</span> <span class="pre">'_cache_mean',</span> <span class="pre">'_cache_mean_pre_selected',</span> <span class="pre">'_cache_random_choice',</span> <span class="pre">'_data_scrambler',</span> <span class="pre">'_get_event_prob_func',</span> <span class="pre">'_get_mean_func',</span> <span class="pre">'_keep_mc_data_field_names',</span> <span class="pre">'_pre_event_selection_method',</span> <span class="pre">'data_scrambler',</span> <span class="pre">'get_event_prob_func',</span> <span class="pre">'get_mean_func',</span> <span class="pre">'keep_mc_data_field_names',</span> <span class="pre">'pre_event_selection_method')</span></em><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.keep_mc_data_field_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">keep_mc_data_field_names</span></span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.keep_mc_data_field_names" title="Link to this definition"></a></dt>
<dd><p>The MC data field names that should be kept in order to be able to
calculate the background events rates by the functions
<code class="docutils literal notranslate"><span class="pre">get_event_prob_func</span></code> and <code class="docutils literal notranslate"><span class="pre">get_mean_func</span></code>. All other MC fields
will get dropped due to computational efficiency reasons.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.pre_event_selection_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pre_event_selection_method</span></span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.pre_event_selection_method" title="Link to this definition"></a></dt>
<dd><p>The instance of EventSelectionMethod that pre-selects the MC events,
which can be considered for background event generation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the instance of SourceHypoGroupManager of the
pre-event-selection method. Also it invalidates the data cache of this
background generation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generation.MCDataSamplingBkgGenMethod.generate_events">
<span class="sig-name descname"><span class="pre">generate_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod.generate_events" title="Link to this definition"></a></dt>
<dd><p>Generates a <code class="docutils literal notranslate"><span class="pre">mean</span></code> number of background events for the given
dataset and its data.</p>
<p>The procedure is as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>If the dataset has changed, calculate the background event
probability for each MC event and cache it.</p></li>
</ol>
<p>1.1. Calculate the mean number of bkg events for the entire MC.
1.2. Pre-select MC events if a pre event selection method is set.
1.3. Calculate the background drawing probability of each selected</p>
<blockquote>
<div><p>MC event.</p>
</div></blockquote>
<dl class="simple">
<dt>1.4. Calculate the mean number of bkg events for the selected MC</dt><dd><p>events.</p>
</dd>
</dl>
<ol class="arabic simple" start="2">
<li><p>Draw the bkg events based on the calculated bkg event
probability.</p></li>
<li><p>Scramble the drawn background events if a data scrambler is set.</p></li>
<li><p>Remove any MC specific data fields from the background events
DataFieldRecordArray instance.</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance describing the dataset for which background
events should get generated.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the data of the dataset for which
background events should get generated.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>None</em>) – The mean number of background events to generate.
Can be <cite>None</cite>. In that case the mean number of background events is
obtained through the <cite>get_mean_func</cite> function.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (default), the actual number of generated
background events will be drawn from a Poisson distribution with the
given mean number of background events.
If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> specifies the actual
number of generated background events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg</strong> (<em>int</em>) – The number of generated background events for the data set.</p></li>
<li><p><strong>bkg_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the generated
background events. The number of events can be less than <cite>n_bkg</cite>
if an event selection method is used.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generation.</span></span><span class="sig-name descname"><span class="pre">CompositeMCDataSamplingBkgGenMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bkg_component_rate_calc_func_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_event_prob_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_mean_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_scrambler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_mc_data_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_event_selection_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.background_generation.MCDataSamplingBkgGenMethod" title="skyllh.core.background_generation.MCDataSamplingBkgGenMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">MCDataSamplingBkgGenMethod</span></code></a></p>
<p>This background generation method samples background events from the
monte-carlo (MC) data. It supports a list of background components, which
depend on the sky position and hence whose event rates need to be calculated
for each individual trial after scrambling the MC sample.</p>
<p>Creates a new instance of CompositeMCDataSamplingBkgGenMethod.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bkg_component_rate_calc_func_dict</strong> (<em>dict</em>) – <p>The dictionary holding the name of the background component as key,
e.g. “gp”, and the background rate calculation function for that
component as value.
The call signature of each rate calculation function must be</p>
<blockquote>
<div><p>__call__(dataset, data, events)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is an instance of Dataset and <code class="docutils literal notranslate"><span class="pre">data</span></code> is an
instance of DatasetData of the data set for which background events
needs to get generated. The <code class="docutils literal notranslate"><span class="pre">events</span></code> argument holds the actual
set of events, for which the background rate needs to get
calculated.</p>
</p></li>
<li><p><strong>get_event_prob_func</strong> (<em>callable</em>) – <p>The function to get the background probability of each monte-carlo
event. The call signature of this function must be</p>
<blockquote>
<div><p>__call__(dataset, data, events)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is an instance of Dataset and <code class="docutils literal notranslate"><span class="pre">data</span></code> is an
instance of DatasetData of the data set for which background events
needs to get generated. The <code class="docutils literal notranslate"><span class="pre">events</span></code> argument holds the actual
set of events, for which the background event probabilities need to
get calculated.</p>
</p></li>
<li><p><strong>get_mean_func</strong> (<em>callable</em><em> | </em><em>None</em>) – <p>The function to get the mean number of background events.
The call signature of this function must be</p>
<blockquote>
<div><p>__call__(dataset, data, events)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">dataset</span></code> is an instance of Dataset and <code class="docutils literal notranslate"><span class="pre">data</span></code> is an
instance of DatasetData of the data set for which background events
needs to get generated. The <cite>events</cite> argument holds the actual set
of events, for which the mean number of background events should get
calculated. This argument can be <cite>None</cite>, which means that the mean
number of background events to generate needs to get specified
through the <code class="docutils literal notranslate"><span class="pre">generate_events</span></code> method. However, if a pre event
selection method is provided, this argument cannot be <code class="docutils literal notranslate"><span class="pre">None</span></code>!</p>
</p></li>
<li><p><strong>data_scrambler</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.scrambling.DataScrambler" title="skyllh.core.scrambling.DataScrambler"><em>DataScrambler</em></a><em> | </em><em>None</em>) – If set to an instance of DataScrambler, the monte-carlo events will
get scrambled before drawing the background events. This can ensure
more independent data trials. It is especially important when
monte-carlo statistics are low.</p></li>
<li><p><strong>keep_mc_data_fields</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The MC data field names that should be kept in order to be able to
calculate the background events rates by the functions
<code class="docutils literal notranslate"><span class="pre">get_event_prob_func</span></code> and <code class="docutils literal notranslate"><span class="pre">get_mean_func</span></code>. All other MC fields
will get dropped due to computational efficiency reasons.</p></li>
<li><p><strong>pre_event_selection_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a><em> | </em><em>None</em>) – If set to an instance of EventSelectionMethod, this method will
pre-select the MC events that will be used for later background
event generation. Using this pre-selection a large portion of the
MC data can be reduced prior to background event generation.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">533</span></em><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_component_rate_calc_func_dict',</span> <span class="pre">'bkg_component_rate_calc_func_dict')</span></em><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.bkg_component_rate_calc_func_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_component_rate_calc_func_dict</span></span><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.bkg_component_rate_calc_func_dict" title="Link to this definition"></a></dt>
<dd><p>The dictionary holding the background components (as key) and their
rate calculation functions (as value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.generate_events">
<span class="sig-name descname"><span class="pre">generate_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generation.CompositeMCDataSamplingBkgGenMethod.generate_events" title="Link to this definition"></a></dt>
<dd><p>Generates a <code class="docutils literal notranslate"><span class="pre">mean</span></code> number of background events for the given
monte-carlo dataset and its data.</p>
<p>The procedure is as follows:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Scramble all MC events if a data scrambler is set.</p></li>
<li><p>Calculate the rate for each background component for each MC
event of the entire MC.</p></li>
<li><p>Calculate the mean number of bkg events for the entire MC.</p></li>
<li><p>Pre-select MC events if a pre event selection method is set.</p></li>
<li><p>Calculate the drawing probability of each selected MC event.</p></li>
<li><p>Calculate the mean number of bkg events for the selected MC
events.</p></li>
<li><p>Draw the bkg events based on the calculated bkg event
probability.</p></li>
<li><p>Remove any MC specific data fields.</p></li>
</ol>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The Dataset instance describing the dataset for which background
events should get generated.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData instance holding the data of the dataset for which
background events should get generated.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>None</em>) – The mean number of background events to generate.
Can be <cite>None</cite>. In that case the mean number of background events is
obtained through the <cite>get_mean_func</cite> function.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> (default), the actual number of generated
background events will be drawn from a Poisson distribution with the
given mean number of background events.
If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> specifies the actual
number of generated background events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg</strong> (<em>int</em>) – The number of generated background events for the data set.</p></li>
<li><p><strong>bkg_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the generated
background events. The number of events can be less than <cite>n_bkg</cite>
if an event selection method is used.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.background_generator">
<span id="skyllh-core-background-generator-module"></span><h2>skyllh.core.background_generator module<a class="headerlink" href="#module-skyllh.core.background_generator" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generator.</span></span><span class="sig-name descname"><span class="pre">BackgroundGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for all background generator classes in
SkyLLH. It defines the interface for a background generator.</p>
<p>Constructs a new instance of BackgroundGenerator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bkg_gen_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generation.BackgroundGenerationMethod" title="skyllh.core.background_generation.BackgroundGenerationMethod"><em>BackgroundGenerationMethod</em></a>) – The optional background event generation method, which should be
used to generate events.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>This method should be reimplemented when the background generator
depends on the sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator.generate_background_events">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_background_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator.generate_background_events" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to generate a mean number of background
events for the datasets of this background generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments, which will be passed to the
<code class="docutils literal notranslate"><span class="pre">generate_events</span></code> method of the background generation method
instance. Usual keyword arguments are <cite>mean</cite>, the mean number of
background events to generate, and <cite>poisson</cite>, the flag if the number
of background events should get drawn from a Poisson distribution
with the given mean number of background events as mean.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg_list</strong> (<em>list of int</em>) – The number of generated background events.</p></li>
<li><p><strong>bkg_events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list of instance of DataFieldRecordArray holding the generated
background events. The number of events can be less than stated in
<cite>n_bkg_list</cite> if an event selection method is used.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">27</span></em><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.BackgroundGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.background_generator.BackgroundGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generator.</span></span><span class="sig-name descname"><span class="pre">DatasetBackgroundGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_gen_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundGenerator</span></code></a></p>
<p>This class provides a background generator for a particular dataset.
It holds a background generation method which is used to generate the
background events.</p>
<p>Constructs a new instance of BackgroundGenerator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bkg_gen_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generation.BackgroundGenerationMethod" title="skyllh.core.background_generation.BackgroundGenerationMethod"><em>BackgroundGenerationMethod</em></a>) – The optional background event generation method, which should be
used to generate events.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.dataset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset</span></span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.dataset" title="Link to this definition"></a></dt>
<dd><p>The instance of Dataset for which background events should get
generated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.data" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetData holding the experimental and simulation
data of the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.bkg_gen_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_gen_method</span></span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.bkg_gen_method" title="Link to this definition"></a></dt>
<dd><p>The instance of BackgroundGenerationMethod which should be used to
generate background events. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the SourceHypoGroupManager instance of the background
generation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.generate_background_events">
<span class="sig-name descname"><span class="pre">generate_background_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.generate_background_events" title="Link to this definition"></a></dt>
<dd><p>Generates a mean number of background events for the dataset of this
background generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments, which will be passed to the
<code class="docutils literal notranslate"><span class="pre">generate_events</span></code> method of the background generation method
instance. Usual keyword arguments are <cite>mean</cite>, the mean number of
background events to generate, and <cite>poisson</cite>, the flag if the number
of background events should get drawn from a Poisson distribution
with the given mean number of background events as mean.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg_list</strong> (<em>list of int</em>) – The list of length 1 holding the number of generated background
events for the dataset.</p></li>
<li><p><strong>bkg_events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list of length 1 holding the instance of DataFieldRecordArray
holding the generated background events. The number of events can be
less than stated in <code class="docutils literal notranslate"><span class="pre">n_bkg_list</span></code> if an event selection method is
used.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">97</span></em><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.DatasetBackgroundGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_gen_method',</span> <span class="pre">'_data',</span> <span class="pre">'_dataset',</span> <span class="pre">'bkg_gen_method',</span> <span class="pre">'data',</span> <span class="pre">'dataset')</span></em><a class="headerlink" href="#skyllh.core.background_generator.DatasetBackgroundGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.background_generator.</span></span><span class="sig-name descname"><span class="pre">MultiDatasetBackgroundGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_generator_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">BackgroundGenerator</span></code></a></p>
<p>This is a background generator class handling multiple datasets by using
the individual background generator instances for each dataset. This is the
most general way to support multiple datasets of different formats and
background generation.</p>
<p>Constructs a new instance of MultiDatasetBackgroundGenerator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The list of Dataset instances for which background events should get
generated for.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
<li><p><strong>bkg_generator_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.background_generator.BackgroundGenerator" title="skyllh.core.background_generator.BackgroundGenerator"><em>BackgroundGenerator</em></a>) – The list of BackgroundGenerator instances, one for each dataset.
The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">223</span></em><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_generator_list',</span> <span class="pre">'_data_list',</span> <span class="pre">'_dataset_list',</span> <span class="pre">'bkg_generator_list',</span> <span class="pre">'data_list',</span> <span class="pre">'dataset_list')</span></em><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.dataset_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_list</span></span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.dataset_list" title="Link to this definition"></a></dt>
<dd><p>The list of Dataset instances for which background events should get
generated for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.data_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_list</span></span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.data_list" title="Link to this definition"></a></dt>
<dd><p>The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of the <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>
property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.bkg_generator_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_generator_list</span></span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.bkg_generator_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of BackgroundGenerator, one for each dataset.
The order must match the order of the <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code> property.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Calls the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code> method of each individual dataset
background generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.background_generator.MultiDatasetBackgroundGenerator.generate_background_events">
<span class="sig-name descname"><span class="pre">generate_background_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_bkg_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.background_generator.MultiDatasetBackgroundGenerator.generate_background_events" title="Link to this definition"></a></dt>
<dd><p>Generates a mean number of background events for each individual
dataset of this multi-dataset background generator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to generate
random numbers from.</p></li>
<li><p><strong>mean_n_bkg_list</strong> (<em>list</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The mean number of background events that should be generated for
each dataset. If set to None (the default), the individual
background generator instance needs to obtain this number itself.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments, which will be passed to the
<code class="docutils literal notranslate"><span class="pre">generate_background_events</span></code> method of the individual background
generator instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_bkg_events_list</strong> (<em>list of int</em>) – The list holding the number of generated background events for each
dataset.</p></li>
<li><p><strong>bkg_events_list</strong> (<em>list of instance of DataFieldRecordArray</em>) – The list holding the instance of DataFieldRecordArray holding the
generated background events of each dataset. The number of events
can be less than stated in <code class="docutils literal notranslate"><span class="pre">n_bkg_list</span></code> if an event selection
method is used.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.backgroundpdf">
<span id="skyllh-core-backgroundpdf-module"></span><h2>skyllh.core.backgroundpdf module<a class="headerlink" href="#module-skyllh.core.backgroundpdf" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">backgroundpdf</span></code> module contains background PDF classes for the
likelihood function.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">BackgroundMultiDimGridPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.MultiDimGridPDF" title="skyllh.core.pdf.MultiDimGridPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDimGridPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This class provides a multi-dimensional background PDF defined on a grid.
The PDF is created from pre-calculated PDF data on a grid. The grid data is
interpolated using a <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RegularGridInterpolator.html#scipy.interpolate.RegularGridInterpolator" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RegularGridInterpolator</span></code></a>
instance.</p>
<p>Creates a new <a class="reference internal" href="#skyllh.core.pdf.MultiDimGridPDF" title="skyllh.core.pdf.MultiDimGridPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDimGridPDF</span></code></a> instance that
is also derived from <a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a>.</p>
<p>For the documentation of arguments see the documentation of the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__init__()</span></code> method.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">19</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundMultiDimGridPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.backgroundpdf.</span></span><span class="sig-name descname"><span class="pre">BackgroundTimePDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_flux_profile</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.TimePDF" title="skyllh.core.pdf.TimePDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimePDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This class provides a background time PDF class.</p>
<p>Creates a new signal time PDF instance for a given time flux profile
and detector live time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – An instance of Livetime, which provides the detector live-time
information.</p></li>
<li><p><strong>time_flux_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><em>TimeFluxProfile</em></a>) – The signal’s time flux profile.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the background time PDF with new trial data. Because this
PDF does not depend on any parameters, the probability density values
can be pre-computed here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF value. The following data fields must
exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code><span class="classifier">float</span></dt><dd><p>The MJD time of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF.get_pd" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF value. The following data fields must
exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code><span class="classifier">float</span></dt><dd><p>The MJD time of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>params_recarray</strong> (<em>None</em>) – Unused interface argument.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_events,)-shaped numpy ndarray holding the background
probability density value for each event.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each global fit parameter.
The background PDF does not depend on any global fit parameter,
hence, this is an empty dictionary.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">41</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.backgroundpdf.BackgroundTimePDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pd',)</span></em><a class="headerlink" href="#skyllh.core.backgroundpdf.BackgroundTimePDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.binning">
<span id="skyllh-core-binning-module"></span><h2>skyllh.core.binning module<a class="headerlink" href="#module-skyllh.core.binning" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.binning.get_bincenters_from_binedges">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.binning.</span></span><span class="sig-name descname"><span class="pre">get_bincenters_from_binedges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.get_bincenters_from_binedges" title="Link to this definition"></a></dt>
<dd><p>Calculates the bin center values from the given bin edge values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>edges</strong> (<em>1D numpy ndarray</em>) – The (n+1,)-shaped 1D ndarray holding the bin edge values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>bincenters</strong> (<em>1D numpy ndarray</em>) – The (n,)-shaped 1D ndarray holding the bin center values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.binning.get_binedges_from_bincenters">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.binning.</span></span><span class="sig-name descname"><span class="pre">get_binedges_from_bincenters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">centers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.get_binedges_from_bincenters" title="Link to this definition"></a></dt>
<dd><p>Calculates the bin edges from the given bin center values. The bin center
values must be evenly spaced.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>centers</strong> (<em>1D numpy ndarray</em>) – The (n,)-shaped 1D ndarray holding the bin center values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>edges</strong> (<em>1D numpy ndarray</em>) – The (n+1,)-shaped 1D ndarray holding the bin edge values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.binning.get_bin_indices_from_lower_and_upper_binedges">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.binning.</span></span><span class="sig-name descname"><span class="pre">get_bin_indices_from_lower_and_upper_binedges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">le</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ue</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.get_bin_indices_from_lower_and_upper_binedges" title="Link to this definition"></a></dt>
<dd><p>Returns the bin indices for the given values which must fall into bins
defined by the given lower and upper bin edges.</p>
<p>Note: The upper edge is not included in the bin.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>le</strong> (<em>(</em><em>m</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em>) – The lower bin edges.</p></li>
<li><p><strong>ue</strong> (<em>(</em><em>m</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em>) – The upper bin edges.</p></li>
<li><p><strong>values</strong> (<em>(</em><em>n</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em>) – The values for which to get the bin indices.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>idxs</strong> (<em>(n,)-shaped 1D numpy ndarray</em>) – The bin indices of the given values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.binning.</span></span><span class="sig-name descname"><span class="pre">BinningDefinition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binedges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The BinningDefinition class provides a structure to hold histogram
binning definitions for an analysis.</p>
<p>Creates a new binning definition object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p></li>
<li><p><strong>binedges</strong> (<em>sequence</em><em> of </em><em>float</em>) – The sequence of the bin edges, which should be used for the binning.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.__eq__" title="Link to this definition"></a></dt>
<dd><p>Checks if object <code class="docutils literal notranslate"><span class="pre">other</span></code> is equal to this BinningDefinition object.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.name" title="Link to this definition"></a></dt>
<dd><p>The name of the binning setting. This must be an unique name
for all the different binning settings used within a season.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.binedges">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">binedges</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.binedges" title="Link to this definition"></a></dt>
<dd><p>The numpy.ndarray holding the bin edges.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.nbins">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nbins</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.nbins" title="Link to this definition"></a></dt>
<dd><p>The number of bins, based on the number of bin edges (minus 1).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.bincenters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bincenters</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.bincenters" title="Link to this definition"></a></dt>
<dd><p>The center values of the bins.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.binwidths">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">binwidths</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.binwidths" title="Link to this definition"></a></dt>
<dd><p>(read-only) The widths of the bins.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.lower_edge">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lower_edge</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.lower_edge" title="Link to this definition"></a></dt>
<dd><p>The lowest bin edge of the binning.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.upper_edge">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upper_edge</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.upper_edge" title="Link to this definition"></a></dt>
<dd><p>The upper most edge of the binning.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range</span></span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.range" title="Link to this definition"></a></dt>
<dd><p>The tuple (lower_edge, upper_edge) of the binning.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.any_data_out_of_range">
<span class="sig-name descname"><span class="pre">any_data_out_of_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.any_data_out_of_range" title="Link to this definition"></a></dt>
<dd><p>Checks if any of the given data is outside the range of this binning
definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The 1D ndarray with the data values to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>outofrange</strong> (<em>bool</em>) – True if any data value is outside the binning range.
False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.get_binwidth_from_value">
<span class="sig-name descname"><span class="pre">get_binwidth_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.get_binwidth_from_value" title="Link to this definition"></a></dt>
<dd><p>Returns the width of the bin the given value falls into.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.get_out_of_range_data">
<span class="sig-name descname"><span class="pre">get_out_of_range_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.get_out_of_range_data" title="Link to this definition"></a></dt>
<dd><p>Returns the data values which are outside the range of this binning
definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The 1D ndarray with the data values to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>oor_data</strong> (<em>instance of numpy.ndarray</em>) – The 1D ndarray with data outside the range of this binning
definition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.get_subset">
<span class="sig-name descname"><span class="pre">get_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lower_edge</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">upper_edge</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.get_subset" title="Link to this definition"></a></dt>
<dd><p>Creates a new BinningDefinition instance which contains only a subset
of the bins of this BinningDefinition instance. The range of the subset
is given by a lower and upper edge value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lower_edge</strong> (<em>float</em>) – The lower edge value of the subset.</p></li>
<li><p><strong>upper_edge</strong> (<em>float</em>) – The upper edge value of the subset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binning</strong> (<em>instance of BinningDefinition</em>) – The new instance of BinningDefinition holding the binning subset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">99</span></em><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.binning.BinningDefinition.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_binedges',</span> <span class="pre">'_name',</span> <span class="pre">'binedges',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.binning.BinningDefinition.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.binning.</span></span><span class="sig-name descname"><span class="pre">UsesBinning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.UsesBinning" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a classifier class that can be used to define, that a class uses
binning information for one or more dimensions.</p>
<p>This class defines the property <code class="docutils literal notranslate"><span class="pre">binnings</span></code>, which is a list of
BinningDefinition objects.</p>
<p>This class provides the method <code class="docutils literal notranslate"><span class="pre">has_same_binning_as(obj)</span></code> to determine if
a given object (that also uses binning) has the same binning.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.binnings">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">binnings</span></span><a class="headerlink" href="#skyllh.core.binning.UsesBinning.binnings" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of BinningDefinition objects, one for each
dimension.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.binning.UsesBinning.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">290</span></em><a class="headerlink" href="#skyllh.core.binning.UsesBinning.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_binning_name2idx',</span> <span class="pre">'_binnings')</span></em><a class="headerlink" href="#skyllh.core.binning.UsesBinning.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.binning_ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">binning_ndim</span></span><a class="headerlink" href="#skyllh.core.binning.UsesBinning.binning_ndim" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of dimensions that uses binning.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.has_same_binning_as">
<span class="sig-name descname"><span class="pre">has_same_binning_as</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.UsesBinning.has_same_binning_as" title="Link to this definition"></a></dt>
<dd><p>Checks if this object has the same binning as the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.binning.UsesBinning" title="skyllh.core.binning.UsesBinning"><em>UsesBinning</em></a>) – The object that should be checked for same binning.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if <code class="docutils literal notranslate"><span class="pre">obj</span></code> uses the same binning, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.add_binning">
<span class="sig-name descname"><span class="pre">add_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.UsesBinning.add_binning" title="Link to this definition"></a></dt>
<dd><p>Adds the given binning definition to the list of binnings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binning</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The binning definition to add.</p></li>
<li><p><strong>name</strong> (<em>str</em><em> | </em><em>(</em><em>default</em><em>) </em><em>None</em>) – The name of the binning. If not None and it’s different to the
name of the given binning definition, a copy of the
BinningDefinition object is made and the new name is set.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.binning.UsesBinning.get_binning">
<span class="sig-name descname"><span class="pre">get_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.binning.UsesBinning.get_binning" title="Link to this definition"></a></dt>
<dd><p>Retrieves the binning definition of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> | </em><em>int</em>) – The name of the binning definition. A string specifies the name and
an integer the dimension index.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binning</strong> (<em>instance of BinningDefinition</em>) – The binning definition of the given name.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.catalog">
<span id="skyllh-core-catalog-module"></span><h2>skyllh.core.catalog module<a class="headerlink" href="#module-skyllh.core.catalog" title="Link to this heading"></a></h2>
<p>This module provides classes for defining source catalogs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.catalog.SourceCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.catalog.</span></span><span class="sig-name descname"><span class="pre">SourceCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.catalog.SourceCatalog" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.source_model.SourceModelCollection" title="skyllh.core.source_model.SourceModelCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceModelCollection</span></code></a></p>
<p>This class describes a catalog of sources. It is derived from
SourceModelCollection. A catalog has a name.</p>
<p>Creates a new source catalog.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the catalog.</p></li>
<li><p><strong>sources</strong> (<em>sequence</em><em> of </em><em>source_type</em><em> | </em><em>None</em>) – The sequence of sources this catalog should be initialized with.</p></li>
<li><p><strong>source_type</strong> (<em>type</em><em> | </em><em>None</em>) – The type of the source class. If set to None (default), the
default type defined by SourceCollection will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.catalog.SourceCatalog.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.catalog.SourceCatalog.name" title="Link to this definition"></a></dt>
<dd><p>The name of the catalog.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.catalog.SourceCatalog.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#skyllh.core.catalog.SourceCatalog.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.catalog.SourceCatalog.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_name',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.catalog.SourceCatalog.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.catalog.SourceCatalog.as_SourceModelCollection">
<span class="sig-name descname"><span class="pre">as_SourceModelCollection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.catalog.SourceCatalog.as_SourceModelCollection" title="Link to this definition"></a></dt>
<dd><p>Creates a SourceModelCollection object for this catalog and
returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>source_model_collection</strong> (<em>instance of SourceModelCollection</em>) – The created instance of SourceModelCollection.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.config">
<span id="skyllh-core-config-module"></span><h2>skyllh.core.config module<a class="headerlink" href="#module-skyllh.core.config" title="Link to this heading"></a></h2>
<p>This file contains the global configuration dictionary, together with some
convenience utility functions to set different configuration settings.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.config.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.config.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><a class="headerlink" href="#skyllh.core.config.Config" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>This class, derived from dict, holds the a local configuration state.</p>
<p>Initializes a new Config instance holding the base configuration.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.from_yaml">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_yaml</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.from_yaml" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.from_dict" title="Link to this definition"></a></dt>
<dd><p>Creates a new instance of Config holding the base configuration and
updated by the given configuration dictionary using the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.update()</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>user_dict</strong> (<em>dict</em>) – The dictionary containing the to-be-updated configuration items.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cfg</strong> (<em>instance of Config</em>) – The instance of Config holding the base configuration and updated by
the given configuration dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.config.Config.is_tracing_enabled">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_tracing_enabled</span></span><a class="headerlink" href="#skyllh.core.config.Config.is_tracing_enabled" title="Link to this definition"></a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, if tracing mode is enabled, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.disable_tracing">
<span class="sig-name descname"><span class="pre">disable_tracing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.disable_tracing" title="Link to this definition"></a></dt>
<dd><p>Disables the tracing mode of SkyLLH.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> (<em>instance of Config</em>) – The updated instance of Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.enable_tracing">
<span class="sig-name descname"><span class="pre">enable_tracing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.enable_tracing" title="Link to this definition"></a></dt>
<dd><p>Enables the tracing mode of SkyLLH.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>self</strong> (<em>instance of Config</em>) – The updated instance of Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.get_wd">
<span class="sig-name descname"><span class="pre">get_wd</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.get_wd" title="Link to this definition"></a></dt>
<dd><p>Retrieves the absolute path to the working directory as configured in
this configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>wd</strong> (<em>str</em>) – The absolute path to the project’s working directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.set_enable_tracing">
<span class="sig-name descname"><span class="pre">set_enable_tracing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.set_enable_tracing" title="Link to this definition"></a></dt>
<dd><p>Sets the setting for tracing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>flag</strong> (<em>bool</em>) – The flag if tracing should be enabled (<code class="docutils literal notranslate"><span class="pre">True</span></code>) or disabled
(<code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>instance of Config</em>) – The updated instance of Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.set_internal_units">
<span class="sig-name descname"><span class="pre">set_internal_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.set_internal_units" title="Link to this definition"></a></dt>
<dd><p>Sets the units used internally to compute quantities. These units
must match the units used in the monte-carlo files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The internal unit that should be used for angles.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the unit is not changed.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The internal unit that should be used for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the unit is not changed.</p></li>
<li><p><strong>length_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The internal unit that should be used for length.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the unit is not changed.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The internal unit that should be used for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the unit is not changed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>instance of Config</em>) – The updated instance of Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.set_ncpu">
<span class="sig-name descname"><span class="pre">set_ncpu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ncpu</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.set_ncpu" title="Link to this definition"></a></dt>
<dd><p>Sets the global setting for the number of CPUs to use, when
parallelization is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ncpu</strong> (<em>int</em>) – The number of CPUs.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>instance of Config</em>) – The updated instance of Config.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.set_wd">
<span class="sig-name descname"><span class="pre">set_wd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.set_wd" title="Link to this definition"></a></dt>
<dd><p>Sets the project’s working directory configuration variable and adds
it to the Python path variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p></li>
<li><p><strong>path</strong> (<em>str</em><em> | </em><em>None</em>) – The path of the project’s working directory. This can be a path
relative to the path given by <code class="docutils literal notranslate"><span class="pre">os.path.getcwd</span></code>, the current
working directory of the program.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the path is taken from the working directory
setting of the given configuration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>wd</strong> (<em>str</em>) – The absolute path to the project’s working directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.to_internal_time_unit">
<span class="sig-name descname"><span class="pre">to_internal_time_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_unit</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.to_internal_time_unit" title="Link to this definition"></a></dt>
<dd><p>Calculates the conversion factor from the given time unit to the
internal time unit specified by this local configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em>) – The time unit from which to convert to the internal time unit.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.config.Config.wd_filename">
<span class="sig-name descname"><span class="pre">wd_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.Config.wd_filename" title="Link to this definition"></a></dt>
<dd><p>Generates the fully qualified file name under the project’s working
directory of the given file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The name of the file for which to generate the working directory
path file name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pathfilename</strong> (<em>str</em>) – The generated fully qualified path file name of <code class="docutils literal notranslate"><span class="pre">filename</span></code> with
the project’s working directory prefixed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.config.Config.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">97</span></em><a class="headerlink" href="#skyllh.core.config.Config.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.config.Config.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.config.Config.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.config.HasConfig">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.config.</span></span><span class="sig-name descname"><span class="pre">HasConfig</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.config.HasConfig" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Classifier class defining the cfg property. Classes that derive from
this class indicate, that they hold an instance of Config.</p>
<p>Creates a new instance having the property <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.config.HasConfig.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.config.HasConfig.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.config.HasConfig.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">397</span></em><a class="headerlink" href="#skyllh.core.config.HasConfig.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.config.HasConfig.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cfg',</span> <span class="pre">'cfg')</span></em><a class="headerlink" href="#skyllh.core.config.HasConfig.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.config.HasConfig.cfg">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cfg</span></span><a class="headerlink" href="#skyllh.core.config.HasConfig.cfg" title="Link to this definition"></a></dt>
<dd><p>The instance of Config holding the local configuration.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.datafields">
<span id="skyllh-core-datafields-module"></span><h2>skyllh.core.datafields module<a class="headerlink" href="#module-skyllh.core.datafields" title="Link to this heading"></a></h2>
<p>This module provides functionality for defining which data fields of a data
file is required at what stage.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.datafields.</span></span><span class="sig-name descname"><span class="pre">DataFieldStages</span></span><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides the data field stage values, which are individual
bits of an integer value to allow for multiple stages of a data field.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.DATAPREPARATION_EXP">
<span class="sig-name descname"><span class="pre">DATAPREPARATION_EXP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.DATAPREPARATION_EXP" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.DATAPREPARATION_MC">
<span class="sig-name descname"><span class="pre">DATAPREPARATION_MC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.DATAPREPARATION_MC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.ANALYSIS_EXP">
<span class="sig-name descname"><span class="pre">ANALYSIS_EXP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">4</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.ANALYSIS_EXP" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.ANALYSIS_MC">
<span class="sig-name descname"><span class="pre">ANALYSIS_MC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.ANALYSIS_MC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.and_check">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">and_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stages</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.and_check" title="Link to this definition"></a></dt>
<dd><p>Checks if the given stage matches all of the given stages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>int</em>) – The stage value, which should get checked.</p></li>
<li><p><strong>stages</strong> (<em>int</em><em> | </em><em>sequence</em><em> of </em><em>int</em>) – The stage(s) to check for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given stage contains all of the given stages,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.or_check">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">or_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stages</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.or_check" title="Link to this definition"></a></dt>
<dd><p>Checks if the given stage matches any of the given stages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> (<em>int</em>) – The stage value, which should get checked.</p></li>
<li><p><strong>stages</strong> (<em>int</em><em> | </em><em>sequence</em><em> of </em><em>int</em>) – The stage(s) to check for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given stage contains any of the given stages,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFieldStages.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFieldStages.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFields">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.datafields.</span></span><span class="sig-name descname"><span class="pre">DataFields</span></span><a class="headerlink" href="#skyllh.core.datafields.DataFields" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFields.get_joint_names">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_joint_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datafields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stages</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.datafields.DataFields.get_joint_names" title="Link to this definition"></a></dt>
<dd><p>Returns the list of data field names that match at least one of the
given stages, i.e. the joint set of data fields given the stages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datafields</strong> (<em>dict</em>) – The dictionary of data field names as keys and stages as values.</p></li>
<li><p><strong>stages</strong> (<em>int</em><em> | </em><em>sequence</em><em> of </em><em>int</em>) – The stage(s) for which data field names should get returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>datafield_names</strong> (<em>list of str</em>) – The list of data field names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFields.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">79</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFields.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.datafields.DataFields.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.datafields.DataFields.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.dataset">
<span id="skyllh-core-dataset-module"></span><h2>skyllh.core.dataset module<a class="headerlink" href="#module-skyllh.core.dataset" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">DatasetOrigin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transfer_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">post_transfer_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The DatasetOrigin class provides information about the origin of a
dataset, so the files of a dataset can be downloaded from the origin.</p>
<p>Creates a new instance to define the origin of a dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base_path</strong> (<em>str</em>) – The dataset’s base directory at the origin.</p></li>
<li><p><strong>sub_path</strong> (<em>str</em>) – The dataset’s sub directory at the origin.</p></li>
<li><p><strong>transfer_func</strong> (<em>callable</em>) – <p>The callable object that should be used to transfer the dataset.
This function requires the following call signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="fm">__call__</span><span class="p">(</span><span class="n">origin</span><span class="p">,</span> <span class="n">file_list</span><span class="p">,</span> <span class="n">dst_base_path</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">origin</span></code> is an instance of DatasetOrigin, <code class="docutils literal notranslate"><span class="pre">file_list</span></code> is
a list of str specifying the files to transfer, <code class="docutils literal notranslate"><span class="pre">dst_base_path</span></code> is
an instance of str specifying the destination base path on the local
machine, <code class="docutils literal notranslate"><span class="pre">user</span></code> is the user name required to connect to the remote
host, and <code class="docutils literal notranslate"><span class="pre">password</span></code> is the password for the user name required to
connect to the remote host.</p>
</p></li>
<li><p><strong>filename</strong> (<em>str</em><em> | </em><em>None</em>) – If the origin is not a directory but a file, this specifies the
filename.</p></li>
<li><p><strong>host</strong> (<em>str</em><em> | </em><em>None</em>) – The name or IP of the remote host.</p></li>
<li><p><strong>port</strong> (<em>int</em><em> | </em><em>None</em>) – The port number to use when connecting to the remote host.</p></li>
<li><p><strong>username</strong> (<em>str</em><em> | </em><em>None</em>) – The user name required to connect to the remote host.</p></li>
<li><p><strong>password</strong> (<em>str</em><em> | </em><em>None</em>) – The password for the user name required to connect to the remote
host.</p></li>
<li><p><strong>post_transfer_func</strong> (<em>callable</em><em> | </em><em>None</em>) – <p>The callable object that should be called after the dataset has been
transferred by the <a href="#id1"><span class="problematic" id="id2">``</span></a>transfer_func``function. It can be used to
extract an archive file.
This function requires the following call signature:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="fm">__call__</span><span class="p">(</span><span class="n">ds</span><span class="p">,</span> <span class="n">dst_path</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">ds</span></code> is an instance of <code class="docutils literal notranslate"><span class="pre">Dataset</span></code>, and <code class="docutils literal notranslate"><span class="pre">dst_path</span></code> is the
destination path.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.base_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_path</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.base_path" title="Link to this definition"></a></dt>
<dd><p>The dataset’s base directory at the origin.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.sub_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sub_path</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.sub_path" title="Link to this definition"></a></dt>
<dd><p>The dataset’s sub directory at the origin.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.root_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_dir</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.root_dir" title="Link to this definition"></a></dt>
<dd><p>(read-only) The dataset’s root directory at the origin, which is
the combination of <code class="docutils literal notranslate"><span class="pre">base_path</span></code> and <code class="docutils literal notranslate"><span class="pre">sub_path</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.transfer_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transfer_func</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.transfer_func" title="Link to this definition"></a></dt>
<dd><p>The callable object that should be used to transfer the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.filename">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">filename</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.filename" title="Link to this definition"></a></dt>
<dd><p>The file name if the origin is a file instead of a directory.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.is_directory">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_directory</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.is_directory" title="Link to this definition"></a></dt>
<dd><p>(read-only) Flag if the origin refers to a directory (<code class="docutils literal notranslate"><span class="pre">True</span></code>) or a
file (<code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.host">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">host</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.host" title="Link to this definition"></a></dt>
<dd><p>The name or IP of the remote host.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.port">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">port</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.port" title="Link to this definition"></a></dt>
<dd><p>The port number to use when connecting to the remote host.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.username">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">username</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.username" title="Link to this definition"></a></dt>
<dd><p>The user name required to connect to the remote host.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.password">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">password</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.password" title="Link to this definition"></a></dt>
<dd><p>The password for the user name required to connect to the remote
host.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.post_transfer_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">post_transfer_func</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.post_transfer_func" title="Link to this definition"></a></dt>
<dd><p>The callable object that should be called after the dataset has been
transferred by the <code class="docutils literal notranslate"><span class="pre">transfer_func</span></code> callable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.is_locally_available">
<span class="sig-name descname"><span class="pre">is_locally_available</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.is_locally_available" title="Link to this definition"></a></dt>
<dd><p>Checks if the dataset origin is available locally by checking if the
given path exists on the local host.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the path specified in this dataset origin is an absolute
path and exists on the local host, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">59</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetOrigin.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_base_path',</span> <span class="pre">'_filename',</span> <span class="pre">'_host',</span> <span class="pre">'_password',</span> <span class="pre">'_port',</span> <span class="pre">'_post_transfer_func',</span> <span class="pre">'_sub_path',</span> <span class="pre">'_transfer_func',</span> <span class="pre">'_username',</span> <span class="pre">'base_path',</span> <span class="pre">'filename',</span> <span class="pre">'host',</span> <span class="pre">'password',</span> <span class="pre">'port',</span> <span class="pre">'post_transfer_func',</span> <span class="pre">'sub_path',</span> <span class="pre">'transfer_func',</span> <span class="pre">'username')</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetOrigin.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.TemporaryTextFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">TemporaryTextFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">420</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.TemporaryTextFile" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a temporary text file with a given content while
being within a with statement. Exiting the with statement will remove the
temporary text file.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">TemporaryTextFile</span><span class="p">(</span><span class="s1">&#39;myfile.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;My file content&#39;</span><span class="p">):</span>
    <span class="c1"># Do something that requires the text file ``myfile.txt``.</span>
<span class="c1"># At this point the text file is removed again.</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.TemporaryTextFile.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.TemporaryTextFile.__enter__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.TemporaryTextFile.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_tb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.TemporaryTextFile.__exit__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.TemporaryTextFile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">331</span></em><a class="headerlink" href="#skyllh.core.dataset.TemporaryTextFile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.TemporaryTextFile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('mode',</span> <span class="pre">'pathfilename',</span> <span class="pre">'text')</span></em><a class="headerlink" href="#skyllh.core.dataset.TemporaryTextFile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="skyllh.core.dataset.SystemCommandError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">SystemCommandError</span></span><a class="headerlink" href="#skyllh.core.dataset.SystemCommandError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>This custom exception will be raised when a system command failed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.SystemCommandError.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">367</span></em><a class="headerlink" href="#skyllh.core.dataset.SystemCommandError.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.SystemCommandError.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.dataset.SystemCommandError.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransferError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">DatasetTransferError</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransferError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>This custom exception defines an error that should be raised when the
actual transfer of the dataset files failed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransferError.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">375</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetTransferError.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransferError.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetTransferError.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">DatasetTransfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for a dataset transfer mechanism.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.execute_system_command">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">execute_system_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">success_rcode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.execute_system_command" title="Link to this definition"></a></dt>
<dd><p>Executes the given system command via a <code class="docutils literal notranslate"><span class="pre">os.system</span></code> call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cmd</strong> (<em>str</em>) – The system command to execute.</p></li>
<li><p><strong>logger</strong> (<em>instance</em><em> of </em><em>logging.Logger</em>) – The logger to use for debug messages.</p></li>
<li><p><strong>success_rcode</strong> (<em>int</em><em> | </em><em>None</em>) – The return code that indicates success of the system command.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, no return code checking is performed.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#skyllh.core.dataset.SystemCommandError" title="skyllh.core.dataset.SystemCommandError"><strong>SystemCommandError</strong></a> – If the system command did not return <code class="docutils literal notranslate"><span class="pre">success_rcode</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.ensure_dst_path">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ensure_dst_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dst_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.ensure_dst_path" title="Link to this definition"></a></dt>
<dd><p>Ensures the existence of the given destination path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dst_path</strong> (<em>str</em>) – The destination path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.transfer">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.transfer" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to transfer the dataset origin path to the
given destination path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetOrigin" title="skyllh.core.dataset.DatasetOrigin"><em>DatasetOrigin</em></a>) – The instance of DatasetOrigin defining the origin of the dataset.</p></li>
<li><p><strong>file_list</strong> (<em>list</em><em> of </em><em>str</em>) – The list of files, relative to the origin base path, which should be
transferred.</p></li>
<li><p><strong>dst_base_path</strong> (<em>str</em>) – The destination base path into which the dataset files will be
transferred.</p></li>
<li><p><strong>username</strong> (<em>str</em><em> | </em><em>None</em>) – The user name required to connect to the remote host.</p></li>
<li><p><strong>password</strong> (<em>str</em><em> | </em><em>None</em>) – The password for the user name required to connect to the remote
host.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#skyllh.core.dataset.DatasetTransferError" title="skyllh.core.dataset.DatasetTransferError"><strong>DatasetTransferError</strong></a> – If the actual transfer of the dataset files failed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.post_transfer_unzip">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">post_transfer_unzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.post_transfer_unzip" title="Link to this definition"></a></dt>
<dd><p>This is a post-transfer function. It will unzip the transferred file
into the dst_path if the origin path was a zip file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">384</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetTransfer.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetTransfer.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.RSYNCDatasetTransfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">RSYNCDatasetTransfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.RSYNCDatasetTransfer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.dataset.DatasetTransfer" title="skyllh.core.dataset.DatasetTransfer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetTransfer</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.RSYNCDatasetTransfer.transfer">
<span class="sig-name descname"><span class="pre">transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.RSYNCDatasetTransfer.transfer" title="Link to this definition"></a></dt>
<dd><p>Transfers the given dataset to the given destination path using the
<code class="docutils literal notranslate"><span class="pre">rsync</span></code> program.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ds</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset containing the origin property specifying
the origin of the dataset.</p></li>
<li><p><strong>file_list</strong> (<em>list</em><em> of </em><em>str</em>) – The list of files, relative to the origin base path, which should be
transferred.</p></li>
<li><p><strong>dst_base_path</strong> (<em>str</em>) – The destination base path into which the dataset files will be
transferred.</p></li>
<li><p><strong>username</strong> (<em>str</em><em> | </em><em>None</em>) – The user name required to connect to the remote host.</p></li>
<li><p><strong>password</strong> (<em>str</em><em> | </em><em>None</em>) – The password for the user name required to connect to the remote
host.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.RSYNCDatasetTransfer.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.dataset.RSYNCDatasetTransfer.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.RSYNCDatasetTransfer.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">501</span></em><a class="headerlink" href="#skyllh.core.dataset.RSYNCDatasetTransfer.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.RSYNCDatasetTransfer.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.dataset.RSYNCDatasetTransfer.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">WGETDatasetTransfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.dataset.DatasetTransfer" title="skyllh.core.dataset.DatasetTransfer"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatasetTransfer</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer.protocol">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">protocol</span></span><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer.protocol" title="Link to this definition"></a></dt>
<dd><p>The protocol to use for the transfer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer.transfer">
<span class="sig-name descname"><span class="pre">transfer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dst_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer.transfer" title="Link to this definition"></a></dt>
<dd><p>Transfers the given dataset to the given destination path using the
<code class="docutils literal notranslate"><span class="pre">wget</span></code> program.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetOrigin" title="skyllh.core.dataset.DatasetOrigin"><em>DatasetOrigin</em></a>) – The instance of DatasetOrigin defining the origin of the dataset.</p></li>
<li><p><strong>file_list</strong> (<em>list</em><em> of </em><em>str</em>) – The list of files relative to the origin’s base path, which
should be transferred.</p></li>
<li><p><strong>dst_base_path</strong> (<em>str</em>) – The destination base path into which the dataset will be
transferred.</p></li>
<li><p><strong>username</strong> (<em>str</em><em> | </em><em>None</em>) – The user name required to connect to the remote host.</p></li>
<li><p><strong>password</strong> (<em>str</em><em> | </em><em>None</em>) – The password for the user name required to connect to the remote
host.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">625</span></em><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.WGETDatasetTransfer.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_protocol',</span> <span class="pre">'protocol')</span></em><a class="headerlink" href="#skyllh.core.dataset.WGETDatasetTransfer.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">Dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_pathfilenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mc_pathfilenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_sub_path_fmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verqualifiers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_path_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>The Dataset class describes a set of self-consistent experimental and
simulated detector data. Usually this is for a certain time period, i.e.
a season.</p>
<p>Independent data sets of the same kind, e.g. event selection, can be joined
through a DatasetCollection object.</p>
<p>Creates a new dataset object that describes a self-consistent set of
data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the dataset.</p></li>
<li><p><strong>exp_pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The file name(s), including paths, of the experimental data file(s).
This can be None, if a MC-only study is performed.</p></li>
<li><p><strong>mc_pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The file name(s), including paths, of the monte-carlo data file(s).
This can be None, if a MC-less analysis is performed.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>None</em>) – The integrated live-time in days of the dataset. It can be None for
cases where the live-time is retrieved directly from the data files
upon data loading.</p></li>
<li><p><strong>default_sub_path_fmt</strong> (<em>str</em>) – The default format of the sub path of the data set.
This must be a string that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code>
method of the <code class="docutils literal notranslate"><span class="pre">str</span></code> class.</p></li>
<li><p><strong>version</strong> (<em>int</em>) – The version number of the dataset. Higher version numbers indicate
newer datasets.</p></li>
<li><p><strong>verqualifiers</strong> (<em>dict</em><em> | </em><em>None</em>) – If specified, this dictionary specifies version qualifiers. These
can be interpreted as subversions of the dataset. The format of the
dictionary must be ‘qualifier (str): version (int)’.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em> | </em><em>None</em>) – The user-defined base path of the data set.
Usually, this is the path of the location of the data directory.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> the configured repository base path
<code class="docutils literal notranslate"><span class="pre">Config['repository']['base_path']</span></code> is used.</p></li>
<li><p><strong>sub_path_fmt</strong> (<em>str</em><em> | </em><em>None</em>) – The user-defined format of the sub path of the data set.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the <code class="docutils literal notranslate"><span class="pre">default_sub_path_fmt</span></code> will be used.</p></li>
<li><p><strong>origin</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetOrigin" title="skyllh.core.dataset.DatasetOrigin"><em>DatasetOrigin</em></a><em> | </em><em>None</em>) – The instance of DatasetOrigin defining the origin of the dataset,
so the dataset can be transferred automatically to the user’s
device.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_combined_exp_pathfilenames">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_combined_exp_pathfilenames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_exp_pathfilenames" title="Link to this definition"></a></dt>
<dd><p>Creates the combined list of exp pathfilenames of all the given
datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>exp_pathfilenames</strong> (<em>list</em>) – The combined list of exp pathfilenames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_combined_mc_pathfilenames">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_combined_mc_pathfilenames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_mc_pathfilenames" title="Link to this definition"></a></dt>
<dd><p>Creates the combined list of mc pathfilenames of all the given
datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mc_pathfilenames</strong> (<em>list</em>) – The combined list of mc pathfilenames.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_combined_livetime">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_combined_livetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_combined_livetime" title="Link to this definition"></a></dt>
<dd><p>Sums the live-time of all the given datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The sequence of Dataset instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>livetime</strong> (<em>float</em>) – The sum of all the individual live-times.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.name" title="Link to this definition"></a></dt>
<dd><p>The name of the dataset. This must be an unique identifier among
all the different datasets.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.description" title="Link to this definition"></a></dt>
<dd><p>The (longer) description of the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.datafields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">datafields</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.datafields" title="Link to this definition"></a></dt>
<dd><p>The dictionary holding the names and stages of required data fields
specific for this dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.exp_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exp_pathfilename_list</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>The list of file names of the data files that store the experimental
data for this dataset.
If a file name is given with a relative path, it will be relative to the
root_dir property of this Dataset instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.exp_abs_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exp_abs_pathfilename_list</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_abs_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of absolute path file names of the experimental
data files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.mc_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mc_pathfilename_list</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>The list of file names of the data files that store the monte-carlo
data for this dataset.
If a file name is given with a relative path, it will be relative to the
root_dir property of this Dataset instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.mc_abs_pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mc_abs_pathfilename_list</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_abs_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of absolute path file names of the monte-carlo
data files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.livetime" title="Link to this definition"></a></dt>
<dd><p>The integrated live-time in days of the dataset. This can be None in
cases where the livetime is retrieved directly from the data files.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.version" title="Link to this definition"></a></dt>
<dd><p>The main version (int) of the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.verqualifiers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">verqualifiers</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.verqualifiers" title="Link to this definition"></a></dt>
<dd><p>The dictionary holding the version qualifiers, i.e. sub-version
qualifiers. If set to None, an empty dictionary will be used.
The dictionary must have the type form of str:int.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.base_path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">base_path</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.base_path" title="Link to this definition"></a></dt>
<dd><p>The base path of the data set. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.default_sub_path_fmt">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_sub_path_fmt</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.default_sub_path_fmt" title="Link to this definition"></a></dt>
<dd><p>The default format of the sub path of the data set. This must be a
string that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code> method of the <code class="docutils literal notranslate"><span class="pre">str</span></code>
class.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.sub_path_fmt">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sub_path_fmt</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.sub_path_fmt" title="Link to this definition"></a></dt>
<dd><p>The format of the sub path of the data set. This must be a string
that can be formatted via the <code class="docutils literal notranslate"><span class="pre">format</span></code> method of the <code class="docutils literal notranslate"><span class="pre">str</span></code> class.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, this property will return the
<code class="docutils literal notranslate"><span class="pre">default_sub_path_fmt</span></code> property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.origin">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">origin</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.origin" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetOrigin defining the origin of the dataset.
This can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the dataset has no origin defined.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.root_dir">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">root_dir</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.root_dir" title="Link to this definition"></a></dt>
<dd><p>(read-only) The root directory to use when data files are specified
with relative paths. It is constructed from the <code class="docutils literal notranslate"><span class="pre">base_path</span></code> and the
<code class="docutils literal notranslate"><span class="pre">sub_path_fmt</span></code> properties via the <code class="docutils literal notranslate"><span class="pre">generate_data_file_root_dir</span></code>
function.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.exp_field_name_renaming_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exp_field_name_renaming_dict</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.exp_field_name_renaming_dict" title="Link to this definition"></a></dt>
<dd><p>The dictionary specifying the field names of the experimental data
which need to get renamed just after loading the data. The dictionary
values are the new names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.mc_field_name_renaming_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mc_field_name_renaming_dict</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.mc_field_name_renaming_dict" title="Link to this definition"></a></dt>
<dd><p>The dictionary specifying the field names of the monte-carlo data
which need to get renamed just after loading the data. The dictionary
values are the new names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.exists">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exists</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.exists" title="Link to this definition"></a></dt>
<dd><p>(read-only) Flag if all the data files of this dataset exists. It is
<code class="docutils literal notranslate"><span class="pre">True</span></code> if all data files exist and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.version_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version_str</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.version_str" title="Link to this definition"></a></dt>
<dd><p>The version string of the dataset. This combines all the version
information about the dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.data_preparation_functions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_preparation_functions</span></span><a class="headerlink" href="#skyllh.core.dataset.Dataset.data_preparation_functions" title="Link to this definition"></a></dt>
<dd><p>The list of callback functions that will be called to prepare the
data (experimental and monte-carlo).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.__gt__">
<span class="sig-name descname"><span class="pre">__gt__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.__gt__" title="Link to this definition"></a></dt>
<dd><p>Implementation to support the operation <code class="docutils literal notranslate"><span class="pre">b</span> <span class="pre">=</span> <span class="pre">self</span> <span class="pre">&gt;</span> <span class="pre">ds</span></code>, where
<code class="docutils literal notranslate"><span class="pre">self</span></code> is this Dataset object and <code class="docutils literal notranslate"><span class="pre">ds</span></code> an other Dataset object.
The comparison is done based on the version information of both
datasets. Larger version numbers for equal version qualifiers indicate
newer (greater) datasets.</p>
<p>The two datasets must be of the same kind, i.e. have the same name, in
order to make the version comparison senseful.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><em>bool</em> – True, if this dataset is newer than the reference dataset.
False, if this dataset is as new or older than the reference
dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_data">
<span class="sig-name descname"><span class="pre">remove_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_data" title="Link to this definition"></a></dt>
<dd><p>Removes the data of this dataset by removing the dataset’s root
directory and everything in it. If the root directory is a symbolic
link, only this link will be removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the dataset’s root directory is neither a symlink nor a
    directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_abs_pathfilename_list">
<span class="sig-name descname"><span class="pre">get_abs_pathfilename_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilename_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_abs_pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>Returns a list where each entry of the given pathfilename_list is
an absolute path. Relative paths will be prefixed with the root_dir
property of this Dataset instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathfilename_list</strong> (<em>sequence</em><em> of </em><em>str</em>) – The sequence of file names, either with relative, or absolute paths.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>abs_pathfilename_list</strong> (<em>list of str</em>) – The list of file names with absolute paths.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_missing_files">
<span class="sig-name descname"><span class="pre">get_missing_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_missing_files" title="Link to this definition"></a></dt>
<dd><p>Determines which files of the dataset are missing and returns the
list of files.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>missing_files</strong> (<em>list of str</em>) – The list of files that are missing. The files are relative to the
dataset’s root directory.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.update_version_qualifiers">
<span class="sig-name descname"><span class="pre">update_version_qualifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verqualifiers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.update_version_qualifiers" title="Link to this definition"></a></dt>
<dd><p>Updates the version qualifiers of the dataset. The update can only
be done by increasing the version qualifier integer or by adding new
version qualifiers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>verqualifiers</strong> (<em>dict</em>) – The dictionary with the new version qualifiers.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the integer number of an existing version qualifier is not larger
    than the old one.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.create_file_list">
<span class="sig-name descname"><span class="pre">create_file_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.create_file_list" title="Link to this definition"></a></dt>
<dd><p>Creates the list of files that are linked to this dataset.
The file paths are relative to the dataset’s root directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_list</strong> (<em>list of str</em>) – The list of files of this dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.make_data_available">
<span class="sig-name descname"><span class="pre">make_data_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.make_data_available" title="Link to this definition"></a></dt>
<dd><p>Makes the data of the dataset available.
If the root directory of the dataset does not exist locally, the dataset
is transferred from its origin to the local host. If the origin is
already available locally, only a symlink is created to the origin path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> (<em>str</em><em> | </em><em>None</em>) – The user name required to connect to the remote host of the origin.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the</p></li>
<li><p><strong>password</strong> (<em>str</em><em> | </em><em>None</em>) – The password of the user name required to connect to the remote host
of the origin.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>success</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the data was made available successfully, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">efficiency_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data, which is described by the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a><em> | </em><em>float</em><em> | </em><em>None</em>) – If not None, uses this livetime (if float, livetime in days) for the
DatasetData instance, otherwise uses the Dataset livetime property
value for the DatasetData instance.</p></li>
<li><p><strong>keep_fields</strong> (<em>list</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The list of user-defined data fields that should get loaded and kept
in addition to the analysis required data fields.</p></li>
<li><p><strong>dtc_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – This dictionary defines how data fields of specific data types (key)
should get converted into other data types (value).
This can be used to use less memory. If set to None, no data
conversion is performed.</p></li>
<li><p><strong>dtc_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str</em><em> | </em><em>None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'memory'</span></code></dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code></dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The TimeLord instance to use to time the data loading procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DatasetData</em>) – A instance of DatasetData holding the experimental and monte-carlo
data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.load_aux_data">
<span class="sig-name descname"><span class="pre">load_aux_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_aux_data" title="Link to this definition"></a></dt>
<dd><p>Loads the auxiliary data for the given auxiliary data definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The TimeLord instance to use to time the data loading procedure.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>unspecified</em>) – The loaded auxiliary data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.add_data_preparation">
<span class="sig-name descname"><span class="pre">add_data_preparation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_data_preparation" title="Link to this definition"></a></dt>
<dd><p>Adds the given data preparation function to the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em>) – The object with call signature __call__(data) that will prepare
the data after it was loaded. The argument ‘data’ is a DatasetData
instance holding the experimental and monte-carlo data. The function
must alter the properties of the DatasetData instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_data_preparation">
<span class="sig-name descname"><span class="pre">remove_data_preparation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_data_preparation" title="Link to this definition"></a></dt>
<dd><p>Removes a data preparation function from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – The name or the index of the data preparation function that should
be removed. Default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>, i.e. the last added function.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the type of the key argument is invalid.</p></li>
<li><p><strong>IndexError</strong> – If the given key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the data preparation function cannot be found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.prepare_data">
<span class="sig-name descname"><span class="pre">prepare_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.prepare_data" title="Link to this definition"></a></dt>
<dd><p>Prepares the data by calling the data preparation callback functions
of this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The instance of DatasetData holding the data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance TimeLord that should be used to time the data
preparation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.load_and_prepare_data">
<span class="sig-name descname"><span class="pre">load_and_prepare_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtc_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">efficiency_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.load_and_prepare_data" title="Link to this definition"></a></dt>
<dd><p>Loads and prepares the experimental and monte-carlo data of this
dataset by calling its <code class="docutils literal notranslate"><span class="pre">load_data</span></code> and <code class="docutils literal notranslate"><span class="pre">prepare_data</span></code> methods.
After loading the data it drops all unnecessary data fields if they are
not listed in <code class="docutils literal notranslate"><span class="pre">keep_fields</span></code>.
In the end it asserts the data format of the experimental and
monte-carlo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>None</em>) – The user-defined livetime in days of the data set. If not set to
None, livetime information from the data set will get ignored and
this value of the livetime will be used.</p></li>
<li><p><strong>keep_fields</strong> (<em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The list of additional data fields that should get kept.
By default only the required data fields are kept.</p></li>
<li><p><strong>dtc_dict</strong> (<em>dict</em><em> | </em><em>None</em>) – This dictionary defines how data fields of specific data types (key)
should get converted into other data types (value).
This can be used to use less memory. If set to None, no data
conversion is performed.</p></li>
<li><p><strong>dtc_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str</em><em> | </em><em>None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'memory'</span></code></dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code></dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance of TimeLord that should be used to time the data
loading and preparation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DatasetData</em>) – The instance of DatasetData holding the experimental and monte-carlo
data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.add_binning_definition">
<span class="sig-name descname"><span class="pre">add_binning_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binning</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_binning_definition" title="Link to this definition"></a></dt>
<dd><p>Adds a binning setting to this dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>binning</strong> (<a class="reference internal" href="#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The BinningDefinition object holding the binning information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_binning_definition">
<span class="sig-name descname"><span class="pre">get_binning_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_binning_definition" title="Link to this definition"></a></dt>
<dd><p>Gets the BinningDefinition object for the given binning name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binning_definition</strong> (<em>instance of BinningDefinition</em>) – The requested instance of BinningDefinition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_binning_definition">
<span class="sig-name descname"><span class="pre">remove_binning_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_binning_definition" title="Link to this definition"></a></dt>
<dd><p>Removes the BinningDefinition object from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.has_binning_definition">
<span class="sig-name descname"><span class="pre">has_binning_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.has_binning_definition" title="Link to this definition"></a></dt>
<dd><p>Checks if the dataset has a defined binning definition with the given
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if the binning definition exists, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.define_binning">
<span class="sig-name descname"><span class="pre">define_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binedges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.define_binning" title="Link to this definition"></a></dt>
<dd><p>Defines a binning for <code class="docutils literal notranslate"><span class="pre">name</span></code>, and adds it as binning definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the binning setting.</p></li>
<li><p><strong>binedges</strong> (<em>sequence</em>) – The sequence of the bin edges, which should be used for this binning
definition.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>binning</strong> (<em>instance of BinningDefinition</em>) – The instance of BinningDefinition which was created and added to
this dataset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.replace_binning_definition">
<span class="sig-name descname"><span class="pre">replace_binning_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binning</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.replace_binning_definition" title="Link to this definition"></a></dt>
<dd><p>Replaces an already defined binning definition of this dataset by
the given binning definition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>binning</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The instance of BinningDefinition that will replace the dataset’s
BinningDefinition instance of the same name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.dataset.Dataset.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">724</span></em><a class="headerlink" href="#skyllh.core.dataset.Dataset.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_aux_data',</span> <span class="pre">'_aux_data_definitions',</span> <span class="pre">'_base_path',</span> <span class="pre">'_binning_definitions',</span> <span class="pre">'_data_preparation_functions',</span> <span class="pre">'_datafields',</span> <span class="pre">'_default_sub_path_fmt',</span> <span class="pre">'_description',</span> <span class="pre">'_exp_field_name_renaming_dict',</span> <span class="pre">'_exp_pathfilename_list',</span> <span class="pre">'_lifetime',</span> <span class="pre">'_mc_field_name_renaming_dict',</span> <span class="pre">'_mc_pathfilename_list',</span> <span class="pre">'_name',</span> <span class="pre">'_origin',</span> <span class="pre">'_sub_path_fmt',</span> <span class="pre">'_verqualifiers',</span> <span class="pre">'_version',</span> <span class="pre">'base_path',</span> <span class="pre">'default_sub_path_fmt',</span> <span class="pre">'description',</span> <span class="pre">'exp_pathfilename_list',</span> <span class="pre">'livetime',</span> <span class="pre">'mc_pathfilename_list',</span> <span class="pre">'name',</span> <span class="pre">'origin',</span> <span class="pre">'sub_path_fmt',</span> <span class="pre">'verqualifiers',</span> <span class="pre">'version')</span></em><a class="headerlink" href="#skyllh.core.dataset.Dataset.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.add_aux_data_definition">
<span class="sig-name descname"><span class="pre">add_aux_data_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_aux_data_definition" title="Link to this definition"></a></dt>
<dd><p>Adds the given data files as auxiliary data definition to the
dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data definition. The name is used as
identifier for the data within SkyLLH.</p></li>
<li><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The file name(s) (including paths) of the data file(s).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_aux_data_definition">
<span class="sig-name descname"><span class="pre">get_aux_data_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_aux_data_definition" title="Link to this definition"></a></dt>
<dd><p>Returns the auxiliary data definition from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data definition.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If auxiliary data with the given name does not exist.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>aux_data_definition</strong> (<em>list of str</em>) – The locations (pathfilenames) of the files defined in the auxiliary
data as auxiliary data definition.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.set_aux_data_definition">
<span class="sig-name descname"><span class="pre">set_aux_data_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.set_aux_data_definition" title="Link to this definition"></a></dt>
<dd><p>Sets the files of the auxiliary data definition, which has the given
name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the auxiliary data definition.</p></li>
<li><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The file name(s) (including paths) of the data file(s).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_aux_data_definition">
<span class="sig-name descname"><span class="pre">remove_aux_data_definition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_aux_data_definition" title="Link to this definition"></a></dt>
<dd><p>Removes the auxiliary data definition from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data definition that should get removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_aux_data_definitions">
<span class="sig-name descname"><span class="pre">remove_aux_data_definitions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_aux_data_definitions" title="Link to this definition"></a></dt>
<dd><p>Removes the auxiliary data definition from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>names</strong> (<em>sequence</em><em> of </em><em>str</em>) – The names of the data definitions that should get removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.add_aux_data">
<span class="sig-name descname"><span class="pre">add_aux_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.add_aux_data" title="Link to this definition"></a></dt>
<dd><p>Adds the given data as auxiliary data to this data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name under which the auxiliary data will be stored.</p></li>
<li><p><strong>data</strong> (<em>unspecified</em>) – The data that should get stored. This can be of any data type.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If auxiliary data is already stored under the given name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.get_aux_data">
<span class="sig-name descname"><span class="pre">get_aux_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.get_aux_data" title="Link to this definition"></a></dt>
<dd><p>Retrieves the auxiliary data that is stored in this data set under
the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name under which the auxiliary data is stored.</p></li>
<li><p><strong>default</strong> (<em>any</em><em> | </em><em>None</em>) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it specifies the returned default value when the
auxiliary data does not exists.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>unspecified</em>) – The retrieved auxiliary data.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If no auxiliary data is stored with the given name and no default
    value was specified.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.Dataset.remove_aux_data">
<span class="sig-name descname"><span class="pre">remove_aux_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.Dataset.remove_aux_data" title="Link to this definition"></a></dt>
<dd><p>Removes the auxiliary data that is stored in this data set under
the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the dataset that should get removed.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">DatasetCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The DatasetCollection class describes a collection of different datasets.</p>
<p>New datasets can be added via the add-assign operator (+=), which calls
the <code class="docutils literal notranslate"><span class="pre">add_datasets</span></code> method.</p>
<p>Creates a new DatasetCollection instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the collection.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – The (longer) description of the dataset collection.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2321</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_datasets',</span> <span class="pre">'_description',</span> <span class="pre">'_name',</span> <span class="pre">'description',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.name" title="Link to this definition"></a></dt>
<dd><p>The name (str) of the dataset collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.description">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.description" title="Link to this definition"></a></dt>
<dd><p>The (longer) description of the dataset collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.dataset_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_names</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.dataset_names" title="Link to this definition"></a></dt>
<dd><p>The list of names of the assigned datasets.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.version">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.version" title="Link to this definition"></a></dt>
<dd><p>(read-only) The version number of the datasets collected by this
dataset collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.verqualifiers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">verqualifiers</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.verqualifiers" title="Link to this definition"></a></dt>
<dd><p>(read-only) The dictionary holding the version qualifiers of the
datasets collected by this dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Implementation of the access operator <code class="docutils literal notranslate"><span class="pre">[key]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The name or names of the dataset(s) that should get retrieved from
this dataset collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>datasets</strong> (<em>instance of Dataset | list of instance of Dataset</em>) – The dataset instance or the list of dataset instances corresponding
to the given key.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.__iadd__">
<span class="sig-name descname"><span class="pre">__iadd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.__iadd__" title="Link to this definition"></a></dt>
<dd><p>Implementation of the <code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">+=</span> <span class="pre">dataset</span></code> and
<code class="docutils literal notranslate"><span class="pre">self</span> <span class="pre">+=</span> <span class="pre">(dataset1,</span> <span class="pre">dataset2,</span> <span class="pre">...)</span></code> operations to add one or several
Dataset objects to this dataset collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.add_aux_data">
<span class="sig-name descname"><span class="pre">add_aux_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.add_aux_data" title="Link to this definition"></a></dt>
<dd><p>Adds the given data as auxiliary data to all datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name under which the auxiliary data will be stored.</p></li>
<li><p><strong>data</strong> (<em>unspecified</em>) – The data that should get stored. This can be of any data type.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If no datasets have been added to this dataset collection yet.</p></li>
<li><p><strong>KeyError</strong> – If auxiliary data is already stored under the given name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.add_datasets">
<span class="sig-name descname"><span class="pre">add_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datasets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.add_datasets" title="Link to this definition"></a></dt>
<dd><p>Adds the given Dataset object(s) to this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>datasets</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a><em> | </em><em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset or the sequence of instance of Dataset that
should be added to the dataset collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>instance of DatasetCollection</em>) – This instance of DatasetCollection in order to be able to chain
several <code class="docutils literal notranslate"><span class="pre">add_datasets</span></code> calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.remove_dataset">
<span class="sig-name descname"><span class="pre">remove_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.remove_dataset" title="Link to this definition"></a></dt>
<dd><p>Removes the given dataset from the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the dataset that should get removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.get_dataset">
<span class="sig-name descname"><span class="pre">get_dataset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.get_dataset" title="Link to this definition"></a></dt>
<dd><p>Retrieves a Dataset object from this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the dataset.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset object holding all the information about the dataset.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the data set of the given name is not present in this data set
    collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.get_datasets">
<span class="sig-name descname"><span class="pre">get_datasets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.get_datasets" title="Link to this definition"></a></dt>
<dd><p>Retrieves a list of Dataset objects from this dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>names</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The name or sequence of names of the datasets to retrieve.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>datasets</strong> (<em>list of Dataset instances</em>) – The list of Dataset instances for the given list of data set names.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If one of the requested data sets is not present in this data set
    collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.set_exp_field_name_renaming_dict">
<span class="sig-name descname"><span class="pre">set_exp_field_name_renaming_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_exp_field_name_renaming_dict" title="Link to this definition"></a></dt>
<dd><p>Sets the dictionary with the data field names of the experimental
data that needs to be renamed just after loading the data. The
dictionary will be set to all added data sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – The dictionary with the old field names as keys and the new field
names as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.set_mc_field_name_renaming_dict">
<span class="sig-name descname"><span class="pre">set_mc_field_name_renaming_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_mc_field_name_renaming_dict" title="Link to this definition"></a></dt>
<dd><p>Sets the dictionary with the data field names of the monte-carlo
data that needs to be renamed just after loading the data. The
dictionary will be set to all added data sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em>) – The dictionary with the old field names as keys and the new field
names as values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.set_dataset_prop">
<span class="sig-name descname"><span class="pre">set_dataset_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.set_dataset_prop" title="Link to this definition"></a></dt>
<dd><p>Sets the given property to the given name for all data sets of this
data set collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the property.</p></li>
<li><p><strong>value</strong> (<em>object</em>) – The value to set for the given property.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the given property does not exist in the data sets.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.define_binning">
<span class="sig-name descname"><span class="pre">define_binning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">binedges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.define_binning" title="Link to this definition"></a></dt>
<dd><p>Defines a binning definition and adds it to all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the binning definition.</p></li>
<li><p><strong>binedges</strong> (<em>sequence</em>) – The sequence of the bin edges, that should be used for the binning.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.add_data_preparation">
<span class="sig-name descname"><span class="pre">add_data_preparation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.add_data_preparation" title="Link to this definition"></a></dt>
<dd><p>Adds the data preparation function to all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>callable</em>) – The object with call signature <code class="docutils literal notranslate"><span class="pre">__call__(data)</span></code> that will prepare
the data after it was loaded. The argument ‘data’ is the DatasetData
instance holding the experimental and monte-carlo data.
This function must alter the properties of the DatasetData instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.remove_data_preparation">
<span class="sig-name descname"><span class="pre">remove_data_preparation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.remove_data_preparation" title="Link to this definition"></a></dt>
<dd><p>Removes data preparation function from all the datasets of this
dataset collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em><em>, </em><em>int</em><em>, </em><em>optional</em>) – The name or the index of the data preparation function that should
be removed. Default value is <code class="docutils literal notranslate"><span class="pre">-1</span></code>, i.e. the last added function.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the type of the key argument is invalid.</p></li>
<li><p><strong>IndexError</strong> – If the given key is out of range.</p></li>
<li><p><strong>KeyError</strong> – If the data preparation function cannot be found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.update_version_qualifiers">
<span class="sig-name descname"><span class="pre">update_version_qualifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verqualifiers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.update_version_qualifiers" title="Link to this definition"></a></dt>
<dd><p>Updates the version qualifiers of all datasets of this dataset
collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetCollection.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetCollection.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data of all data sets of this data set collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><em>dict</em><em> of </em><em>str =&gt; float</em><em> | </em><em>None</em>) – If not None, uses this livetime (in days) as livetime for (all) the
DatasetData instances, otherwise uses the live time from the Dataset
instance. If a dictionary of data set names and floats is given, it
defines the livetime for the individual data sets.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance of TimeLord that should be used to time the data load
operation.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The optional parent progress bar.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments are passed to the
<a class="reference internal" href="#skyllh.core.dataset.Dataset.load_data" title="skyllh.core.dataset.Dataset.load_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load_data()</span></code></a> method of the
individual datasets.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_dict</strong> (<em>dictionary str =&gt; instance of DatasetData</em>) – The dictionary with the DatasetData instance holding the data of
an individual data set as value and the data set’s name as key.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">DatasetData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.DatasetData" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides the container for the actual experimental and
monte-carlo data.</p>
<p>Creates a new DatasetData instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a><em> | </em><em>None</em>) – The instance of DataFieldRecordArray holding the experimental data.
This can be None for a MC-only study.</p></li>
<li><p><strong>data_mc</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the monte-carlo data.</p></li>
<li><p><strong>livetime</strong> (<em>float</em>) – The integrated livetime in days of the data.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2792</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetData.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_exp',</span> <span class="pre">'_livetime',</span> <span class="pre">'_mc',</span> <span class="pre">'exp',</span> <span class="pre">'livetime',</span> <span class="pre">'mc')</span></em><a class="headerlink" href="#skyllh.core.dataset.DatasetData.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.exp">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exp</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetData.exp" title="Link to this definition"></a></dt>
<dd><p>The DataFieldRecordArray instance holding the experimental data.
This is None, if there is no experimental data available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.mc">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mc</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetData.mc" title="Link to this definition"></a></dt>
<dd><p>The DataFieldRecordArray instance holding the monte-carlo data.
This is None, if there is no monte-carlo data available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetData.livetime" title="Link to this definition"></a></dt>
<dd><p>The integrated livetime in days of the data.
This is None, if there is no live-time provided.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.exp_field_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">exp_field_names</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetData.exp_field_names" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of field names present in the experimental data.
This is an empty list if there is no experimental data available.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.dataset.DatasetData.mc_field_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mc_field_names</span></span><a class="headerlink" href="#skyllh.core.dataset.DatasetData.mc_field_names" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of field names present in the monte-carlo data.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.assert_data_format">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">assert_data_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.assert_data_format" title="Link to this definition"></a></dt>
<dd><p>Checks the format of the experimental and monte-carlo data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset describing the dataset and holding the local
configuration.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The instance of DatasetData holding the actual experimental and
simulation data of the data set.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If a required data field is missing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.remove_events">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">remove_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mjds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.remove_events" title="Link to this definition"></a></dt>
<dd><p>Utility function to remove events having the specified MJD time stamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_exp</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the experimental data
events.</p></li>
<li><p><strong>mjds</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>floats</em>) – The MJD time stamps of the events, that should get removed from the
experimental data array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_exp</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the experimental data
events with the specified events removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.generate_base_path">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">generate_base_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.generate_base_path" title="Link to this definition"></a></dt>
<dd><p>Generates the base path. If base_path is None, default_base_path is used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_base_path</strong> (<em>str</em>) – The default base path if base_path is None.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em> | </em><em>None</em>) – The user-specified base path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>base_path</strong> (<em>str</em>) – The generated base path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.generate_sub_path">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">generate_sub_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub_path_fmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verqualifiers</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.generate_sub_path" title="Link to this definition"></a></dt>
<dd><p>Generates the sub path of the dataset based on the given sub path format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sub_path_fmt</strong> (<em>str</em>) – The format string of the sub path.</p></li>
<li><p><strong>version</strong> (<em>int</em>) – The version of the dataset.</p></li>
<li><p><strong>verqualifiers</strong> (<em>dict</em>) – The dictionary holding the version qualifiers of the dataset.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sub_path</strong> (<em>str</em>) – The generated sub path.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.generate_data_file_root_dir">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">generate_data_file_root_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_base_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_sub_path_fmt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verqualifiers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sub_path_fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.generate_data_file_root_dir" title="Link to this definition"></a></dt>
<dd><p>Generates the root directory of the data files based on the given base
path and sub path format. If base_path is None, default_base_path is used.
If sub_path_fmt is None, default_sub_path_fmt is used.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default_sub_path_fmt</span></code> and <code class="docutils literal notranslate"><span class="pre">sub_path_fmt</span></code> arguments can contain the
following wildcards:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">{version:d}</span></code></dt><dd><p>The version integer number of the dataset.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">{&lt;verqualifiers_key&gt;:d}</span></code></dt><dd><p>The integer number of the specific version qualifier
<code class="docutils literal notranslate"><span class="pre">'verqualifiers_key'</span></code>.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>default_base_path</strong> (<em>str</em>) – The default base path if base_path is None.</p></li>
<li><p><strong>default_sub_path_fmt</strong> (<em>str</em>) – The default sub path format if sub_path_fmt is None.</p></li>
<li><p><strong>version</strong> (<em>int</em>) – The version of the data sample.</p></li>
<li><p><strong>verqualifiers</strong> (<em>dict</em>) – The dictionary holding the version qualifiers of the data sample.</p></li>
<li><p><strong>base_path</strong> (<em>str</em><em> | </em><em>None</em>) – The user-specified base path.</p></li>
<li><p><strong>sub_path_fmt</strong> (<em>str</em><em> | </em><em>None</em>) – The user-specified sub path format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>root_dir</strong> (<em>str</em>) – The generated root directory of the data files. This will have no
trailing directory separator.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.dataset.get_data_subset">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.dataset.</span></span><span class="sig-name descname"><span class="pre">get_data_subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_stop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.dataset.get_data_subset" title="Link to this definition"></a></dt>
<dd><p>Gets instance of DatasetData and instance of Livetime with data subsets
between the given time range from <code class="docutils literal notranslate"><span class="pre">t_start</span></code> to <code class="docutils literal notranslate"><span class="pre">t_stop</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The DatasetData object.</p></li>
<li><p><strong>livetime</strong> (<a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – The Livetime object.</p></li>
<li><p><strong>t_start</strong> (<em>float</em>) – The MJD start time of the time range to consider.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The MJD end time of the time range to consider.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data_subset</strong> (<em>instance of DatasetData</em>) – The instance of DatasetData with subset of the data between the given
time range from <code class="docutils literal notranslate"><span class="pre">t_start</span></code> to <code class="docutils literal notranslate"><span class="pre">t_stop</span></code>.</p></li>
<li><p><strong>livetime_subset</strong> (<em>instance of Livetime</em>) – The instance of Livetime for a subset of the data between the given
time range from <code class="docutils literal notranslate"><span class="pre">t_start</span></code> to <code class="docutils literal notranslate"><span class="pre">t_stop</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.debugging">
<span id="skyllh-core-debugging-module"></span><h2>skyllh.core.debugging module<a class="headerlink" href="#module-skyllh.core.debugging" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.debugging.get_logger">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.debugging.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.debugging.get_logger" title="Link to this definition"></a></dt>
<dd><p>Retrieves the logger with the given name from the Python logging system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the logger.
Logger hierarchy is defined using dots as separators.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>logger</strong> (<em>logging.Logger</em>) – The Logger instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.debugging.setup_logger">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.debugging.</span></span><span class="sig-name descname"><span class="pre">setup_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.debugging.setup_logger" title="Link to this definition"></a></dt>
<dd><p>Initializes logger with a given name and a log level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Logger name. Loggers hierarchy is defined using dots as separators.</p></li>
<li><p><strong>log_level</strong> (<em>int</em>) – The log level.  The <code class="docutils literal notranslate"><span class="pre">logging</span></code> module predefines levels, e.g.
<code class="docutils literal notranslate"><span class="pre">logging.DEBUG</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.debugging.setup_console_handler">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.debugging.</span></span><span class="sig-name descname"><span class="pre">setup_console_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.debugging.setup_console_handler" title="Link to this definition"></a></dt>
<dd><p>Initializes <cite>StreamHandler</cite> for a logger with a given name and sets its
handling level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Logger name. Loggers hierarchy is defined using dots as separators.</p></li>
<li><p><strong>log_level</strong> (<em>int</em><em> | </em><em>None</em>) – The log level. The <code class="docutils literal notranslate"><span class="pre">logging</span></code> module predefines levels, e.g.
<code class="docutils literal notranslate"><span class="pre">logging.DEBUG</span></code>.
If set to None, the log level of the logger will be used.</p></li>
<li><p><strong>log_format</strong> (<em>str</em><em> | </em><em>None</em>) – The format of log records in the final output.
If set to <cite>None</cite>, the log format is taken from the configuration.</p></li>
<li><p><strong>stream</strong> (<em>data stream</em><em> | </em><em>None</em>) – The stream that the handler should use. Default stream is <cite>sys.stderr</cite>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.debugging.setup_file_handler">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.debugging.</span></span><span class="sig-name descname"><span class="pre">setup_file_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'a'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.debugging.setup_file_handler" title="Link to this definition"></a></dt>
<dd><p>Initializes <cite>FileHandler</cite> for a logger with a given name and sets its
handling level.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Logger name. Loggers hierarchy is defined using dots as separators.</p></li>
<li><p><strong>log_level</strong> (<em>int</em><em> | </em><em>None</em>) – The log level. There are predefined levels, e.g. <code class="docutils literal notranslate"><span class="pre">logging.DEBUG</span></code>.
If set to None, the log level of the logger will be used.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – The filename of the specified file which is opened and used as the
stream for logging.</p></li>
<li><p><strong>path</strong> (<em>str</em><em> | </em><em>None</em>) – The path under which the log file should be stored.
If set to <cite>None</cite>, the project’s working directory will be used.</p></li>
<li><p><strong>log_format</strong> (<em>str</em><em> | </em><em>None</em>) – The format of log records in the final output.
If set to <cite>None</cite>, the log format is taken from the configuration.</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – File opening mode. Default is ‘a’ for appending.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.detsigyield">
<span id="skyllh-core-detsigyield-module"></span><h2>skyllh.core.detsigyield module<a class="headerlink" href="#module-skyllh.core.detsigyield" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></span><span class="sig-name descname"><span class="pre">DetSigYield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract base class for a detector signal yield.</p>
<p>The detector signal yield, Y_s(p_s), is defined as the expected mean
number of signal events detected by the detector from a given source with
source parameters p_s.</p>
<p>To construct a detector signal yield object, four ingredients are
needed: the dataset holding the monte-carlo data events, a signal flux
model, the livetime, and a builder instance that knows how to construct
the actual detector yield in an efficient way.
In general, the implementation method depends on the detector, the source,
the flux model with its flux model’s signal parameters, and the dataset.
Hence, for a given detector, source, flux model, and dataset, an appropriate
implementation method needs to be chosen.</p>
<p>Constructs a new detector signal yield object. It takes
the monte-carlo data events, a flux model of the signal, and the live
time to compute the detector signal yield.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param_names</strong> (<em>sequence</em><em> of </em><em>str</em>) – The sequence of parameter names this detector signal yield depends
on. These are either fixed or floating parameters.</p></li>
<li><p><strong>dataset</strong> (<em>Dataset instance</em>) – The Dataset instance holding the monte-carlo event data.</p></li>
<li><p><strong>fluxmodel</strong> (<a class="reference internal" href="#skyllh.core.flux_model.FluxModel" title="skyllh.core.flux_model.FluxModel"><em>FluxModel</em></a>) – The flux model instance. Must be an instance of FluxModel.</p></li>
<li><p><strong>livetime</strong> (<em>float</em><em> | </em><a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – The live-time in days to use for the detector signal yield.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.param_names" title="Link to this definition"></a></dt>
<dd><p>The tuple of parameter names this detector signal yield instance
is a function of.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.dataset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset</span></span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.dataset" title="Link to this definition"></a></dt>
<dd><p>The Dataset instance, for which this detector signal yield is made
for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.fluxmodel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fluxmodel</span></span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.fluxmodel" title="Link to this definition"></a></dt>
<dd><p>The flux model, which should be used to calculate the detector
signal yield.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.livetime" title="Link to this definition"></a></dt>
<dd><p>The live-time in days.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.sources_to_recarray">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sources_to_recarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.sources_to_recarray" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to convert a (list of) source model(s) into
a numpy record array that is understood by the detector signal yield
class.
This is for efficiency reasons only. This way the user code can
pre-convert the list of sources into a numpy record array and cache the
array.
The fields of the array are detector signal yield implementation
dependent, i.e. what kind of sources: point-like source, or extended
source for instance. Because the sources usually don’t change their
position in the sky, this has to be done only once.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The source model(s) containing the information of the source(s).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>recarr</strong> (<em>numpy record ndarray</em>) – The generated (N_sources,)-shaped 1D numpy record ndarray holding
the information for each source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.__call__" title="Link to this definition"></a></dt>
<dd><p>Abstract method to retrieve the detector signal yield for the given
sources and source parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_recarray</strong> (<em>(</em><em>N_sources</em><em>,</em><em>)</em><em>-shaped numpy record ndarray</em>) – The numpy record array containing the information of the sources.
The required fields of this record array are implementation
dependent. In the most generic case for a point-like source, it
must contain the following three fields: ra, dec.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>(</em><em>N_sources</em><em>,</em><em>)</em><em>-shaped numpy record ndarray</em>) – The numpy record ndarray containing the parameter values of the
sources. The parameter values can be different for the different
sources.
The record array must contain two fields for each source parameter,
one named &lt;name&gt; with the source’s local parameter name
holding the source’s local parameter value, and one named
&lt;name:gpidx&gt; holding the global parameter index plus one for each
source value. For values mapping to non-fit parameters, the index
should be negative.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>detsigyield</strong> (<em>(N_sources,)-shaped 1D ndarray of float</em>) – The array with the mean number of signal in the detector for each
given source.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradient values for each global fit
parameter. The key is the global fit parameter index and the value
is the (N_sources,)-shaped numpy ndarray holding the gradient value
dY_k/dp_s.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">32</span></em><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYield.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_dataset',</span> <span class="pre">'_fluxmodel',</span> <span class="pre">'_livetime',</span> <span class="pre">'_param_names',</span> <span class="pre">'dataset',</span> <span class="pre">'fluxmodel',</span> <span class="pre">'livetime',</span> <span class="pre">'param_names')</span></em><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYield.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></span><span class="sig-name descname"><span class="pre">DetSigYieldBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>Abstract base class for a builder of a detector signal yield. Via the
<code class="docutils literal notranslate"><span class="pre">construct_detsigyield</span></code> method it creates a DetSigYield instance holding
the internal objects to calculate the detector signal yield.</p>
<p>Constructor.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">215</span></em><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.assert_types_of_construct_detsigyield_arguments">
<span class="sig-name descname"><span class="pre">assert_types_of_construct_detsigyield_arguments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shgs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.assert_types_of_construct_detsigyield_arguments" title="Link to this definition"></a></dt>
<dd><p>Checks the types of the arguments for the <code class="docutils literal notranslate"><span class="pre">construct_detsigyield</span></code>
method. It raises errors if the arguments have the wrong type.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.get_detsigyield_construction_factory">
<span class="sig-name descname"><span class="pre">get_detsigyield_construction_factory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.get_detsigyield_construction_factory" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a callable with the call-signature</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="fm">__call__</span><span class="p">(</span>
    <span class="n">dataset</span><span class="p">,</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">shgs</span><span class="p">,</span>
    <span class="n">ppbar</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>to construct several DetSigYield instances, one for each provided
source hypo group (i.e. sources and fluxmodel).
The return value of this callable must be a sequence of DetSigYield
instances of the same length as the sequence of <code class="docutils literal notranslate"><span class="pre">shgs</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>factory</strong> (<em>callable | None</em>) – This default implementation returns <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating that a
factory is not supported by this builder.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.DetSigYieldBuilder.construct_detsigyield">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">construct_detsigyield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.DetSigYieldBuilder.construct_detsigyield" title="Link to this definition"></a></dt>
<dd><p>Abstract method to construct the DetSigYield instance.
This method must be called by the derived class method implementation
to ensure the compatibility check of the given flux model with the
supported flux models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset holding possible dataset specific settings.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The instance of DatasetData holding the monte-carlo event data.</p></li>
<li><p><strong>shg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup" title="skyllh.core.source_hypo_grouping.SourceHypoGroup"><em>SourceHypoGroup</em></a>) – The instance of SourceHypoGroup (i.e. sources and flux model) for
which the detector signal yield should be constructed.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>detsigyield</strong> (<em>instance of DetSigYield</em>) – An instance derived from DetSigYield.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.NullDetSigYieldBuilder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.detsigyield.</span></span><span class="sig-name descname"><span class="pre">NullDetSigYieldBuilder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.NullDetSigYieldBuilder" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.detsigyield.DetSigYieldBuilder" title="skyllh.core.detsigyield.DetSigYieldBuilder"><code class="xref py py-class docutils literal notranslate"><span class="pre">DetSigYieldBuilder</span></code></a></p>
<p>This class provides a dummy detector signal yield builder, which can
be used for testing purposes, when an actual builder is not required.</p>
<p>Creates a new instance of NullDetSigYieldBuilder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a><em> | </em><em>None</em>) – The instance of Config holding the local configuration. Since this
detector signal yield builder does nothing, this argument is
optional. If not provided the default configuration is used.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.NullDetSigYieldBuilder.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.detsigyield.NullDetSigYieldBuilder.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.NullDetSigYieldBuilder.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">326</span></em><a class="headerlink" href="#skyllh.core.detsigyield.NullDetSigYieldBuilder.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.NullDetSigYieldBuilder.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.detsigyield.NullDetSigYieldBuilder.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.detsigyield.NullDetSigYieldBuilder.construct_detsigyield">
<span class="sig-name descname"><span class="pre">construct_detsigyield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.detsigyield.NullDetSigYieldBuilder.construct_detsigyield" title="Link to this definition"></a></dt>
<dd><p>Since this is a dummy detector signal yield builder, calling this
method will raise a NotImplementedError!</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.display">
<span id="skyllh-core-display-module"></span><h2>skyllh.core.display module<a class="headerlink" href="#module-skyllh.core.display" title="Link to this heading"></a></h2>
<p>The display module provides global settings for pretty command line
displaying.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.display.</span></span><span class="sig-name descname"><span class="pre">ANSIColors</span></span><a class="headerlink" href="#skyllh.core.display.ANSIColors" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines the ANSI color codes, which can be used to change
the text color in a terminal.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.HEADER">
<span class="sig-name descname"><span class="pre">HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[95m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.HEADER" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.OKBLUE">
<span class="sig-name descname"><span class="pre">OKBLUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[94m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.OKBLUE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.OKGREEN">
<span class="sig-name descname"><span class="pre">OKGREEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[92m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.OKGREEN" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.WARNING">
<span class="sig-name descname"><span class="pre">WARNING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[93m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.WARNING" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.FAIL">
<span class="sig-name descname"><span class="pre">FAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[91m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.FAIL" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.ENDC">
<span class="sig-name descname"><span class="pre">ENDC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[0m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.ENDC" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.BOLD">
<span class="sig-name descname"><span class="pre">BOLD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[1m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.BOLD" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.UNDERLINE">
<span class="sig-name descname"><span class="pre">UNDERLINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\x1b[4m'</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.UNDERLINE" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">14</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.display.ANSIColors.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.display.ANSIColors.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.display.add_leading_text_line_padding">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.display.</span></span><span class="sig-name descname"><span class="pre">add_leading_text_line_padding</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">padwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.display.add_leading_text_line_padding" title="Link to this definition"></a></dt>
<dd><p>Adds leading white spaces to all the lines of the given text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>padwidth</strong> (<em>int</em>) – The width of the padding.</p></li>
<li><p><strong>text</strong> (<em>str</em>) – The text with new line characters for each line.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>padded_text</strong> (<em>str</em>) – The text where each line is padded with the given number of whitespaces.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.event_selection">
<span id="skyllh-core-event-selection-module"></span><h2>skyllh.core.event_selection module<a class="headerlink" href="#module-skyllh.core.event_selection" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">EventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract base class for all event selection method classes.
The idea is to pre-select only events that contribute to the likelihood
function, i.e. are more signal than background like. The different methods
are implemented through derived classes of this base class.</p>
<p>Creates a new event selection method instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a><em> | </em><em>None</em>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the event selection method does not depend on
the sources.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of SourceHypoGroupManager, which defines the
list of sources.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.__and__">
<span class="sig-name descname"><span class="pre">__and__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.__and__" title="Link to this definition"></a></dt>
<dd><p>Implements the AND operator (&amp;) for creating an event selection
method, which is the intersection of this event selection method and
another one using the expression <code class="docutils literal notranslate"><span class="pre">intersection</span> <span class="pre">=</span> <span class="pre">self</span> <span class="pre">&amp;</span> <span class="pre">other</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a>) – The instance of EventSelectionMethod that is the other event
selection method.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>intersection</strong> (<em>instance of IntersectionEventSelectionMethod</em>) – The instance of IntersectionEventSelectionMethod that creates the
intersection of this event selection method and the other.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the SourceHypoGroupManager instance of the event selection
method. This will also recreate the internal source numpy record array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a><em> | </em><em>None</em>) – The new SourceHypoGroupManager instance, that should be used for
this event selection method.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the event selection method does not depend on
the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.sources_to_array">
<span class="sig-name descname"><span class="pre">sources_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.sources_to_array" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to convert a sequence of SourceModel
instances into a structured numpy ndarray with the source information
in a format that is best understood by the actual event selection
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The sequence of source models containing the necessary information
of the source.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> (<em>numpy record ndarray | None</em>) – The generated numpy record ndarray holding the necessary information
for each source.
By default <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.select_events">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>This method selects the events, which will contribute to the
log-likelihood ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray of length N_events, holding the
events.</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray of length N_selected_events,
holding the selected events, i.e. a subset of the <code class="docutils literal notranslate"><span class="pre">events</span></code>
argument.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The two 1d ndarrays of int of length N_values, holding the indices
of the sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">27</span></em><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.EventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_shg_mgr',</span> <span class="pre">'_src_arr')</span></em><a class="headerlink" href="#skyllh.core.event_selection.EventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">IntersectionEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">evt_sel_method1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evt_sel_method2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventSelectionMethod</span></code></a></p>
<p>This class provides an event selection method for the intersection of two
event selection methods. It can be created using the <code class="docutils literal notranslate"><span class="pre">&amp;</span></code> operator:
<code class="docutils literal notranslate"><span class="pre">evt_sel_method1</span> <span class="pre">&amp;</span> <span class="pre">evt_sel_method2</span></code>.</p>
<p>Creates a compounded event selection method of two given event
selection methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>evt_sel_method1</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a>) – The instance of EventSelectionMethod for the first event selection
method.</p></li>
<li><p><strong>evt_sel_method2</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a>) – The instance of EventSelectionMethod for the second event selection
method.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.evt_sel_method1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evt_sel_method1</span></span><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.evt_sel_method1" title="Link to this definition"></a></dt>
<dd><p>The instance of EventSelectionMethod for the first event selection
method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.evt_sel_method2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evt_sel_method2</span></span><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.evt_sel_method2" title="Link to this definition"></a></dt>
<dd><p>The instance of EventSelectionMethod for the second event selection
method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the SourceHypoGroupManager instance of the event selection
method. This will call the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code> of the individual event
selection methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a><em> | </em><em>None</em>) – The new SourceHypoGroupManager instance, that should be used for
this event selection method.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the event selection method does not depend on
the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects events by calling the <code class="docutils literal notranslate"><span class="pre">select_events</span></code> methods of the
individual event selection methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the events.</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the selected events,
i.e. a subset of the <cite>events</cite> argument.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of the sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">183</span></em><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.IntersectionEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_evt_sel_method1',</span> <span class="pre">'_evt_sel_method2',</span> <span class="pre">'evt_sel_method1',</span> <span class="pre">'evt_sel_method2')</span></em><a class="headerlink" href="#skyllh.core.event_selection.IntersectionEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">AllEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventSelectionMethod</span></code></a></p>
<p>This event selection method selects all events.</p>
<p>Creates a new event selection method instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances. For this particular
event selection method it has no meaning, but it is an interface
parameter.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod.sources_to_array">
<span class="sig-name descname"><span class="pre">sources_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod.sources_to_array" title="Link to this definition"></a></dt>
<dd><p>Creates the source array from the given list of sources. This event
selection method does not depend on the sources. Hence, <code class="docutils literal notranslate"><span class="pre">None</span></code> is
returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>None</em>) – The generated numpy record ndarray holding the necessary information
for each source. Since this event selection method does not depend
on any source, <code class="docutils literal notranslate"><span class="pre">None</span></code> is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects all of the given events. Hence, the returned event array is
the same as the given array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the events, for which
the selection method should get applied.</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding the selected events,
i.e. a subset of the <cite>events</cite> argument.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">324</span></em><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AllEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.event_selection.AllEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">SpatialEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.SpatialEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventSelectionMethod</span></code></a></p>
<p>This abstract base class defines the base class for all spatial event
selection methods.</p>
<p>Creates a new event selection method instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialEventSelectionMethod.sources_to_array">
<span class="sig-name descname"><span class="pre">sources_to_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.SpatialEventSelectionMethod.sources_to_array" title="Link to this definition"></a></dt>
<dd><p>Converts the given sequence of SourceModel instances into a
structured numpy ndarray holding the necessary source information needed
for this event selection method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The sequence of source models containing the necessary information
of the source.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> (<em>numpy record ndarray</em>) – The generated numpy record ndarray holding the necessary information
for each source. It contains the following data fields: ‘ra’, ‘dec’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">406</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">DecBandEventSectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.SpatialEventSelectionMethod" title="skyllh.core.event_selection.SpatialEventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialEventSelectionMethod</span></code></a></p>
<p>This event selection method selects events within a declination band
around a list of point-like source positions.</p>
<p>Creates and configures a spatial declination band event selection
method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p></li>
<li><p><strong>delta_angle</strong> (<em>float</em>) – The half-opening angle around the source in declination for which
events should get selected.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod.delta_angle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delta_angle</span></span><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod.delta_angle" title="Link to this definition"></a></dt>
<dd><p>The half-opening angle around the source in declination and
right-ascention for which events should get selected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects the events within the declination band.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray that holds the event data.
The following data fields must exist:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'dec'</span></code><span class="classifier">float</span></dt><dd><p>The declination of the event.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding only the selected
events.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">467</span></em><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.DecBandEventSectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_delta_angle',</span> <span class="pre">'delta_angle')</span></em><a class="headerlink" href="#skyllh.core.event_selection.DecBandEventSectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">RABandEventSectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.SpatialEventSelectionMethod" title="skyllh.core.event_selection.SpatialEventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialEventSelectionMethod</span></code></a></p>
<p>This event selection method selects events within a right-ascension band
around a list of point-like source positions.</p>
<p>Creates and configures a right-ascension band event selection
method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p></li>
<li><p><strong>delta_angle</strong> (<em>float</em>) – The half-opening angle around the source in right-ascension for
which events should get selected.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod.delta_angle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delta_angle</span></span><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod.delta_angle" title="Link to this definition"></a></dt>
<dd><p>The half-opening angle around the source in declination and
right-ascention for which events should get selected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects the events within the right-ascention band.</p>
<p>The solid angle dOmega = dRA * dSinDec = dRA * dDec * cos(dec) is a
function of declination, i.e. for a constant dOmega, the right-ascension
value has to change with declination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray that holds the event data.
The following data fields must exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'ra'</span></code><span class="classifier">float</span></dt><dd><p>The right-ascention of the event.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'dec'</span></code><span class="classifier">float</span></dt><dd><p>The declination of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding only the selected
events.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of the sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">587</span></em><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.RABandEventSectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_delta_angle',</span> <span class="pre">'delta_angle')</span></em><a class="headerlink" href="#skyllh.core.event_selection.RABandEventSectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">SpatialBoxEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta_angle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.SpatialEventSelectionMethod" title="skyllh.core.event_selection.SpatialEventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialEventSelectionMethod</span></code></a></p>
<p>This event selection method selects events within a spatial box in
right-ascention and declination around a list of point-like source
positions.</p>
<p>Creates and configures a spatial box event selection method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p></li>
<li><p><strong>delta_angle</strong> (<em>float</em>) – The half-opening angle around the source for which events should
get selected.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod.delta_angle">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delta_angle</span></span><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod.delta_angle" title="Link to this definition"></a></dt>
<dd><p>The half-opening angle around the source in declination and
right-ascention for which events should get selected.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects the events within the spatial box in right-ascention and
declination.</p>
<p>The solid angle dOmega = dRA * dSinDec = dRA * dDec * cos(dec) is a
function of declination, i.e. for a constant dOmega, the right-ascension
value has to change with declination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray that holds the event data.
The following data fields must exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'ra'</span></code><span class="classifier">float</span></dt><dd><p>The right-ascention of the event.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'dec'</span></code><span class="classifier">float</span></dt><dd><p>The declination of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding only the selected
events.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints | None</em>) – The indices of sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">731</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_delta_angle',</span> <span class="pre">'delta_angle')</span></em><a class="headerlink" href="#skyllh.core.event_selection.SpatialBoxEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">PsiFuncEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_name_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventSelectionMethod</span></code></a></p>
<p>This event selection method selects events whose psi value, i.e. the
great circle distance of the event to the source, is smaller than the value
of the provided function.</p>
<p>Creates a new PsiFuncEventSelectionMethod instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p></li>
<li><p><strong>psi_name</strong> (<em>str</em>) – The name of the data field that provides the psi value of the event.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get evaluated for each event. The call
signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">func(*axis_data)</span></code>,</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">*axis_data</span></code> is the event data of each required axis. The
number of axes must match the provided axis names through the
<code class="docutils literal notranslate"><span class="pre">axis_name_list</span></code>.</p>
</p></li>
<li><p><strong>axis_name_list</strong> (<em>list</em><em> of </em><em>str</em>) – The list of data field names for each axis of the function <code class="docutils literal notranslate"><span class="pre">func</span></code>.
All field names must be valid field names of the trial data’s
DataFieldRecordArray instance.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">910</span></em><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_axis_name_list',</span> <span class="pre">'_func',</span> <span class="pre">'_psi_name',</span> <span class="pre">'axis_name_list',</span> <span class="pre">'func',</span> <span class="pre">'psi_name')</span></em><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.psi_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psi_name</span></span><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.psi_name" title="Link to this definition"></a></dt>
<dd><p>The name of the data field that provides the psi value of the event.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func</span></span><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.func" title="Link to this definition"></a></dt>
<dd><p>The function that should get evaluated for each event. The call
signature must be <code class="docutils literal notranslate"><span class="pre">func(*axis_data)</span></code>, where <code class="docutils literal notranslate"><span class="pre">*axis_data</span></code> is the
event data of each required axis. The number of axes must match the
provided axis names through the <code class="docutils literal notranslate"><span class="pre">axis_name_list</span></code> property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.axis_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_name_list</span></span><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.axis_name_list" title="Link to this definition"></a></dt>
<dd><p>The list of data field names for each axis of the function defined
through the <code class="docutils literal notranslate"><span class="pre">func</span></code> property.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.PsiFuncEventSelectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.PsiFuncEventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects the events whose psi value is smaller than the value of the
predefined function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray that holds the event data.
The following data fields must exist:</p>
<dl class="simple">
<dt>&lt;psi_name&gt;<span class="classifier">float</span></dt><dd><p>The great circle distance of the event with the source.</p>
</dd>
<dt>&lt;axis_name(s)&gt;<span class="classifier">float</span></dt><dd><p>The name of the axis required for the function <code class="docutils literal notranslate"><span class="pre">func</span></code> to be
evaluated.</p>
</dd>
</dl>
</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding only the selected
events.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of the sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.event_selection.</span></span><span class="sig-name descname"><span class="pre">AngErrOfPsiEventSelectionMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">psi_floor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.event_selection.SpatialEventSelectionMethod" title="skyllh.core.event_selection.SpatialEventSelectionMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialEventSelectionMethod</span></code></a></p>
<p>This event selection method selects events within a spatial box in
right-ascention and declination around a list of point-like source
positions and performs an additional selection of events whose ang_err value
is larger than the value of the provided function at a given psi value.</p>
<p>Creates and configures a spatial box and psi func event selection
method object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
sources, i.e. the list of SourceModel instances.</p></li>
<li><p><strong>delta_angle</strong> (<em>float</em>) – The half-opening angle around the source for which events should
get selected.</p></li>
<li><p><strong>psi_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the data field that provides the psi value of the event.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the psi value will be calculated automatically.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get evaluated for each event. The call
signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">func(psi)</span></code>,</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">psi</span></code> is the opening angle between the source and the event.</p>
</p></li>
<li><p><strong>psi_floor</strong> (<em>float</em><em> | </em><em>None</em>) – The psi func event selection is excluded for events having psi value
below the <code class="docutils literal notranslate"><span class="pre">psi_floor</span></code>. If None, set it to default 5 degrees.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1084</span></em><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_func',</span> <span class="pre">'_psi_floor',</span> <span class="pre">'func',</span> <span class="pre">'psi_floor')</span></em><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func</span></span><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.func" title="Link to this definition"></a></dt>
<dd><p>The function that should get evaluated for each event. The call
signature must be <code class="docutils literal notranslate"><span class="pre">func(*axis_data)</span></code>, where <code class="docutils literal notranslate"><span class="pre">*axis_data</span></code> is the
event data of each required axis. The number of axes must match the
provided axis names through the <code class="docutils literal notranslate"><span class="pre">axis_name_list</span></code> property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.psi_floor">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">psi_floor</span></span><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.psi_floor" title="Link to this definition"></a></dt>
<dd><p>The psi func event selection is excluded for events having psi value
below the <cite>psi_floor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.select_events">
<span class="sig-name descname"><span class="pre">select_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ret_original_evt_idxs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.event_selection.AngErrOfPsiEventSelectionMethod.select_events" title="Link to this definition"></a></dt>
<dd><p>Selects the events within the spatial box in right-ascention and
declination and performs an additional selection of events whose ang_err
value is larger than the value of the provided function at a given psi
value.</p>
<p>The solid angle dOmega = dRA * dSinDec = dRA * dDec * cos(dec) is a
function of declination, i.e. for a constant dOmega, the right-ascension
value has to change with declination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>events</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – <p>The instance of DataFieldRecordArray that holds the event data.
The following data fields must exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'ra'</span></code><span class="classifier">float</span></dt><dd><p>The right-ascention of the event.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'dec'</span></code><span class="classifier">float</span></dt><dd><p>The declination of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>src_evt_idxs</strong> (<em>2-tuple</em><em> of </em><em>1d ndarrays</em><em> of </em><em>ints</em><em> | </em><em>None</em>) – The 2-element tuple holding the two 1d ndarrays of int of length
N_values, specifying to which sources the given events belong to.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> all given events will be considered to for all
sources.</p></li>
<li><p><strong>ret_original_evt_idxs</strong> (<em>bool</em>) – Flag if the original indices of the selected events should get
returned as well.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to collect
timing information about this method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>selected_events</strong> (<em>instance of DataFieldRecordArray</em>) – The instance of DataFieldRecordArray holding only the selected
events.</p></li>
<li><p><strong>(src_idxs, evt_idxs)</strong> (<em>1d ndarrays of ints</em>) – The indices of the sources and the selected events.</p></li>
<li><p><strong>original_evt_idxs</strong> (<em>1d ndarray of ints</em>) – The (N_selected_events,)-shaped numpy ndarray holding the original
indices of the selected events, if <code class="docutils literal notranslate"><span class="pre">ret_original_evt_idxs</span></code> is set
to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.expectation_maximization">
<span id="skyllh-core-expectation-maximization-module"></span><h2>skyllh.core.expectation_maximization module<a class="headerlink" href="#module-skyllh.core.expectation_maximization" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.expectation_maximization.em_expectation_step">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.expectation_maximization.</span></span><span class="sig-name descname"><span class="pre">em_expectation_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sob</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.expectation_maximization.em_expectation_step" title="Link to this definition"></a></dt>
<dd><p>Expectation step of expectation maximization algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ns</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_flares,)-shaped numpy ndarray holding the number of signal
neutrinos, as weight for each gaussian flare.</p></li>
<li><p><strong>mu</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_flares,)-shaped numpy ndarray holding the mean for each gaussian
flare.</p></li>
<li><p><strong>sigma</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_flares,)-shaped numpy ndarray holding the sigma for each gaussian
flare.</p></li>
<li><p><strong>t</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_events,)-shaped numpy ndarray holding the time of each event.</p></li>
<li><p><strong>sob</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_events,)-shaped numpy ndarray holding the signal-over-background
values of each event.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>expectations</strong> (<em>instane of ndarray</em>) – The (n_flares, n_events)-shaped numpy ndarray holding the expectation
of each flare and event.</p></li>
<li><p><strong>llh</strong> (<em>float</em>) – The log-likelihood value, which is the sum of log of the signal and
background expectations.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.expectation_maximization.em_maximization_step">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.expectation_maximization.</span></span><span class="sig-name descname"><span class="pre">em_maximization_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.expectation_maximization.em_maximization_step" title="Link to this definition"></a></dt>
<dd><p>The maximization step of the expectation maximization algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>e</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (n_flares, n_events)-shaped numpy ndarray holding the expectation
for each event and flare.</p></li>
<li><p><strong>t</strong> (<em>1d ndarray</em><em> of </em><em>float</em>) – The times of each event.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mu</strong> (<em>list of float</em>) – Best fit mean time of the gaussian flare.</p></li>
<li><p><strong>sigma</strong> (<em>list of float</em>) – Best fit sigma of the gaussian flare.</p></li>
<li><p><strong>ns</strong> (<em>list of float</em>) – Best fit number of signal neutrinos, as weight for the gaussian flare.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.expectation_maximization.em_fit">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.expectation_maximization.</span></span><span class="sig-name descname"><span class="pre">em_fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iter_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.expectation_maximization.em_fit" title="Link to this definition"></a></dt>
<dd><p>Perform the expectation maximization fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array</em><em> of </em><em>float</em>) – The quantity to run EM on (e.g. the time if EM should find time flares).</p></li>
<li><p><strong>weights</strong> (<em>array</em><em> of </em><em>float</em>) – The weights for each x value (e.g. the signal over background ratio).</p></li>
<li><p><strong>n</strong> (<em>int</em>) – How many Gaussians flares we are looking for.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – The stopping criteria for the expectation maximization. This is the
difference in the normalized likelihood over the last 20 iterations.</p></li>
<li><p><strong>iter_max</strong> (<em>int</em>) – The maximum number of iterations, even if stopping criteria tolerance
(<code class="docutils literal notranslate"><span class="pre">tol</span></code>) is not yet reached.</p></li>
<li><p><strong>weight_thresh</strong> (<em>float</em>) – Set a minimum threshold for event weights. Events with smaller weights
will be removed.</p></li>
<li><p><strong>initial_width</strong> (<em>float</em>) – The starting width for the gaussian flare in days.</p></li>
<li><p><strong>remove_x</strong> (<em>float</em><em> | </em><em>None</em>) – Specific x of event that should be removed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mu</strong> (<em>list of float</em>) – The list of size <code class="docutils literal notranslate"><span class="pre">n</span></code> with the determined mean values.</p></li>
<li><p><strong>sigma</strong> (<em>list of float</em>) – The list of size <code class="docutils literal notranslate"><span class="pre">n</span></code> with the standard deviation values.</p></li>
<li><p><strong>ns</strong> (<em>list of float</em>) – The list of size <code class="docutils literal notranslate"><span class="pre">n</span></code> with the normalization factor values.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.flux_model">
<span id="skyllh-core-flux-model-module"></span><h2>skyllh.core.flux_model module<a class="headerlink" href="#module-skyllh.core.flux_model" title="Link to this heading"></a></h2>
<p>The <cite>flux_model</cite> module contains classes for different flux models. The
class for the most generic flux model is <cite>FluxModel</cite>, which is an abstract base
class. It describes a mathematical function for the differential flux:</p>
<div class="math notranslate nohighlight">
\[\frac{d^4\Phi(\alpha,\delta,E,t | \vec{p}_{\mathrm{s}})}{\mathrm{d}A
\mathrm{d}\Omega \mathrm{d}E \mathrm{d}t}\]</div>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">FluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.math.MathFunction" title="skyllh.core.math.MathFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MathFunction</span></code></a>, <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>The abstract base class for a flux profile math function.</p>
<p>Creates a new FluxProfile instance.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">47</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">SpatialFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FluxProfile" title="skyllh.core.flux_model.FluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxProfile</span></code></a></p>
<p>The abstract base class for a spatial flux profile function.</p>
<p>Creates a new SpatialFluxProfile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for angles.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code>, the configured default angle unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile.angle_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angle_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile.angle_unit" title="Link to this definition"></a></dt>
<dd><p>The set unit of angle used for this spatial flux profile.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code> the configured default angle unit for fluxes is used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return the spatial profile value for the
given celestrial coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The right-ascention coordinate.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The declination coordinate.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given celestrial angles.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set angle unit of this SpatialFluxProfile is
assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray</em>) – The spatial profile values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">62</span></em><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SpatialFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_angle_unit',</span> <span class="pre">'angle_unit')</span></em><a class="headerlink" href="#skyllh.core.flux_model.SpatialFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">UnitySpatialFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.SpatialFluxProfile" title="skyllh.core.flux_model.SpatialFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialFluxProfile</span></code></a></p>
<p>Spatial flux profile for the constant profile function 1 for any spatial
coordinates.</p>
<p>Creates a new UnitySpatialFluxProfile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for angles.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code>, the configured default angle unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of the mathematical function of
this spatial flux profile instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns 1 as numpy ndarray in same shape as ra and dec.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The right-ascention coordinate.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The declination coordinate.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given celestrial angles.
By the definition of this class this argument is ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray</em>) – 1 in same shape as ra and dec.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">130</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnitySpatialFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnitySpatialFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">PointSpatialFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.SpatialFluxProfile" title="skyllh.core.flux_model.SpatialFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialFluxProfile</span></code></a></p>
<p>Spatial flux profile for a delta function at the celestrical coordinate
(ra, dec).</p>
<p>Creates a new spatial flux profile for a point at equatorial
coordinate (ra, dec).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>None</em>) – The right-ascention of the point.
In case it is None, the evaluation of this spatial flux profile will
return zero, unless evaluated for ra=None.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>None</em>) – The declination of the point.
In case it is None, the evaluation of this spatial flux profile will
return zero, unless evaluated for dec=None.</p></li>
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for angles.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code>, the configured default angle unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.ra">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ra</span></span><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.ra" title="Link to this definition"></a></dt>
<dd><p>The right-ascention of the point.
The unit is the set angle unit of this SpatialFluxProfile instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.dec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dec</span></span><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.dec" title="Link to this definition"></a></dt>
<dd><p>The declination of the point.
The unit is the set angle unit of this SpatialFluxProfile instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of the mathematical function of
this spatial flux profile instance. It is None, if the right-ascention
or declination property is set to None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns a numpy ndarray in same shape as ra and dec with 1 if
<cite>ra</cite> equals <cite>self.ra</cite> and <cite>dec</cite> equals <cite>self.dec</cite>, and 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The right-ascention coordinate at which to evaluate the spatial flux
profile. The unit must be the internally used angle unit.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The declination coordinate at which to evaluate the spatial flux
profile. The unit must be the internally used angle unit.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given celestrial angles.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set angle unit of this SpatialFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>1D numpy ndarray of int8</em>) – A numpy ndarray in same shape as ra and dec with 1 if <cite>ra</cite>
equals <cite>self.ra</cite> and <cite>dec</cite> equals <cite>self.dec</cite>, and 0 otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">190</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointSpatialFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_dec',</span> <span class="pre">'_ra',</span> <span class="pre">'dec',</span> <span class="pre">'param_names',</span> <span class="pre">'ra')</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointSpatialFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">EnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FluxProfile" title="skyllh.core.flux_model.FluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxProfile</span></code></a></p>
<p>The abstract base class for an energy flux profile function.</p>
<p>Creates a new energy flux profile with a given energy unit to be used
for flux calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.energy_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.energy_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of energy used for the flux profile calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return the energy profile value for the
given energy value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The energy value for which to retrieve the energy profile value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of float</em>) – The energy profile values for the given energies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>This is the default implementation for calculating the integral value
of this energy flux profile in the range <code class="docutils literal notranslate"><span class="pre">[E1,</span> <span class="pre">E2]</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This implementation utilizes the <code class="docutils literal notranslate"><span class="pre">scipy.integrate.quad</span></code> function
to perform a generic numeric integration. Hence, this implementation
is slow and should be reimplemented by the derived class if an
analytic integral form is available.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E1</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The lower energy bound of the integration.</p></li>
<li><p><strong>E2</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The upper energy bound of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>instance of ndarray</em>) – The (n,)-shaped numpy ndarray holding the integral values of the
given integral ranges.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">319</span></em><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.EnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_energy_unit',</span> <span class="pre">'energy_unit')</span></em><a class="headerlink" href="#skyllh.core.flux_model.EnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">UnityEnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluxProfile</span></code></a></p>
<p>Energy flux profile for the constant function 1.</p>
<p>Creates a new UnityEnergyFluxProfile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of the mathematical function of
this energy flux profile.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns 1 as numpy ndarray in some shape as E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The energy value for which to retrieve the energy profile value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
By definition of this specific class, this argument is ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of int8</em>) – 1 in same shape as E.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>Computes the integral of this energy flux profile in the range
[<code class="docutils literal notranslate"><span class="pre">E1</span></code>, <code class="docutils literal notranslate"><span class="pre">E2</span></code>], which by definition is <code class="docutils literal notranslate"><span class="pre">E2</span> <span class="pre">-</span> <span class="pre">E1</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E1</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The lower energy bound of the integration.</p></li>
<li><p><strong>E2</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The upper energy bound of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>1d ndarray of float</em>) – The integral values of the given integral ranges.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">433</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityEnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityEnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">PowerLawEnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluxProfile</span></code></a></p>
<p>Energy flux profile for a power law profile with a reference energy
<code class="docutils literal notranslate"><span class="pre">E0</span></code> and a spectral index <code class="docutils literal notranslate"><span class="pre">gamma</span></code>.</p>
<div class="math notranslate nohighlight">
\[(E / E_0)^{-\gamma}\]</div>
<p>Creates a new power law flux profile with the reference energy <code class="docutils literal notranslate"><span class="pre">E0</span></code>
and spectral index <code class="docutils literal notranslate"><span class="pre">gamma</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E0</strong> (<em>castable to float</em>) – The reference energy.</p></li>
<li><p><strong>gamma</strong> (<em>castable to float</em>) – The spectral index.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.E0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">E0</span></span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.E0" title="Link to this definition"></a></dt>
<dd><p>The reference energy in the set energy unit of this EnergyFluxProfile
instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.gamma">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gamma</span></span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.gamma" title="Link to this definition"></a></dt>
<dd><p>The spectral index.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of this energy flux profile
instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns the power law values for the given energies as numpy ndarray
in same shape as E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The energy value for which to retrieve the energy profile value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of float</em>) – The energy profile values for the given energies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>Computes the integral value of this power-law energy flux profile in
the range <code class="docutils literal notranslate"><span class="pre">[E1,</span> <span class="pre">E2]</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E1</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The lower energy bound of the integration.</p></li>
<li><p><strong>E2</strong> (<em>float</em><em> | </em><em>1d numpy ndarray</em><em> of </em><em>float</em>) – The upper energy bound of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>1d ndarray of float</em>) – The integral values of the given integral ranges.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">523</span></em><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PowerLawEnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('E0',</span> <span class="pre">'_E0',</span> <span class="pre">'_gamma',</span> <span class="pre">'gamma',</span> <span class="pre">'param_names')</span></em><a class="headerlink" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">CutoffPowerLawEnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ecut</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile" title="skyllh.core.flux_model.PowerLawEnergyFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PowerLawEnergyFluxProfile</span></code></a></p>
<p>Cut-off power law energy flux profile of the form</p>
<div class="math notranslate nohighlight">
\[(E / E_0)^{-\gamma} \exp(-E/E_{\mathrm{cut}})\]</div>
<p>Creates a new cut-off power law flux profile with the reference
energy <code class="docutils literal notranslate"><span class="pre">E0</span></code>, spectral index <code class="docutils literal notranslate"><span class="pre">gamma</span></code>, and cut-off energy <code class="docutils literal notranslate"><span class="pre">Ecut</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E0</strong> (<em>castable to float</em>) – The reference energy.</p></li>
<li><p><strong>gamma</strong> (<em>castable to float</em>) – The spectral index.</p></li>
<li><p><strong>Ecut</strong> (<em>castable to float</em>) – The cut-off energy.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.Ecut">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Ecut</span></span><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.Ecut" title="Link to this definition"></a></dt>
<dd><p>The energy cut value.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of this energy flux profile
instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns the cut-off power law values for the given energies as
numpy ndarray in the same shape as E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>instance</em><em> of </em><em>numpy ndarray</em>) – The energy value(s) for which to retrieve the energy profile value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>instance of numpy ndarray</em>) – The energy profile values for the given energies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">678</span></em><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('Ecut',</span> <span class="pre">'_Ecut')</span></em><a class="headerlink" href="#skyllh.core.flux_model.CutoffPowerLawEnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">LogParabolaPowerLawEnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.PowerLawEnergyFluxProfile" title="skyllh.core.flux_model.PowerLawEnergyFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">PowerLawEnergyFluxProfile</span></code></a></p>
<p>This class provides an energy flux profile for a power-law with a
spectral index that varies as a log parabola in energy of the form</p>
<div class="math notranslate nohighlight">
\[\frac{E}{E_0}^{-\left(\alpha + \beta\log(\frac{E}{E_0})\right)}\]</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E0</strong> (<em>castable to float</em>) – The reference energy.</p></li>
<li><p><strong>alpha</strong> (<em>float</em>) – The alpha parameter of the log-parabola spectral index.</p></li>
<li><p><strong>beta</strong> (<em>float</em>) – The beta parameter of the log-parabola spectral index.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.alpha">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">alpha</span></span><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.alpha" title="Link to this definition"></a></dt>
<dd><p>The alpha parameter of the log-parabola spectral index.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.beta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">beta</span></span><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.beta" title="Link to this definition"></a></dt>
<dd><p>The beta parameter of the log-parabola spectral index.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>(read-only) The string representation of this energy flux profile
instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns the log-parabola power-law values for the given energies as
numpy ndarray in the same shape as E.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>instance</em><em> of </em><em>numpy ndarray</em>) – The energy value(s) for which to retrieve the energy profile value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of this EnergyFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>instance of numpy ndarray</em>) – The energy profile values for the given energies.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">776</span></em><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_alpha',</span> <span class="pre">'_beta',</span> <span class="pre">'alpha',</span> <span class="pre">'beta')</span></em><a class="headerlink" href="#skyllh.core.flux_model.LogParabolaPowerLawEnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">PhotosplineEnergyFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnergyFluxProfile</span></code></a></p>
<p>The abstract base class for an energy flux profile based on a
photospline.</p>
<p>Creates a new energy flux profile with a given energy unit to be used
for flux calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.splinetable">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splinetable</span></span><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.splinetable" title="Link to this definition"></a></dt>
<dd><p>The instance of photospline.SplineTable that describes the neutrino
energy flux profile as function of neutrino energy via B-spline
interpolation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.crit_log10_energy_lower">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">crit_log10_energy_lower</span></span><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.crit_log10_energy_lower" title="Link to this definition"></a></dt>
<dd><p>The lower energy bound of the spline’s support.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.crit_log10_energy_upper">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">crit_log10_energy_upper</span></span><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.crit_log10_energy_upper" title="Link to this definition"></a></dt>
<dd><p>The upper energy bound of the spline’s support.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">892</span></em><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_crit_log10_energy_lower',</span> <span class="pre">'_crit_log10_energy_upper',</span> <span class="pre">'_splinetable',</span> <span class="pre">'crit_log10_energy_lower',</span> <span class="pre">'crit_log10_energy_upper',</span> <span class="pre">'photospline',</span> <span class="pre">'splinetable')</span></em><a class="headerlink" href="#skyllh.core.flux_model.PhotosplineEnergyFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">TimeFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FluxProfile" title="skyllh.core.flux_model.FluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxProfile</span></code></a></p>
<p>The abstract base class for a time flux profile function.</p>
<p>Creates a new time flux profile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_start</strong> (<em>float</em>) – The start time of the time profile.
If set to -inf, it means, that the profile starts at the beginning
of the entire time-span of the dataset.</p></li>
<li><p><strong>t_stop</strong> (<em>float</em>) – The stop time of the time profile.
If set to +inf, it means, that the profile ends at the end of the
entire time-span of the dataset.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.t_start">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t_start</span></span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.t_start" title="Link to this definition"></a></dt>
<dd><p>The start time of the time profile. Can be -inf which means, that
the profile starts at the beginning of the entire dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.t_stop">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t_stop</span></span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.t_stop" title="Link to this definition"></a></dt>
<dd><p>The stop time of the time profile. Can be +inf which means, that
the profile ends at the end of the entire dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.duration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.duration" title="Link to this definition"></a></dt>
<dd><p>(read-only) The duration of the time profile.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.time_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.time_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of time used for the flux profile calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.get_total_integral">
<span class="sig-name descname"><span class="pre">get_total_integral</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.get_total_integral" title="Link to this definition"></a></dt>
<dd><p>Calculates the total integral of the time profile from t_start to
t_stop.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>integral</strong> (<em>float</em>) – The integral value of the entire time profile.
The value is in the set time unit of this TimeFluxProfile instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return the time profile value for the
given times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The time(s) for which to get the time flux profile values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of float</em>) – The time profile values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.move">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.move" title="Link to this definition"></a></dt>
<dd><p>Abstract method to move the time profile by the given amount of time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>float</em>) – The time difference of how far to move the time profile in time.
This can be a positive or negative time shift value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given time difference.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.get_integral">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to calculate the integral of the time profile
from time <code class="docutils literal notranslate"><span class="pre">t1</span></code> to time <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t1</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The start time of the integration.</p></li>
<li><p><strong>t2</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The end time of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">Ǹone</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>array of float</em>) – The integral value(s) of the time profile. The values are in the
set time unit of this TimeFluxProfile instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">979</span></em><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.TimeFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_t_start',</span> <span class="pre">'_t_stop',</span> <span class="pre">'_time_unit',</span> <span class="pre">'param_names',</span> <span class="pre">'t_start',</span> <span class="pre">'t_stop',</span> <span class="pre">'time_unit')</span></em><a class="headerlink" href="#skyllh.core.flux_model.TimeFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">UnityTimeFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeFluxProfile</span></code></a></p>
<p>Time flux profile for the constant profile function <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>Creates a new instance of UnityTimeFluxProfile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>The string showing the mathematical function of this MathFunction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns 1 as numpy ndarray in same shape as t.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The time(s) for which to get the time flux profile values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
By definition of this specific class, this argument is ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of int8</em>) – 1 in same shape as <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.move">
<span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.move" title="Link to this definition"></a></dt>
<dd><p>Moves the time profile by the given amount of time. By definition
this method does nothing, because the profile is 1 over the entire
dataset time range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>float</em>) – The time difference of how far to move the time profile in time.
This can be a positive or negative time shift value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given time difference.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>Calculates the integral of the time profile from time t1 to time t2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t1</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The start time of the integration.</p></li>
<li><p><strong>t2</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The end time of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>array of float</em>) – The integral value(s) of the time profile. The values are in the
set time unit of this TimeFluxProfile instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1162</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.UnityTimeFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.UnityTimeFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">BoxTimeFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tw</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeFluxProfile</span></code></a></p>
<p>This class describes a box-shaped time flux profile.
It has the following parameters:</p>
<blockquote>
<div><dl class="simple">
<dt>t0<span class="classifier">float</span></dt><dd><p>The mid time of the box profile.</p>
</dd>
<dt>tw<span class="classifier">float</span></dt><dd><p>The width of the box profile.</p>
</dd>
</dl>
</div></blockquote>
<p>The box is centered at <code class="docutils literal notranslate"><span class="pre">t0</span></code> and extends to +/-<code class="docutils literal notranslate"><span class="pre">tw</span></code>/2 around <code class="docutils literal notranslate"><span class="pre">t0</span></code>.</p>
<p>Creates a new box-shaped time profile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t0</strong> (<em>float</em>) – The mid time of the box profile.</p></li>
<li><p><strong>tw</strong> (<em>float</em>) – The width of the box profile.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.from_start_and_stop_time">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_start_and_stop_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.from_start_and_stop_time" title="Link to this definition"></a></dt>
<dd><p>Constructs a BoxTimeFluxProfile instance from the given start and
stop time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>float</em>) – The start time of the box profile.</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – The stop time of the box profile.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments, which are passed to the constructor
of the <a class="reference internal" href="#skyllh.core.flux_model.BoxTimeFluxProfile" title="skyllh.core.flux_model.BoxTimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">BoxTimeFluxProfile</span></code></a> class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>profile</strong> (<em>instance of BoxTimeFluxProfile</em>) – The newly created instance of BoxTimeFluxProfile.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.t0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t0</span></span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.t0" title="Link to this definition"></a></dt>
<dd><p>The time of the mid point of the box.
The value is in the set time unit of this TimeFluxProfile instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.tw">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tw</span></span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.tw" title="Link to this definition"></a></dt>
<dd><p>The time width of the box.
The value is in the set time unit of this TimeFluxProfile instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>The string representation of the mathematical function of this
TimeFluxProfile instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns 1 for all t within the interval [t0-tw/2; t0+tw/2], and 0
otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The time(s) for which to get the time flux profile values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of int8</em>) – The value(s) of the time flux profile for the given time(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.cdf">
<span class="sig-name descname"><span class="pre">cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.cdf" title="Link to this definition"></a></dt>
<dd><p>Calculates the cumulative distribution function value for the given
time values <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_times,)-shaped numpy ndarray holding the time values for
which to calculate the CDF values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile is
assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>instance of numpy ndarray</em>) – The (N_times,)-shaped numpy ndarray holding the cumulative
distribution function values for each time <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.move">
<span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.move" title="Link to this definition"></a></dt>
<dd><p>Moves the box-shaped time profile by the time difference dt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>float</em>) – The time difference of how far to move the time profile in time.
This can be a positive or negative time shift value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of <code class="docutils literal notranslate"><span class="pre">dt</span></code>.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>Calculates the integral of the box-shaped time flux profile from
time t1 to time t2.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t1</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The start time(s) of the integration.</p></li>
<li><p><strong>t2</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The end time(s) of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>array of float</em>) – The integral value(s). The values are in the set time unit of this
TimeFluxProfile instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1271</span></em><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.BoxTimeFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_t_start',</span> <span class="pre">'_t_stop',</span> <span class="pre">'param_names')</span></em><a class="headerlink" href="#skyllh.core.flux_model.BoxTimeFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">GaussianTimeFluxProfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-12</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeFluxProfile</span></code></a></p>
<p>This class describes a gaussian-shaped time flux profile.
It has the following parameters:</p>
<blockquote>
<div><dl class="simple">
<dt>t0<span class="classifier">float</span></dt><dd><p>The mid time of the gaussian profile.</p>
</dd>
<dt>sigma_t<span class="classifier">float</span></dt><dd><p>The one-sigma width of the gaussian profile.</p>
</dd>
</dl>
</div></blockquote>
<p>Creates a new gaussian-shaped time flux profile instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t0</strong> (<em>float</em>) – The mid time of the gaussian profile.</p></li>
<li><p><strong>sigma_t</strong> (<em>float</em>) – The one-sigma width of the gaussian profile.</p></li>
<li><p><strong>tol</strong> (<em>float</em>) – The tolerance of the gaussian value. This defines the start and end
time of the gaussian profile.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.math_function_str" title="Link to this definition"></a></dt>
<dd><p>The string showing the mathematical function of this MathFunction.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.t0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">t0</span></span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.t0" title="Link to this definition"></a></dt>
<dd><p>The time of the mid point of the gaussian profile.
The unit of the value is the set time unit of this TimeFluxProfile
instance.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.sigma_t">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigma_t</span></span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.sigma_t" title="Link to this definition"></a></dt>
<dd><p>The one-sigma width of the gaussian profile.
The unit of the value is the set time unit of this TimeFluxProfile
instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.__call__" title="Link to this definition"></a></dt>
<dd><p>Returns the gaussian profile value for the given time <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>1D numpy ndarray</em><em> of </em><em>float</em>) – The time(s) for which to get the time flux profile values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile is
assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>1D numpy ndarray of float</em>) – The value(s) of the time flux profile for the given time(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.cdf">
<span class="sig-name descname"><span class="pre">cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.cdf" title="Link to this definition"></a></dt>
<dd><p>Calculates the cumulative distribution function values for the given
time values <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_times,)-shaped numpy ndarray holding the time values for
which to calculate the CDF values.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile is
assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values</strong> (<em>instance of numpy ndarray</em>) – The (N_times,)-shaped numpy ndarray holding the cumulative
distribution function values for each time <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.move">
<span class="sig-name descname"><span class="pre">move</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.move" title="Link to this definition"></a></dt>
<dd><p>Moves the gaussian time profile by the given amount of time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dt</strong> (<em>float</em>) – The time difference of how far to move the time profile in time.
This can be a positive or negative time shift value.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given time difference.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile is
assumed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.get_integral">
<span class="sig-name descname"><span class="pre">get_integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.get_integral" title="Link to this definition"></a></dt>
<dd><p>Calculates the integral of the gaussian time profile from time <code class="docutils literal notranslate"><span class="pre">t1</span></code>
to time <code class="docutils literal notranslate"><span class="pre">t2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t1</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The start time(s) of the integration.</p></li>
<li><p><strong>t2</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>float</em>) – The end time(s) of the integration.</p></li>
<li><p><strong>unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of this TimeFluxProfile
instance is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>integral</strong> (<em>array of float</em>) – The integral value(s). The values are in the set time unit of
this TimeFluxProfile instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1542</span></em><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.GaussianTimeFluxProfile.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_sigma_t',</span> <span class="pre">'param_names',</span> <span class="pre">'sigma_t',</span> <span class="pre">'t0')</span></em><a class="headerlink" href="#skyllh.core.flux_model.GaussianTimeFluxProfile.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">FluxModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.math.MathFunction" title="skyllh.core.math.MathFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MathFunction</span></code></a>, <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a>, <a class="reference internal" href="#skyllh.core.model.Model" title="skyllh.core.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>Abstract base class for all flux models of the form</p>
<div class="math notranslate nohighlight">
\[\Phi_S(\alpha,\delta,E,t | \vec{x}_s,\vec{p}_s).\]</div>
<p>This base class defines the units used for the flux calculation. The unit
of the flux is ([angle]^{-2} [energy]^{-1} [length]^{-2} [time]^{-1}).</p>
<p>At this point the functional form of the flux model is not yet defined.</p>
<p>Creates a new FluxModel instance and defines the user-defined units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for angles.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default angle unit for fluxes is
used.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for energy.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default energy unit for fluxes is
used.</p></li>
<li><p><strong>length_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for length.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default length unit for fluxes is
used.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1782</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_angle_unit',</span> <span class="pre">'_energy_unit',</span> <span class="pre">'_length_unit',</span> <span class="pre">'_time_unit',</span> <span class="pre">'angle_unit',</span> <span class="pre">'energy_unit',</span> <span class="pre">'length_unit',</span> <span class="pre">'time_unit')</span></em><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.get_default_units">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_default_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.get_default_units" title="Link to this definition"></a></dt>
<dd><p>Returns the configured default units for flux models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>units_dict</strong> (<em>dict</em>) – The dictionary holding the configured default units used for flux
models.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.angle_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angle_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.angle_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of angle used for the flux calculation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.energy_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.energy_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of energy used for the flux calculation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.length_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.length_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of length used for the flux calculation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.time_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.time_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of time used for the flux calculation.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.unit_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unit_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.unit_str" title="Link to this definition"></a></dt>
<dd><p>The string representation of the flux unit.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.unit_latex_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unit_latex_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.unit_latex_str" title="Link to this definition"></a></dt>
<dd><p>The latex string representation of the flux unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.__call__" title="Link to this definition"></a></dt>
<dd><p>The call operator to retrieve a flux value for a given celestrial
position, energy, and observation time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>(</em><em>Ncoord</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em><em> of </em><em>float</em>) – The right-ascention coordinate for which to retrieve the flux value.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>(</em><em>Ncoord</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em><em> of </em><em>float</em>) – The declination coordinate for which to retrieve the flux value.</p></li>
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>(</em><em>Nenergy</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em><em> of </em><em>float</em>) – The energy for which to retrieve the flux value.</p></li>
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>(</em><em>Ntime</em><em>,</em><em>)</em><em>-shaped 1D numpy ndarray</em><em> of </em><em>float</em>) – The observation time for which to retrieve the flux value.</p></li>
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given angles.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set angle unit of the flux model is assumed.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of the flux model is assumed.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of the flux model is assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>flux</strong> (<em>(Ncoord,Nenergy,Ntime)-shaped ndarray of float</em>) – The flux values are in unit of the set flux model units
[energy]^{-1} [angle]^{-2} [length]^{-2} [time]^{-1}.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FluxModel.to_internal_flux_unit">
<span class="sig-name descname"><span class="pre">to_internal_flux_unit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FluxModel.to_internal_flux_unit" title="Link to this definition"></a></dt>
<dd><p>Calculates the conversion factor to convert the flux unit of this
flux model instance to the SkyLLH internally used flux unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>factor</strong> (<em>float</em>) – The conversion factor.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">NullFluxModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FluxModel" title="skyllh.core.flux_model.FluxModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxModel</span></code></a></p>
<p>This class provides a dummy flux model class, which can be used for
testing purposes, in cases where an actual flux model is not required but
the framework interface requires one.</p>
<p>Creates a new instance of NullFluxModel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a><em> | </em><em>None</em>) – The instance of Config holding the local configuration. Since this
flux model does nothing, this argument is optional. If not provided
the default configuration is used.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2022</span></em><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel.math_function_str">
<span class="sig-name descname"><span class="pre">math_function_str</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel.math_function_str" title="Link to this definition"></a></dt>
<dd><p>Since this is a dummy flux model, calling this method will raise a
NotImplementedError.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.NullFluxModel.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.NullFluxModel.__call__" title="Link to this definition"></a></dt>
<dd><p>Since this is a dummy flux model, calling this method will raise a
NotImplementedError.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">FactorizedFluxModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Phi0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FluxModel" title="skyllh.core.flux_model.FluxModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FluxModel</span></code></a></p>
<p>This class describes a flux model where the spatial, energy, and time
profiles of the source factorize. That means the flux can be written as:</p>
<div class="math notranslate nohighlight">
\[\Phi(\alpha,\delta,E,t | \vec{p}_\mathrm{s}) =
    \Phi_0
    \Psi(\alpha,\delta|\vec{p}_\mathrm{s})
    \epsilon(E|\vec{p}_\mathrm{s})
    T(t|\vec{p}_\mathrm{s})\]</div>
<p>where, <span class="math notranslate nohighlight">\(\Phi_0\)</span> is the normalization constant of the flux, and
<span class="math notranslate nohighlight">\(\Psi\)</span>, <span class="math notranslate nohighlight">\(\epsilon\)</span>, and <span class="math notranslate nohighlight">\(T\)</span> are the spatial, energy, and
time profiles of the flux given the source parameters
<span class="math notranslate nohighlight">\(\vec{p}_\mathrm{s}\)</span>, respectively.</p>
<p>Creates a new factorized flux model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Phi0</strong> (<em>float</em>) – The flux normalization constant.</p></li>
<li><p><strong>spatial_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.SpatialFluxProfile" title="skyllh.core.flux_model.SpatialFluxProfile"><em>SpatialFluxProfile</em></a><em> | </em><em>None</em>) – The SpatialFluxProfile instance providing the spatial profile
function of the flux.
If set to None, an instance of UnitySpatialFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>energy_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><em>EnergyFluxProfile</em></a><em> | </em><em>None</em>) – The EnergyFluxProfile instance providing the energy profile
function of the flux.
If set to None, an instance of UnityEnergyFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>time_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><em>TimeFluxProfile</em></a><em> | </em><em>None</em>) – The TimeFluxProfile instance providing the time profile function
of the flux.
If set to None, an instance of UnityTimeFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>length_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for length.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default length unit for fluxes is
used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2069</span></em><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('Phi0',</span> <span class="pre">'_Phi0',</span> <span class="pre">'_energy_profile',</span> <span class="pre">'_spatial_profile',</span> <span class="pre">'_time_profile',</span> <span class="pre">'energy_profile',</span> <span class="pre">'param_names',</span> <span class="pre">'spatial_profile',</span> <span class="pre">'time_profile')</span></em><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.Phi0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Phi0</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.Phi0" title="Link to this definition"></a></dt>
<dd><p>The flux normalization constant.
The unit of this normalization constant is
([angle]^{-2} [energy]^{-1} [length]^{-2} [time]^{-1}).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.spatial_profile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">spatial_profile</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.spatial_profile" title="Link to this definition"></a></dt>
<dd><p>Instance of SpatialFluxProfile describing the spatial profile of the
flux.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.energy_profile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_profile</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.energy_profile" title="Link to this definition"></a></dt>
<dd><p>Instance of EnergyFluxProfile describing the energy profile of the
flux.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.time_profile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_profile</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.time_profile" title="Link to this definition"></a></dt>
<dd><p>Instance of TimeFluxProfile describing the time profile of the flux.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.math_function_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.math_function_str" title="Link to this definition"></a></dt>
<dd><p>The string showing the mathematical function of the flux.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.angle_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">angle_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.angle_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of angle used for the flux calculation. The unit is
taken and set from and to the set spatial flux profile, respectively.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.energy_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.energy_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of energy used for the flux calculation. The unit is
taken and set from and to the set energy flux profile, respectively.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.time_unit">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_unit</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.time_unit" title="Link to this definition"></a></dt>
<dd><p>The unit of time used for the flux calculation. The unit is
taken and set from and to the set time flux profile, respectively.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.param_names" title="Link to this definition"></a></dt>
<dd><p>The tuple holding the names of the math function’s parameters. This
is the total set of parameter names for all flux profiles of this
FactorizedFluxModel instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">E</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculates the flux values for the given celestrial positions,
energies, and observation times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>(</em><em>Ncoord</em><em>,</em><em>)</em><em>-shaped 1d numpy ndarray</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The right-ascention coordinate for which to retrieve the flux value.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>(</em><em>Ncoord</em><em>,</em><em>)</em><em>-shaped 1d numpy ndarray</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The declination coordinate for which to retrieve the flux value.</p></li>
<li><p><strong>E</strong> (<em>float</em><em> | </em><em>(</em><em>Nenergy</em><em>,</em><em>)</em><em>-shaped 1d numpy ndarray</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The energy for which to retrieve the flux value.</p></li>
<li><p><strong>t</strong> (<em>float</em><em> | </em><em>(</em><em>Ntime</em><em>,</em><em>)</em><em>-shaped 1d numpy ndarray</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The observation time for which to retrieve the flux value.</p></li>
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given angles.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set angle unit of the spatial flux profile is
assumed.</p></li>
<li><p><strong>energy_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given energies.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set energy unit of the energy flux profile is
assumed.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit of the given times.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, the set time unit of the time flux profile is
assumed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>flux</strong> (<em>(Ncoord,Nenergy,Ntime)-shaped ndarray of float</em>) – The flux values are in unit
[energy]^{-1} [angle]^{-2} [length]^{-2} [time]^{-1}.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.get_param">
<span class="sig-name descname"><span class="pre">get_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.get_param" title="Link to this definition"></a></dt>
<dd><p>Retrieves the value of the given parameter. It returns <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> if
the parameter does not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>float | np.nan</em>) – The value of the parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.flux_model.FactorizedFluxModel.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.FactorizedFluxModel.set_params" title="Link to this definition"></a></dt>
<dd><p>Sets the parameters of the flux model. For this factorized flux model
it means that it sets the parameters of the spatial, energy, and time
profiles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pdict</strong> (<em>dict</em>) – The flux parameter dictionary.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>updated</strong> (<em>bool</em>) – Flag if parameter values were actually updated.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">PointlikeFFM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Phi0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.FactorizedFluxModel" title="skyllh.core.flux_model.FactorizedFluxModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">FactorizedFluxModel</span></code></a>, <a class="reference internal" href="#skyllh.core.source_model.IsPointlike" title="skyllh.core.source_model.IsPointlike"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsPointlike</span></code></a></p>
<p>This class describes a factorized flux model (FFM), where the spatial
profile is modeled as a point. This class provides the base class for a flux
model of a point-like source.</p>
<p>Creates a new factorized flux model for a point-like source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Phi0</strong> (<em>float</em>) – The flux normalization constant in unit of flux.</p></li>
<li><p><strong>energy_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><em>EnergyFluxProfile</em></a><em> | </em><em>None</em>) – The EnergyFluxProfile instance providing the energy profile
function of the flux.
If set to None, an instance of UnityEnergyFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>time_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><em>TimeFluxProfile</em></a><em> | </em><em>None</em>) – The TimeFluxProfile instance providing the time profile function
of the flux.
If set to None, an instance of UnityTimeFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>None</em>) – The right-ascention of the point.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>None</em>) – The declination of the point.</p></li>
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit for angles used for the flux unit.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured internal angle unit is used.</p></li>
<li><p><strong>length_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit for length used for the flux unit.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured internal length unit is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2404</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM.unit_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unit_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM.unit_str" title="Link to this definition"></a></dt>
<dd><p>The string representation of the flux unit.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.flux_model.PointlikeFFM.unit_latex_str">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unit_latex_str</span></span><a class="headerlink" href="#skyllh.core.flux_model.PointlikeFFM.unit_latex_str" title="Link to this definition"></a></dt>
<dd><p>The latex string representation of the flux unit.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SteadyPointlikeFFM">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.flux_model.</span></span><span class="sig-name descname"><span class="pre">SteadyPointlikeFFM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Phi0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ra</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_unit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.flux_model.SteadyPointlikeFFM" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.flux_model.PointlikeFFM" title="skyllh.core.flux_model.PointlikeFFM"><code class="xref py py-class docutils literal notranslate"><span class="pre">PointlikeFFM</span></code></a></p>
<p>This class describes a factorized flux model (FFM), where the spatial
profile is modeled as a point and the time profile as constant 1. It is
derived from the <code class="docutils literal notranslate"><span class="pre">PointlikeFFM</span></code> class.</p>
<p>Creates a new factorized flux model for a point-like source with no
time dependance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Phi0</strong> (<em>float</em>) – The flux normalization constant.</p></li>
<li><p><strong>energy_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.EnergyFluxProfile" title="skyllh.core.flux_model.EnergyFluxProfile"><em>EnergyFluxProfile</em></a><em> | </em><em>None</em>) – The EnergyFluxProfile instance providing the energy profile
function of the flux.
If set to None, an instance of UnityEnergyFluxProfile will be used,
which represents the constant function 1.</p></li>
<li><p><strong>ra</strong> (<em>float</em><em> | </em><em>None</em>) – The right-ascention of the point.</p></li>
<li><p><strong>dec</strong> (<em>float</em><em> | </em><em>None</em>) – The declination of the point.</p></li>
<li><p><strong>angle_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit for angles used for the flux unit.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default angle unit for fluxes
is used.</p></li>
<li><p><strong>length_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The unit for length used for the flux unit.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default length unit for fluxes
is used.</p></li>
<li><p><strong>time_unit</strong> (<em>instance</em><em> of </em><em>astropy.units.UnitBase</em><em> | </em><em>None</em>) – The used unit for time.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the configured default time unit for fluxes
is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SteadyPointlikeFFM.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.flux_model.SteadyPointlikeFFM.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SteadyPointlikeFFM.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">2497</span></em><a class="headerlink" href="#skyllh.core.flux_model.SteadyPointlikeFFM.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.flux_model.SteadyPointlikeFFM.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.flux_model.SteadyPointlikeFFM.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.interpolate">
<span id="skyllh-core-interpolate-module"></span><h2>skyllh.core.interpolate module<a class="headerlink" href="#module-skyllh.core.interpolate" title="Link to this heading"></a></h2>
<p>This module provides functionality for interpolation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.interpolate.</span></span><span class="sig-name descname"><span class="pre">GridManifoldInterpolationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is an abstract base class for implementing a method to interpolate
a manifold that is defined on a grid of parameter values. In general the
number of parameters can be arbitrary and hence the manifold’s
dimensionality can be arbitrary, too. However, in practice the interpolation
on a multi-dimensional manifold can be rather difficult.
Nevertheless, we provide this interface to allow for manifold grids with
different dimensionality.</p>
<p>Constructor for a GridManifoldInterpolationMethod object.
It must be called by the derived class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable R^D -&gt; R</em>) – <p>The function that takes D parameter grid values as input and returns
the value of the D-dimensional manifold at this point for each given
trial event and source.
The call signature of func must be:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(tdm,</span> <span class="pre">eventdata,</span> <span class="pre">gridparams_recarray,</span> <span class="pre">n_values,</span> <span class="pre">**kwargs)</span></code></p>
</div></blockquote>
<p>The arguments are as follows:</p>
<blockquote>
<div><dl class="simple">
<dt>tdm<span class="classifier">instance of TrialDataManager</span></dt><dd><p>The TrialDataManager instance holding the trial event data.</p>
</dd>
<dt>eventdata<span class="classifier">instance of numpy ndarray</span></dt><dd><p>A two-dimensional (V,N_events)-shaped numpy ndarray holding
the event data, where N_events is the number of trial
events, and V the dimensionality of the event data.</p>
</dd>
<dt>gridparams_recarray<span class="classifier">instance of numpy.ndarray</span></dt><dd><p>The structured numpy ndarray of length <code class="docutils literal notranslate"><span class="pre">len(src_idxs)</span></code>
with the D parameter names and values on the grid for all
sources.</p>
</dd>
<dt>n_values<span class="classifier">int</span></dt><dd><p>The length of the output numpy ndarray of shape (n_values,).</p>
</dd>
<dt><a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs</dt><dd><p>Additional keyword arguments required by <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p>
</dd>
</dl>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> should be the (n_values,)-shaped
one-dimensional ndarray holding the values for each set of parameter
values of the sources given via the <code class="docutils literal notranslate"><span class="pre">gridparams_recarray</span></code>.
The length of the array, i.e. n_values, depends on the
<code class="docutils literal notranslate"><span class="pre">src_evt_idx</span></code> property of the TrialDataManager. In the worst case
n_values is N_sources * N_events.</p>
</p></li>
<li><p><strong>param_grid_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGridSet" title="skyllh.core.parameters.ParameterGridSet"><em>ParameterGridSet</em></a>) – The set of D parameter grids. This defines the grid of the
manifold.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func</span></span><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.func" title="Link to this definition"></a></dt>
<dd><p>The R^d -&gt; R manifold function.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.param_grid_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_grid_set</span></span><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.param_grid_set" title="Link to this definition"></a></dt>
<dd><p>The ParameterGridSet instance defining the set of D parameter grids.
This defines the grid of the manifold.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.ndim" title="Link to this definition"></a></dt>
<dd><p>(read-only) The dimensionality of the manifold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Retrieves the interpolated value of the manifold at the D-dimensional
point <code class="docutils literal notranslate"><span class="pre">params_recarray</span></code> for all given events and sources, along with
the D gradients, i.e. partial derivatives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data.</p></li>
<li><p><strong>eventdata</strong> (<em>numpy ndarray</em>) – The 2D (V,N_events)-shaped numpy ndarray holding the event data,
where N_events is the number of trial events, and V the
dimensionality of the event data.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The structured numpy ndarray holding the N_sources set of parameter
names and values, that define the point (for each source) on the
manifold for which the value should get calculated for each event.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments required by the function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>instance of numpy.ndarray</em>) – The (N,)-shaped numpy ndarray holding the interpolated manifold
values for the given events and sources.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy.ndarray</em>) – The (D,N)-shaped numpy ndarray holding the D manifold gradients for
the N given values, where D is the number of parameters.
The order of the D parameters is defined by the ParameterGridSet
that has been provided at construction time of this interpolation
method object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">18</span></em><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.GridManifoldInterpolationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_func',</span> <span class="pre">'_param_grid_set',</span> <span class="pre">'func',</span> <span class="pre">'param_grid_set')</span></em><a class="headerlink" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.interpolate.NullGridManifoldInterpolationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.interpolate.</span></span><span class="sig-name descname"><span class="pre">NullGridManifoldInterpolationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a></p>
<p>This grid manifold interpolation method performs no interpolation. When
the
<a class="reference internal" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__call__" title="skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code></a>
method is called, it rounds the parameter values to their nearest grid
point values. All gradients are set to zero.</p>
<p>Creates a new NullGridManifoldInterpolationMethod instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable R^d -&gt; R</em>) – The function that takes d parameter grid values as input and returns
the value of the d-dimensional manifold at this point for each given
trial event and source.
See the documentation of the
<a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a>
class for more details.</p></li>
<li><p><strong>param_grid_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGridSet" title="skyllh.core.parameters.ParameterGridSet"><em>ParameterGridSet</em></a>) – The set of d parameter grids. This defines the grid of the
manifold.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculates the non-interpolated manifold value and its gradient
(zero) for each given event and source at the points given by
<code class="docutils literal notranslate"><span class="pre">params_recarray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data.</p></li>
<li><p><strong>eventdata</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The (V,N_events)-shaped numpy ndarray holding the event data,
where N_events is the number of events, and V the dimensionality of
the event data.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The structured numpy ndarray of length N_sources holding the
parameter names and values of the sources, defining the point on the
manifold for which the values should get calculated.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments required by the function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>instance of numpy.ndarray</em>) – The (N,)-shaped numpy ndarray holding the interpolated manifold
values for the given events and sources.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy.ndarray</em>) – The (D,N)-shaped ndarray of float holding the D manifold gradients
for the N values, where D is the number of parameters of the
manifold.
By definition, all gradients are zero.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">160</span></em><a class="headerlink" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.interpolate.NullGridManifoldInterpolationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.interpolate.</span></span><span class="sig-name descname"><span class="pre">Linear1DGridManifoldInterpolationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a></p>
<p>This grid manifold interpolation method interpolates the 1-dimensional
grid manifold using a line.</p>
<p>Creates a new Linear1DGridManifoldInterpolationMethod instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable R -&gt; R</em>) – The function that takes the parameter grid value as input and
returns the value of the 1-dimensional manifold at this point for
each given source and trial event.
See the documentation of the
<a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a>
class for more details.</p></li>
<li><p><strong>param_grid_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGridSet" title="skyllh.core.parameters.ParameterGridSet"><em>ParameterGridSet</em></a>) – The one parameter grid. This defines the grid of the manifold.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculates the interpolated manifold value and its gradient for each
given source and trial event at the point <code class="docutils literal notranslate"><span class="pre">params_recarray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data.</p></li>
<li><p><strong>eventdata</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (V,N_events)-shaped numpy ndarray holding the event data,
where N_events is the number of events, and V the dimensionality of
the event data.</p></li>
<li><p><strong>params_recarray</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values for each source, defining the point on the manifold
for which the value should get calculated.
This record ndarray can be of length 1. In that case the single set
of parameters is used for all sources.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments required by the function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>instance of numpy.ndarray</em>) – The (N_values,)-shaped numpy ndarray of float holding the
interpolated manifold values for all sources and trial events.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy.ndarray</em>) – The (D,N_values)-shaped numpy ndarray of float holding the D
manifold gradients for the N_values values for all sources and trial
events, where D is the number of interpolation parameters.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">263</span></em><a class="headerlink" href="#skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache',</span> <span class="pre">'_p_grid')</span></em><a class="headerlink" href="#skyllh.core.interpolate.Linear1DGridManifoldInterpolationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.interpolate.</span></span><span class="sig-name descname"><span class="pre">Parabola1DGridManifoldInterpolationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a></p>
<p>This grid manifold interpolation method interpolates the 1-dimensional
grid manifold using a parabola.</p>
<p>Creates a new Parabola1DGridManifoldInterpolationMethod instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable R -&gt; R</em>) – The function that takes the parameter grid value as input and
returns the value of the 1-dimensional manifold at this point for
each given source and trial event.
See the documentation of the
<a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code></a>
class for more details.</p></li>
<li><p><strong>param_grid_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGridSet" title="skyllh.core.parameters.ParameterGridSet"><em>ParameterGridSet</em></a>) – The one parameter grid. This defines the grid of the manifold.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">473</span></em><a class="headerlink" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache',</span> <span class="pre">'_p_grid')</span></em><a class="headerlink" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculates the interpolated manifold value and its gradient for each
given source and trial event at the point <code class="docutils literal notranslate"><span class="pre">params_recarray</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data.</p></li>
<li><p><strong>eventdata</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (V,N_events)-shaped numpy ndarray holding the event data,
where N_events is the number of events, and V the dimensionality of
the event data.</p></li>
<li><p><strong>params_recarray</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values for each source, defining the point on the manifold
for which the value should get calculated.
This record ndarray can be of length 1. In that case the single set
of parameters is used for all sources.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments required by the function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>values</strong> (<em>(N_values,) ndarray of float</em>) – The interpolated manifold value for the N given events.</p></li>
<li><p><strong>grads</strong> (<em>(D,N_values) ndarray of float</em>) – The D manifold gradients for the N given events, where D is the
number of parameters.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.livetime">
<span id="skyllh-core-livetime-module"></span><h2>skyllh.core.livetime module<a class="headerlink" href="#module-skyllh.core.livetime" title="Link to this heading"></a></h2>
<p>The livetime module provides general functionality for detector up-time.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.livetime.</span></span><span class="sig-name descname"><span class="pre">Livetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uptime_mjd_intervals_arr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">Livetime</span></code> class defines an interface to query the up-time of the
detector.</p>
<p>Creates a new Livetime object from a (N,2)-shaped ndarray holding
the uptime intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>uptime_mjd_intervals_arr</strong> (<em>(</em><em>N</em><em>,</em><em>2</em><em>)</em><em>-shaped ndarray</em>) – <p>The (N,2)-shaped ndarray holding the start and end times of each
up-time interval.</p>
<p>Note 1: The intervals must be sorted ascedent in time.</p>
<dl class="simple">
<dt>Note 2: By definition the lower edge is included in the interval,</dt><dd><p>whereas the upper edge is excluded from the interval.</p>
</dd>
</dl>
<p>Note 3: The intervals must not overlap.</p>
<p>The integrity of the internal mjd interval array will be ensured by
the property setter method of <code class="docutils literal notranslate"><span class="pre">uptime_mjd_intervals_arr</span></code> by
calling the <code class="docutils literal notranslate"><span class="pre">assert_mjd_intervals_integrity</span></code> method.</p>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.get_integrated_livetime">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_integrated_livetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.get_integrated_livetime" title="Link to this definition"></a></dt>
<dd><p>Gets the integrated live-time from the given livetime argument, which
is either a scalar value or an instance of Livetime.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>livetime</strong> (<em>float</em><em> | </em><em>Livetime instance</em>) – The live-time in days as float, or an instance of Livetime.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>intgrated_livetime</strong> (<em>float</em>) – The integrated live-time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.assert_mjd_intervals_integrity">
<span class="sig-name descname"><span class="pre">assert_mjd_intervals_integrity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.assert_mjd_intervals_integrity" title="Link to this definition"></a></dt>
<dd><p>Checks if the given MJD interval array conforms with all its
data requirements.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N,2)-shaped numpy ndarray holding the up-time intervals.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If the data array is not a float64 array.</p></li>
<li><p><strong>ValueError</strong> – If the data integrity is broken.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.uptime_mjd_intervals_arr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">uptime_mjd_intervals_arr</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.uptime_mjd_intervals_arr" title="Link to this definition"></a></dt>
<dd><p>The Nx2 numpy ndarray holding the up-time intervals of the detector.
The first and second elements of the second axis is the start and stop
time of the up-time interval, respectively.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.n_uptime_mjd_intervals">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_uptime_mjd_intervals</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.n_uptime_mjd_intervals" title="Link to this definition"></a></dt>
<dd><p>The number of on-time intervals defined.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.livetime" title="Link to this definition"></a></dt>
<dd><p>The integrated live-time in days, based on the internal up-time time
intervals.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.time_window">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_window</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.time_window" title="Link to this definition"></a></dt>
<dd><p>(read-only) The two-element tuple holding the time window which is
spanned by all the MJD uptime intervals.
By definition this included possible detector down-time periods.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.time_start">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_start</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.time_start" title="Link to this definition"></a></dt>
<dd><p>(read-only) The start time of the detector live-time.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.time_stop">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_stop</span></span><a class="headerlink" href="#skyllh.core.livetime.Livetime.time_stop" title="Link to this definition"></a></dt>
<dd><p>(read-only) The stop time of the detector live-time.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.get_uptime_intervals_between">
<span class="sig-name descname"><span class="pre">get_uptime_intervals_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.get_uptime_intervals_between" title="Link to this definition"></a></dt>
<dd><p>Creates a (N,2)-shaped ndarray holding the on-time detector intervals
between the given time range from t_start to t_end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t_start</strong> (<em>float</em>) – The MJD start time of the time range to consider. This might be the
lower bound of the first on-time interval.</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – The MJD end time of the time range to consider. This might be the
upper bound of the last on-time interval.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ontime_intervals</strong> (<em>(N,2)-shaped ndarray</em>) – The (N,2)-shaped ndarray holding the on-time detector intervals.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.get_livetime_upto">
<span class="sig-name descname"><span class="pre">get_livetime_upto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.get_livetime_upto" title="Link to this definition"></a></dt>
<dd><p>Calculates the cumulative detector livetime up to the given time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mjd</strong> (<em>float</em><em> | </em><em>array</em><em> of </em><em>floats</em>) – The time in MJD up to which the detector livetime should be
calculated.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>livetimes</strong> (<em>float | ndarray of floats</em>) – The ndarray holding the cumulative detector livetime corresponding
to the the given MJD times.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">14</span></em><a class="headerlink" href="#skyllh.core.livetime.Livetime.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_uptime_mjd_intervals_arr',</span> <span class="pre">'uptime_mjd_intervals_arr')</span></em><a class="headerlink" href="#skyllh.core.livetime.Livetime.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.is_on">
<span class="sig-name descname"><span class="pre">is_on</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mjd</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.is_on" title="Link to this definition"></a></dt>
<dd><p>Checks if the detector is on at the given MJD time. MJD times
outside any live-time interval will be masked as False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mjd</strong> (<em>float</em><em> | </em><em>sequence</em><em> of </em><em>float</em>) – The time in MJD.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>is_on</strong> (<em>array of bool</em>) – True if the detector was on at the given time.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.livetime.Livetime.draw_ontimes">
<span class="sig-name descname"><span class="pre">draw_ontimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.livetime.Livetime.draw_ontimes" title="Link to this definition"></a></dt>
<dd><p>Draws random MJD times based on the detector on-time intervals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The skyllh RandomStateService instance to use for drawing random
numbers from.</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of random MJD times to generate.</p></li>
<li><p><strong>t_min</strong> (<em>float</em>) – The optional minimal time to consider. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
start time of this Livetime instance will be used.</p></li>
<li><p><strong>t_max</strong> (<em>float</em>) – The optional maximal time to consider. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the
end time of this Livetime instance will be used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ontimes</strong> (<em>ndarray</em>) – The 1d array holding the generated MJD times.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.llhratio">
<span id="skyllh-core-llhratio-module"></span><h2>skyllh.core.llhratio module<a class="headerlink" href="#module-skyllh.core.llhratio" title="Link to this heading"></a></h2>
<p>The llhratio module provides classes implementing the log-likelihood ratio
functions. In general these should be detector independent, because they
implement the pure math of the log-likelihood ratio function.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">LLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>Abstract base class for a log-likelihood (LLH) ratio function.</p>
<p>Creates a new LLH ratio function instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global parameters to local parameters of individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.pmm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pmm</span></span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.pmm" title="Link to this definition"></a></dt>
<dd><p>The ParameterModelMapper instance providing the mapping of
global floating parameters to individual models.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.minimizer">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">minimizer</span></span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.minimizer" title="Link to this definition"></a></dt>
<dd><p>The Minimizer instance used to minimize the negative of the
log-likelihood ratio function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.initialize_for_new_trial">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method will be called by the Analysis class after new trial data
has been initialized to the trial data manager. Derived classes can make
use of this call hook to perform LLHRatio specific trial initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for timing measurements.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.evaluate">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.evaluate" title="Link to this definition"></a></dt>
<dd><p>This method evaluates the LLH ratio function for the given set of
fit parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped numpy 1D ndarray holding the current
values of the global fit parameters.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> it will be
created automatically from the <code class="docutils literal notranslate"><span class="pre">fitparam_values</span></code> array.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The calculated log-lambda value.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparams,)-shaped 1D numpy ndarray holding the gradient
value for each global fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.maximize">
<span class="sig-name descname"><span class="pre">maximize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.maximize" title="Link to this definition"></a></dt>
<dd><p>Maximize the log-likelihood ratio function, by using the <code class="docutils literal notranslate"><span class="pre">evaluate</span></code>
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService to draw random numbers from.
This is needed to generate random parameter initial values.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time the
maximization process.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda_max</strong> (<em>float</em>) – The (maximum) value of the log-likelihood ratio (log_lambda)
function for the best fit parameter values.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the values of the
global fit parameters.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The dictionary with status information about the maximization
process, i.e. from the minimizer.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">51</span></em><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.LLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_minimizer',</span> <span class="pre">'_pmm',</span> <span class="pre">'minimizer',</span> <span class="pre">'pmm')</span></em><a class="headerlink" href="#skyllh.core.llhratio.LLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">TCLLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig_0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.llhratio.LLHRatio" title="skyllh.core.llhratio.LLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatio</span></code></a></p>
<p>Abstract base class for a log-likelihood (LLH) ratio function with two
components, i.e. signal and background.</p>
<p>Creates a new two-component LLH ratio function instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global floating parameters to individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
<li><p><strong>mean_n_sig_0</strong> (<em>float</em>) – The fixed mean number of signal events for the null-hypothesis.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.mean_n_sig_0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_n_sig_0</span></span><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.mean_n_sig_0" title="Link to this definition"></a></dt>
<dd><p>The parameter value for the mean number of signal events of the
null-hypothesis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.calculate_ns_grad2">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calculate_ns_grad2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_pidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.calculate_ns_grad2" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to calculate the second derivative of the
log-likelihood ratio function w.r.t. the fit parameter ns, the number
of signal events in the data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped 1D numpy ndarray holding the current
values of the global fit parameters.</p></li>
<li><p><strong>ns_pidx</strong> (<em>int</em>) – The index of the global ns fit parameter.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>nsgrad2</strong> (<em>float</em>) – The second derivative w.r.t. ns of the log-likelihood ratio function
for the given fit parameter values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.maximize_with_1d_newton_rapson_minimizer">
<span class="sig-name descname"><span class="pre">maximize_with_1d_newton_rapson_minimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.maximize_with_1d_newton_rapson_minimizer" title="Link to this definition"></a></dt>
<dd><p>Maximizes this log-likelihood ratio function, by minimizing its
negative using a 1D Newton-Rapson minimizer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to draw
random numbers from. It is used by the minimizer to generate random
fit parameter initial values.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time the
maximization of the LLH-ratio function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda_max</strong> (<em>float</em>) – The (maximum) value of the log-likelihood ratio (log_lambda)
function for the best fit parameter values.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the global
fit parameter values.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The dictionary with status information about the maximization
process, i.e. from the minimizer.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.maximize">
<span class="sig-name descname"><span class="pre">maximize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.maximize" title="Link to this definition"></a></dt>
<dd><p>Maximizes this log-likelihood ratio function, by minimizing its
negative.
This method has a special implementation when a 1D Newton-Rapson
minimizer is used. In that case only the first and second derivative
of the log-likelihood ratio function is calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService that should be used to draw
random numbers from. It is used by the minimizer to generate random
fit parameter initial values.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to time the
maximization of the LLH-ratio function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda_max</strong> (<em>float</em>) – The (maximum) value of the log-likelihood ratio (log_lambda)
function for the best fit parameter values.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the global
fit parameter values.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The dictionary with status information about the maximization
process, i.e. from the minimizer.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">232</span></em><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.TCLLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_mean_n_sig_0',</span> <span class="pre">'mean_n_sig_0')</span></em><a class="headerlink" href="#skyllh.core.llhratio.TCLLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">SingleDatasetTCLLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig_0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.llhratio.TCLLHRatio" title="skyllh.core.llhratio.TCLLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCLLHRatio</span></code></a></p>
<p>Abstract base class for a log-likelihood (LLH) ratio function with two
components, i.e. signal and background, for a single data set.</p>
<p>Creates a new two-component LLH ratio function instance for a single
data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global floating parameters to individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
<li><p><strong>shg_mgr</strong> (<em>SourceHypoGroupManager instance</em>) – The SourceHypoGroupManager instance that defines the source
hypothesis groups.</p></li>
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that holds the trial event data and
additional data fields for this LLH ratio function.</p></li>
<li><p><strong>mean_n_sig_0</strong> (<em>float</em>) – The fixed mean number of signal events for the null-hypothesis.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>The SourceHypoGroupManager instance that defines the source
hypothesis groups.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.tdm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tdm</span></span><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.tdm" title="Link to this definition"></a></dt>
<dd><p>The instance of TrialDataManager that holds the trial event data and
additional data fields for this LLH ratio function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypothesis group manager of this two-component LLH
ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">427</span></em><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.SingleDatasetTCLLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_shg_mgr',</span> <span class="pre">'_tdm',</span> <span class="pre">'shg_mgr',</span> <span class="pre">'tdm')</span></em><a class="headerlink" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">ZeroSigH0SingleDatasetTCLLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdfratio</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio" title="skyllh.core.llhratio.SingleDatasetTCLLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">SingleDatasetTCLLHRatio</span></code></a></p>
<p>This class implements a two-component (TC) log-likelihood (LLH) ratio
function for a single dataset assuming zero signal for the null-hypothesis.</p>
<p>Constructor of the two-component log-likelihood ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global floating parameters to individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The SourceHypoGroupManager instance that defines the source
hypothesis groups.</p></li>
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that holds the trial event data and
additional data fields for this LLH ratio function.</p></li>
<li><p><strong>pdfratio</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><em>PDFRatio</em></a>) – The instance of PDFRatio. A PDFRatio instance might depend
on none, one, or several fit parameters.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.mean_n_sig_0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_n_sig_0</span></span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.mean_n_sig_0" title="Link to this definition"></a></dt>
<dd><p>The parameter value for the mean number of signal events of the
null-hypothesis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.pdfratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdfratio</span></span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.pdfratio" title="Link to this definition"></a></dt>
<dd><p>The instance of PDFRatio.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the log-likelihood ratio function for a new trial.
It calls the
<a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial" title="skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a> method
of the <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The optional instance of TimeLord to measure timing information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.calculate_log_lambda_and_grads">
<span class="sig-name descname"><span class="pre">calculate_log_lambda_and_grads</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_pidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dXi_dp</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.calculate_log_lambda_and_grads" title="Link to this definition"></a></dt>
<dd><p>Calculates the log(Lambda) value and its gradient for each global fit
parameter. This calculation is source and detector independent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped ndarray holding the current values of the
global fit parameters.
These numbers are used as cache key to validate the <code class="docutils literal notranslate"><span class="pre">nsgrad_i</span></code>
values for the given fit parameter values for a possible later
calculation of the second derivative w.r.t. ns of the log-likelihood
ratio function.</p></li>
<li><p><strong>N</strong> (<em>int</em>) – The total number of events.</p></li>
<li><p><strong>ns</strong> (<em>float</em>) – The value of the global fit parameter ns.</p></li>
<li><p><strong>ns_pidx</strong> (<em>int</em>) – The index of the global fit parameter ns.</p></li>
<li><p><strong>p_mask</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped numpy ndarray of bool selecting all global
fit parameters, except ns.</p></li>
<li><p><strong>Xi</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (n_selected_events,)-shaped 1D numpy ndarray holding the X value
of each selected event.</p></li>
<li><p><strong>dXi_dp</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (n_selected_events, N_fitparams-1,)-shaped 2D ndarray holding
the derivative value for each fit parameter p (i.e. except ns) of
each event’s X value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The value of the log-likelihood ratio function.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparams,)-shaped numpy ndarray holding the gradient value
of log_lambda for each fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.calculate_ns_grad2">
<span class="sig-name descname"><span class="pre">calculate_ns_grad2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_pidx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.calculate_ns_grad2" title="Link to this definition"></a></dt>
<dd><p>Calculates the second derivative w.r.t. ns of the log-likelihood
ratio function.
This method tries to use cached values for the first derivative
w.r.t. ns of the log-likelihood ratio function for the individual
events. If cached values don’t exist or do not match the given fit
parameter values, they will get calculated automatically by calling the
evaluate method with the given fit parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>numpy</em><em> (</em><em>N_fitparams+1</em><em>)</em><em>-shaped 1D ndarray</em>) – The ndarray holding the current values of the global fit
parameters.</p></li>
<li><p><strong>ns</strong> (<em>float</em>) – The value of the global fit parameter ns.</p></li>
<li><p><strong>ns_pidx</strong> (<em>int</em>) – The parameter index of the global fit parameter ns.
For this particular class this is an ignored interface parameter.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.
For this particular class this is an ignored interface parameter.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>nsgrad2</strong> (<em>float</em>) – The second derivative w.r.t. ns of the log-likelihood ratio function
for the given fit parameter values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.evaluate" title="Link to this definition"></a></dt>
<dd><p>Evaluates the log-likelihood ratio function for the given set of
data events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped 1D ndarray holding the current values of
the global fit parameters.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy structured ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray of length N_sources holding the local
parameter names and values of all sources.
If it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will be generated automatically from the
<code class="docutils literal notranslate"><span class="pre">fitparam_values</span></code> argument using the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterModelMapper</span></code></a> instance.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to measure the timing of
evaluating the LLH ratio function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The calculated log-lambda value.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparams,)-shaped 1D numpy ndarray holding the gradient
value for each global fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">523</span></em><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_nsgrad_i',</span> <span class="pre">'_pdfratio',</span> <span class="pre">'pdfratio')</span></em><a class="headerlink" href="#skyllh.core.llhratio.ZeroSigH0SingleDatasetTCLLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">MultiDatasetTCLLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds_sig_weight_factors_service</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llhratio_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.llhratio.TCLLHRatio" title="skyllh.core.llhratio.TCLLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCLLHRatio</span></code></a></p>
<p>This class describes a two-component log-likelihood ratio function for
multiple datasets. The final log-likelihood ratio value is the sum of the
individual log-likelihood ratio values.</p>
<p>The different datasets contribute according to their dataset signal weight
factor, f_j(p_s), which depends on possible signal fit parameters. By
definition the signal fit parameters are assumed to be the same for each
dataset.</p>
<p>By mathematical definition this class is suitable for single and multi
source hypotheses.</p>
<p>Creates a new composite two-component log-likelihood ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global floating parameters to individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
<li><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a>) – An instance of SrcDetSigYieldWeightsService, which provides the
product of the source weights with the detector signal yield.</p></li>
<li><p><strong>ds_sig_weight_factors_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.DatasetSignalWeightFactorsService" title="skyllh.core.services.DatasetSignalWeightFactorsService"><em>DatasetSignalWeightFactorsService</em></a>) – An instance of DatasetSignalWeightFactorsService, which provides
the relative dataset signal weight factors.</p></li>
<li><p><strong>llhratio_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.llhratio.SingleDatasetTCLLHRatio" title="skyllh.core.llhratio.SingleDatasetTCLLHRatio"><em>SingleDatasetTCLLHRatio</em></a>) – The list of the two-component log-likelihood ratio functions,
one for each dataset.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.src_detsigyield_weights_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_detsigyield_weights_service</span></span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.src_detsigyield_weights_service" title="Link to this definition"></a></dt>
<dd><p>The instance of SrcDetSigYieldWeightsService, which provides the
product of the source weights with the detector signal yield.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">909</span></em><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_ds_sig_weight_factors_service',</span> <span class="pre">'_llhratio_list',</span> <span class="pre">'_src_detsigyield_weights_service',</span> <span class="pre">'ds_sig_weight_factors_service',</span> <span class="pre">'src_detsigyield_weights_service')</span></em><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.ds_sig_weight_factors_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ds_sig_weight_factors_service</span></span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.ds_sig_weight_factors_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetSignalWeightFactorsService that provides the
relative dataset signal weight factors.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.llhratio_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llhratio_list</span></span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.llhratio_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of TCLLHRatio instances, which are part of this
composite log-likelihood-ratio function.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.n_selected_events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_selected_events</span></span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.n_selected_events" title="Link to this definition"></a></dt>
<dd><p>(read-only) The sum of selected events of each individual
log-likelihood ratio function.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.mean_n_sig_0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mean_n_sig_0</span></span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.mean_n_sig_0" title="Link to this definition"></a></dt>
<dd><p>The parameter value for the mean number of signal events of the
null-hypothesis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypo group manager of all objects of this LLH
ratio function, hence, calling the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code>
method of all TCLLHRatio instances of this LLHRatio instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the groups of
source hypotheses.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the log-likelihood-ratio function for a new trial.
It calls the
<a class="reference internal" href="#skyllh.core.llhratio.LLHRatio.initialize_for_new_trial" title="skyllh.core.llhratio.LLHRatio.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a> method
of the <a class="reference internal" href="#skyllh.core.llhratio.LLHRatio" title="skyllh.core.llhratio.LLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">LLHRatio</span></code></a> class of each individual
log-likelihood ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The optional instance of TimeLord to measure timing information.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.evaluate" title="Link to this definition"></a></dt>
<dd><p>Evaluates the composite log-likelihood-ratio function and returns its
value and global fit parameter gradients.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped numpy 1D ndarray holding the current
values of the global fit parameters.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.
It case it is <code class="docutils literal notranslate"><span class="pre">None</span></code>, it will be created automatically from the
<code class="docutils literal notranslate"><span class="pre">fitparam_values</span></code> argument using the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterModelMapper</span></code></a> instance.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The calculated log-lambda value of the composite
log-likelihood-ratio function.</p></li>
<li><p><strong>grads</strong> (<em>instance of numpy ndarray</em>) – The (N_fitparams,)-shaped 1D ndarray holding the gradient value of
the composite log-likelihood-ratio function for each global fit
parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.MultiDatasetTCLLHRatio.calculate_ns_grad2">
<span class="sig-name descname"><span class="pre">calculate_ns_grad2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_pidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio.calculate_ns_grad2" title="Link to this definition"></a></dt>
<dd><p>Calculates the second derivative w.r.t. ns of the log-likelihood
ratio function.</p>
<p>Note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">method</span> <span class="n">takes</span> <span class="n">the</span> <span class="n">dataset</span> <span class="n">signal</span> <span class="n">weight</span> <span class="n">factors</span> <span class="kn">from</span><span class="w"> </span><span class="nn">the</span> <span class="n">dataset</span>
<span class="n">signal</span> <span class="n">weight</span> <span class="n">factors</span> <span class="n">service</span><span class="o">.</span> <span class="n">Hence</span><span class="p">,</span> <span class="n">the</span> <span class="n">service</span> <span class="n">needs</span> <span class="n">to</span> <span class="n">be</span>
<span class="n">updated</span> <span class="n">before</span> <span class="n">calling</span> <span class="n">this</span> <span class="n">method</span><span class="o">.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparams,)-shaped 1D ndarray holding the current values of
the global fit parameters.</p></li>
<li><p><strong>ns</strong> (<em>float</em>) – The value of the global fit parameter ns.</p></li>
<li><p><strong>ns_pidx</strong> (<em>int</em>) – The index of the global parameter ns.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>nsgrad2</strong> (<em>float</em>) – The second derivative w.r.t. ns of the log-likelihood ratio function
for the given fit parameter values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.llhratio.</span></span><span class="sig-name descname"><span class="pre">NsProfileMultiDatasetTCLLHRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimizer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_n_sig_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llhratio</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.llhratio.TCLLHRatio" title="skyllh.core.llhratio.TCLLHRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">TCLLHRatio</span></code></a></p>
<p>This class implements a profile log-likelihood ratio function that has
only ns as fit parameter. It uses a MultiDatasetTCLLHRatio instance as
log-likelihood function. Hence, mathematically it is</p>
<div class="math notranslate nohighlight">
\[\Lambda(n_{\mathrm{s}}) = \frac{L(n_{\mathrm{s}})}{L(n_{\mathrm{s}}=n_{\mathrm{s},0})},\]</div>
<p>where <span class="math notranslate nohighlight">\(n_{\mathrm{s},0}\)</span> is the fixed mean number of signal events for
the null-hypothesis.</p>
<p>Creates a new ns-profile log-likelihood-ratio function with a
null-hypothesis where <span class="math notranslate nohighlight">\(n_{\mathrm{s}}\)</span> is fixed to
<code class="docutils literal notranslate"><span class="pre">mean_n_sig_0</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper providing the mapping of
global parameters to local parameters of individual models.</p></li>
<li><p><strong>minimizer</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.Minimizer" title="skyllh.core.minimizer.Minimizer"><em>Minimizer</em></a>) – The Minimizer instance that should be used to minimize the negative
of this log-likelihood ratio function.</p></li>
<li><p><strong>mean_n_sig_0</strong> (<em>float</em>) – The fixed parameter value for the mean number of signal events of
the null-hypothesis.</p></li>
<li><p><strong>llhratio</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.llhratio.MultiDatasetTCLLHRatio" title="skyllh.core.llhratio.MultiDatasetTCLLHRatio"><em>MultiDatasetTCLLHRatio</em></a>) – The instance of MultiDatasetTCLLHRatio, which should be used as
log-likelihood function.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1252</span></em><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_llhratio',</span> <span class="pre">'_logL_0',</span> <span class="pre">'llhratio')</span></em><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.llhratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">llhratio</span></span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.llhratio" title="Link to this definition"></a></dt>
<dd><p>The instance of MultiDatasetTCLLHRatio, which should be used as
log-likelihood function.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypo group manager of all objects of this LLH
ratio function, hence, calling the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code>
method of the underlying MultiDatasetTCLLHRatio instance of this
LLHRatio instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new instance of SourceHypoGroupManager.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the log-likelihood-ratio function for a new trial.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.evaluate" title="Link to this definition"></a></dt>
<dd><p>Evaluates the log-likelihood-ratio function and returns its value and
global fit parameter gradients.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (1,)-shaped numpy 1D ndarray holding the current
values of the global fit parameters.
By definition of this LLH ratio function, it must contain the single
fit parameter value for ns.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>log_lambda</strong> (<em>float</em>) – The calculated log-lambda value of this log-likelihood-ratio
function.</p></li>
<li><p><strong>grads</strong> (<em>(1,)-shaped 1D ndarray</em>) – The ndarray holding the gradient value of this log-likelihood-ratio
for ns.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.calculate_ns_grad2">
<span class="sig-name descname"><span class="pre">calculate_ns_grad2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_pidx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.llhratio.NsProfileMultiDatasetTCLLHRatio.calculate_ns_grad2" title="Link to this definition"></a></dt>
<dd><p>Calculates the second derivative w.r.t. ns of the log-likelihood
ratio function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ns</strong> (<em>float</em>) – The value of the global fit parameter ns.</p></li>
<li><p><strong>ns_pidx</strong> (<em>int</em>) – The index of the global fit parameter ns. By definition this must
be <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the parameter
names and values of all sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information about this array.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used for timing
measurements.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>nsgrad2</strong> (<em>float</em>) – The second derivative w.r.t. ns of the log-likelihood ratio function
for the given fit parameter values.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.math">
<span id="skyllh-core-math-module"></span><h2>skyllh.core.math module<a class="headerlink" href="#module-skyllh.core.math" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">math</span></code> module contains classes for pure mathematical objects.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.math.</span></span><span class="sig-name descname"><span class="pre">MathFunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.math.MathFunction" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This abstract base class provides an implementation for a mathematical
function. Such a function has defined parameters, which are implemented as
class properties. The tuple of parameter names is defined through the
<cite>param_names</cite> property.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#skyllh.core.math.MathFunction.param_names" title="Link to this definition"></a></dt>
<dd><p>The tuple holding the names of the math function’s parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.math_function_str">
<em class="property"><span class="pre">abstract</span><span class="w"> </span><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">math_function_str</span></span><a class="headerlink" href="#skyllh.core.math.MathFunction.math_function_str" title="Link to this definition"></a></dt>
<dd><p>The string showing the mathematical function of this MathFunction.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">newparams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.math.MathFunction.copy" title="Link to this definition"></a></dt>
<dd><p>Copies this MathFunction object by calling the copy.deepcopy
function, and sets new parameters if requested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>newparams</strong> (<em>dict</em><em> | </em><em>None</em>) – The dictionary with the new parameter values to set, where the
dictionary key is the parameter name and the dictionary value is the
new value of the parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.math.MathFunction.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#skyllh.core.math.MathFunction.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_param_names',</span> <span class="pre">'param_names')</span></em><a class="headerlink" href="#skyllh.core.math.MathFunction.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.get_param">
<span class="sig-name descname"><span class="pre">get_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.math.MathFunction.get_param" title="Link to this definition"></a></dt>
<dd><p>Retrieves the value of the given parameter. It returns <code class="docutils literal notranslate"><span class="pre">np.nan</span></code> if
the parameter does not exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>float | np.nan</em>) – The value of the parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.math.MathFunction.set_params">
<span class="sig-name descname"><span class="pre">set_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.math.MathFunction.set_params" title="Link to this definition"></a></dt>
<dd><p>Sets the parameters of the math function to the given parameter
values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pdict</strong> (<em>dict</em><em> (</em><em>name: value</em><em>)</em>) – The dictionary holding the names of the parameters and their new
values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>updated</strong> (<em>bool</em>) – Flag if parameter values were actually updated.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.minimizer">
<span id="skyllh-core-minimizer-module"></span><h2>skyllh.core.minimizer module<a class="headerlink" href="#module-skyllh.core.minimizer" title="Link to this heading"></a></h2>
<p>The minimizer module provides functionality for the minimization process of
a function.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">MinimizerImpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>Abstract base class for a minimizer implementation. It defines the
interface between the implementation and the Minimizer class.</p>
<p>Creates a new instance having the property <code class="docutils literal notranslate"><span class="pre">cfg</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.minimize">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.minimize" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to minimize the given function with the given
initials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initials</strong> (<em>1D</em><em> (</em><em>N_fitparams</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the initial values of all the fit parameters.</p></li>
<li><p><strong>bounds</strong> (<em>2D</em><em> (</em><em>N_fitparams</em><em>,</em><em>2</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the boundary values (vmin, vmax) of the fit
parameters.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get minimized.
The call signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> is minimizer implementation dependent.</p>
</p></li>
<li><p><strong>func_args</strong> (<em>sequence</em><em> | </em><em>None</em>) – Optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>Arguments</strong> (<em>Additional Keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>minimizer</strong> (<em>Additional keyword arguments include options for this</em>)</p></li>
<li><p><strong>dependent.</strong> (<em>implementation. These are implementation</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>xmin</strong> (<em>1D ndarray</em>) – The array containing the function parameter values at the function’s
minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the minimization
process.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.get_niter">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_niter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.get_niter" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return the number of iterations that were
required to find the minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the last
minimization process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>niter</strong> (<em>int</em>) – The number of iterations needed to find the minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.has_converged">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_converged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.has_converged" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to analyze the status information dictionary
if the last minimization process has converged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the last
minimization process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converged</strong> (<em>bool</em>) – The flag if the minimization has converged (True), or not (False).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.is_repeatable">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_repeatable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.is_repeatable" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to analyze the status information dictionary
if the last minimization process can be repeated to obtain a better
minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the last
minimization process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>repeatable</strong> (<em>bool</em>) – The flag if the minimization process can be repeated to obtain a
better minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.MinimizerImpl.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.minimizer.MinimizerImpl.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">ScipyMinimizerImpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.minimizer.MinimizerImpl" title="skyllh.core.minimizer.MinimizerImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinimizerImpl</span></code></a></p>
<p>Wrapper for <cite>scipy.optimize.minimize</cite></p>
<p>Creates a new instance of ScipyMinimizerImpl.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>method</strong> (<em>str</em>) – The minimizer method to use. See the documentation for the method
argument of the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize" title="(in SciPy v1.16.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code></a> function for
possible values.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.minimize" title="Link to this definition"></a></dt>
<dd><p>Minimizes the given function <code class="docutils literal notranslate"><span class="pre">func</span></code> with the given initial function
argument values <code class="docutils literal notranslate"><span class="pre">initials</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initials</strong> (<em>1D numpy ndarray</em>) – The ndarray holding the initial values of all the fit parameters.</p></li>
<li><p><strong>bounds</strong> (<em>2D</em><em> (</em><em>N_fitparams</em><em>,</em><em>2</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the boundary values (vmin, vmax) of the fit
parameters.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get minimized.
The call signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> must be (f, grads), the function value
at the function arguments <code class="docutils literal notranslate"><span class="pre">x</span></code> and the ndarray with the values of
the function gradient for each fit parameter, if the
<code class="docutils literal notranslate"><span class="pre">func_provides_grads</span></code> keyword argument option is set to True.
If set to False, <code class="docutils literal notranslate"><span class="pre">func</span></code> must return only the function value.</p>
</p></li>
<li><p><strong>func_args</strong> (<em>sequence</em><em> | </em><em>None</em>) – Optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>Arguments</strong> (<em>Additional Keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>minimizer</strong> (<em>Additional keyword arguments include options for this</em>)</p></li>
<li><p><strong>are</strong> (<em>implementation. Possible options</em>) – <dl class="simple">
<dt>func_provides_grads<span class="classifier">bool</span></dt><dd><p>Flag if the function <code class="docutils literal notranslate"><span class="pre">func</span></code> also returns its gradients.
Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p>Any additional keyword arguments are passed on to the underlaying
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize" title="(in SciPy v1.16.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.minimize()</span></code></a> minimization function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>xmin</strong> (<em>instance of numpy.ndarray</em>) – The 1D array containing the function arguments at the function’s
minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>res</strong> (<em>instance of scipy.optimize.OptimizeResult</em>) – The scipy OptimizeResult.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.get_niter">
<span class="sig-name descname"><span class="pre">get_niter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.get_niter" title="Link to this definition"></a></dt>
<dd><p>Returns the number of iterations needed to find the minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>niter</strong> (<em>int</em>) – The number of iterations needed to find the minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.has_converged">
<span class="sig-name descname"><span class="pre">has_converged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.has_converged" title="Link to this definition"></a></dt>
<dd><p>Analyzes the status information dictionary if the minimization
process has converged. By definition the minimization process has
converged if <code class="docutils literal notranslate"><span class="pre">status['warnflag']</span></code> equals 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converged</strong> (<em>bool</em>) – The flag if the minimization has converged (True), or not (False).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.is_repeatable">
<span class="sig-name descname"><span class="pre">is_repeatable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.is_repeatable" title="Link to this definition"></a></dt>
<dd><p>Checks if the minimization process can be repeated to get a better
result.</p>
<p>TODO: Method specific checks. For now just return False</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the last
minimization process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>repeatable</strong> (<em>bool</em>) – The flag if the minimization process can be repeated to obtain a
better minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">140</span></em><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.ScipyMinimizerImpl.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_method',)</span></em><a class="headerlink" href="#skyllh.core.minimizer.ScipyMinimizerImpl.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">LBFGSMinimizerImpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ftol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pgtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">iprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.minimizer.MinimizerImpl" title="skyllh.core.minimizer.MinimizerImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinimizerImpl</span></code></a></p>
<p>The LBFGSMinimizerImpl class provides the minimizer implementation for
L-BFG-S minimizer used from the <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/optimize.html#module-scipy.optimize" title="(in SciPy v1.16.2)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.optimize</span></code></a> module.</p>
<p>Creates a new L-BGF-S minimizer instance to minimize the given
likelihood function with its given partial derivatives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ftol</strong> (<em>float</em>) – The function value tolerance.</p></li>
<li><p><strong>pgtol</strong> (<em>float</em>) – The gradient value tolerance.</p></li>
<li><p><strong>maxls</strong> (<em>int</em>) – The maximum number of line search steps for an iteration.</p></li>
<li><p><strong>iprint</strong> (<em>int</em>) – Controls the frequency of output. See scipy documentation for more
information.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.minimize" title="Link to this definition"></a></dt>
<dd><p>Minimizes the given function <code class="docutils literal notranslate"><span class="pre">func</span></code> with the given initial function
argument values <code class="docutils literal notranslate"><span class="pre">initials</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initials</strong> (<em>1D numpy ndarray</em>) – The ndarray holding the initial values of all the fit parameters.</p></li>
<li><p><strong>bounds</strong> (<em>2D</em><em> (</em><em>N_fitparams</em><em>,</em><em>2</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the boundary values (vmin, vmax) of the fit
parameters.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get minimized.
The call signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> must be (f, grads), the function value
at the function arguments <code class="docutils literal notranslate"><span class="pre">x</span></code> and the ndarray with the values of
the function gradient for each fit parameter, if the
<code class="docutils literal notranslate"><span class="pre">func_provides_grads</span></code> keyword argument option is set to True.
If set to False, <code class="docutils literal notranslate"><span class="pre">func</span></code> must return only the function value.</p>
</p></li>
<li><p><strong>func_args</strong> (<em>sequence</em><em> | </em><em>None</em>) – Optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>Arguments</strong> (<em>Additional Keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>minimizer</strong> (<em>Additional keyword arguments include options for this</em>)</p></li>
<li><p><strong>are</strong> (<em>implementation. Possible options</em>) – <dl class="simple">
<dt>func_provides_grads<span class="classifier">bool</span></dt><dd><p>Flag if the function <code class="docutils literal notranslate"><span class="pre">func</span></code> also returns its gradients.
Default is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p>Any additional keyword arguments are passed on to the underlying
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.fmin_l_bfgs_b.html#scipy.optimize.fmin_l_bfgs_b" title="(in SciPy v1.16.2)"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.optimize.fmin_l_bfgs_b()</span></code></a> minimization function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul>
<li><p><strong>xmin</strong> (<em>1D ndarray</em>) – The array containing the function arguments at the function’s
minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the minimization
process. The following information are provided:</p>
<dl>
<dt>niter<span class="classifier">int</span></dt><dd><p>The number of iterations needed to find the minimum.</p>
</dd>
<dt>warnflag<span class="classifier">int</span></dt><dd><p>The warning flag indicating if the minimization did converge.
The possible values are:</p>
<blockquote>
<div><p>0: The minimization converged.</p>
</div></blockquote>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.get_niter">
<span class="sig-name descname"><span class="pre">get_niter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.get_niter" title="Link to this definition"></a></dt>
<dd><p>Returns the number of iterations needed to find the minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>niter</strong> (<em>int</em>) – The number of iterations needed to find the minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.has_converged">
<span class="sig-name descname"><span class="pre">has_converged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.has_converged" title="Link to this definition"></a></dt>
<dd><p>Analyzes the status information dictionary if the minimization
process has converged. By definition the minimization process has
converged if <code class="docutils literal notranslate"><span class="pre">status['warnflag']</span></code> equals 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converged</strong> (<em>bool</em>) – The flag if the minimization has converged (True), or not (False).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.is_repeatable">
<span class="sig-name descname"><span class="pre">is_repeatable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.is_repeatable" title="Link to this definition"></a></dt>
<dd><p>Checks if the minimization process can be repeated to get a better
result. It’s repeatable if</p>
<blockquote>
<div><p><cite>status[‘warnflag’] == 2 and ‘FACTR’ in str(status[‘task’])</cite></p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the last
minimization process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>repeatable</strong> (<em>bool</em>) – The flag if the minimization process can be repeated to obtain a
better minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">324</span></em><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.LBFGSMinimizerImpl.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_fmin_l_bfgs_b',</span> <span class="pre">'_ftol',</span> <span class="pre">'_iprint',</span> <span class="pre">'_maxls',</span> <span class="pre">'_pgtol')</span></em><a class="headerlink" href="#skyllh.core.minimizer.LBFGSMinimizerImpl.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">NR1dNsMinimizerImpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.minimizer.MinimizerImpl" title="skyllh.core.minimizer.MinimizerImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">MinimizerImpl</span></code></a></p>
<p>The NR1dNsMinimizerImpl class provides a minimizer implementation for the
Newton-Raphson method for finding the minimum of a one-dimensional R1-&gt;R1
function, i.e. a function that depends solely on one parameter, the number of
signal events ns.</p>
<p>Creates a new NRNs minimizer instance to minimize the given
likelihood function with its given partial derivatives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ns_tol</strong> (<em>float</em>) – The tolerance / precision for the ns parameter value.</p></li>
<li><p><strong>max_steps</strong> (<em>int</em>) – The maximum number of NR steps. If max_step is reached,
the fit is considered NOT converged.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.minimize" title="Link to this definition"></a></dt>
<dd><p>Minimizes the given function <code class="docutils literal notranslate"><span class="pre">func</span></code> with the given initial function
argument values <code class="docutils literal notranslate"><span class="pre">initials</span></code>. This minimizer implementation will only
vary the first parameter. All other parameters will be set to their
initial value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initials</strong> (<em>1D numpy ndarray</em>) – The ndarray holding the initial values of all the fit parameters.</p></li>
<li><p><strong>bounds</strong> (<em>2D</em><em> (</em><em>N_fitparams</em><em>,</em><em>2</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the boundary values (vmin, vmax) of the fit
parameters.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get minimized.
The call signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> must be (f, grad, grad2), i.e. the
function value at the function arguments <code class="docutils literal notranslate"><span class="pre">x</span></code>, the value of the
function first derivative for the one fit parameter, and the value
of the second derivative for the one fit parameter.</p>
</p></li>
<li><p><strong>func_args</strong> (<em>sequence</em><em> | </em><em>None</em>) – Optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>Arguments</strong> (<em>Additional Keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>minimization</strong> (<em>There are no additional options defined for this</em>)</p></li>
<li><p><strong>implementation.</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>xmin</strong> (<em>1D ndarray</em>) – The array containing the function parameter values at the function’s
minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the minimization
process. The following information are provided:</p>
<dl>
<dt>niter<span class="classifier">int</span></dt><dd><p>The number of iterations needed to find the minimum.</p>
</dd>
<dt>last_nr_step<span class="classifier">float</span></dt><dd><p>The Newton-Raphson step size of the last iteration.</p>
</dd>
<dt>warnflag<span class="classifier">int</span></dt><dd><p>The warning flag indicating if the minimization did converge.
The possible values are:</p>
<blockquote>
<div><dl class="simple">
<dt>-1: The function minimum is above the upper bound of the</dt><dd><p>parameter value. Convergence forced at upper bound.</p>
</dd>
<dt>-2: The function minimum is below the lower bound of the</dt><dd><p>parameter value. Convergence forced at lower bound.</p>
</dd>
<dt>0: The minimization converged with a iteration step size</dt><dd><p>smaller than the specified precision.</p>
</dd>
<dt>1: The minimization did NOT converge within self.max_steps</dt><dd><p>number of steps</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>warnreason: str</dt><dd><p>The description for the set warn flag.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.get_niter">
<span class="sig-name descname"><span class="pre">get_niter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.get_niter" title="Link to this definition"></a></dt>
<dd><p>Returns the number of iterations needed to find the minimum.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>niter</strong> (<em>int</em>) – The number of iterations needed to find the minimum.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.has_converged">
<span class="sig-name descname"><span class="pre">has_converged</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.has_converged" title="Link to this definition"></a></dt>
<dd><p>Analyzes the status information dictionary if the minimization
process has converged. By definition the minimization process has
converged if <code class="docutils literal notranslate"><span class="pre">status['warnflag']</span></code> is smaller or equal to 0.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>status</strong> (<em>dict</em>) – The dictionary with the status information about the minimization
process.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>converged</strong> (<em>bool</em>) – The flag if the minimization has converged (True), or not (False).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.is_repeatable">
<span class="sig-name descname"><span class="pre">is_repeatable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.is_repeatable" title="Link to this definition"></a></dt>
<dd><p>Checks if the minimization process can be repeated to get a better
result. By definition of this minimization method, this method will
always return <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">527</span></em><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NR1dNsMinimizerImpl.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('max_steps',</span> <span class="pre">'ns_tol')</span></em><a class="headerlink" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NRNsScan2dMinimizerImpl">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">NRNsScan2dMinimizerImpl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p2_scan_step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NRNsScan2dMinimizerImpl" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.minimizer.NR1dNsMinimizerImpl" title="skyllh.core.minimizer.NR1dNsMinimizerImpl"><code class="xref py py-class docutils literal notranslate"><span class="pre">NR1dNsMinimizerImpl</span></code></a></p>
<p>The NRNsScan2dMinimizerImpl class provides a minimizer implementation for
the R2-&gt;R1 function where the first dimension is minimized using the
Newton-Raphson minimization method and the second dimension is scanned.</p>
<p>Creates a new minimizer implementation instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p2_scan_step</strong> (<em>float</em>) – The step size for the scan of the second parameter of the function
to minimize.</p></li>
<li><p><strong>ns_tol</strong> (<em>float</em>) – The tolerance / precision for the ns parameter value.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NRNsScan2dMinimizerImpl.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initials</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.NRNsScan2dMinimizerImpl.minimize" title="Link to this definition"></a></dt>
<dd><p>Minimizes the given function <code class="docutils literal notranslate"><span class="pre">func</span></code> with the given initial function
argument values <code class="docutils literal notranslate"><span class="pre">initials</span></code>. This minimizer implementation will only
vary the first two parameters. The first parameter is the number of
signal events, ns, and it is minimized using the Newton-Rapson method.
The second parameter is scanned through its boundaries in step sizes of
<code class="docutils literal notranslate"><span class="pre">p2_scan_step</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initials</strong> (<em>1D numpy ndarray</em>) – The ndarray holding the initial values of all the fit parameters.</p></li>
<li><p><strong>bounds</strong> (<em>2D</em><em> (</em><em>N_fitparams</em><em>,</em><em>2</em><em>)</em><em>-shaped numpy ndarray</em>) – The ndarray holding the boundary values (vmin, vmax) of the fit
parameters.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that should get minimized.
The call signature must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> must be (f, grad, grad2), i.e. the
function value at the function arguments <code class="docutils literal notranslate"><span class="pre">x</span></code>, the value of the
function first derivative for the first fit parameter, and the value
of the second derivative for the first fit parameter.</p>
</p></li>
<li><p><strong>func_args</strong> (<em>sequence</em><em> | </em><em>None</em>) – Optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>Arguments</strong> (<em>Additional Keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>minimization</strong> (<em>There are no additional options defined for this</em>)</p></li>
<li><p><strong>implementation.</strong></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>xmin</strong> (<em>1D ndarray</em>) – The array containing the function parameter values at the function’s
minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the minimization
process. The following information are provided:</p>
<dl>
<dt>niter<span class="classifier">int</span></dt><dd><p>The number of iterations needed to find the minimum.</p>
</dd>
<dt>last_nr_step<span class="classifier">float</span></dt><dd><p>The Newton-Raphson step size of the last iteration.</p>
</dd>
<dt>p2_n_steps<span class="classifier">int</span></dt><dd><p>The number of scanning steps performed for the 2nd parameter.</p>
</dd>
<dt>warnflag<span class="classifier">int</span></dt><dd><p>The warning flag indicating if the minimization did converge.
The possible values are:</p>
<blockquote>
<div><dl class="simple">
<dt>0: The minimization converged with a iteration step size</dt><dd><p>smaller than the specified precision.</p>
</dd>
<dt>1: The function minimum is below the minimum bound of the</dt><dd><p>parameter value. The last iteration’s step size did not
achieve the specified precision.</p>
</dd>
<dt>2: The function minimum is above the maximum bound of the</dt><dd><p>parameter value. The last iteration’s step size did not
achieve the specified precision.</p>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>warnreason: str</dt><dd><p>The description for the set warn flag.</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">764</span></em><a class="headerlink" href="#skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('p2_scan_step',)</span></em><a class="headerlink" href="#skyllh.core.minimizer.NRNsScan2dMinimizerImpl.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.minimizer.</span></span><span class="sig-name descname"><span class="pre">Minimizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minimizer_impl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_repetitions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.Minimizer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The Minimizer class provides the general interface for minimizing a
function. The class takes an instance of MinimizerImpl for a specific
minimizer implementation.</p>
<p>Creates a new Minimizer instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>minimizer_impl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.minimizer.MinimizerImpl" title="skyllh.core.minimizer.MinimizerImpl"><em>MinimizerImpl</em></a>) – The minimizer implementation for a specific minimizer algorithm.</p></li>
<li><p><strong>max_repetitions</strong> (<em>int</em>) – In case the minimization process did not converge at the first time
this option specifies the maximum number of repetitions with
different initials.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">896</span></em><a class="headerlink" href="#skyllh.core.minimizer.Minimizer.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_max_repetitions',</span> <span class="pre">'_minimizer_impl',</span> <span class="pre">'max_repetitions',</span> <span class="pre">'minimizer_impl')</span></em><a class="headerlink" href="#skyllh.core.minimizer.Minimizer.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer.minimizer_impl">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">minimizer_impl</span></span><a class="headerlink" href="#skyllh.core.minimizer.Minimizer.minimizer_impl" title="Link to this definition"></a></dt>
<dd><p>The instance of MinimizerImpl, which provides the implementation of
the minimizer.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer.max_repetitions">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_repetitions</span></span><a class="headerlink" href="#skyllh.core.minimizer.Minimizer.max_repetitions" title="Link to this definition"></a></dt>
<dd><p>In case the minimization process did not converge at the first time
this option specifies the maximum number of repetitions with
different initials.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.minimizer.Minimizer.minimize">
<span class="sig-name descname"><span class="pre">minimize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paramset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.minimizer.Minimizer.minimize" title="Link to this definition"></a></dt>
<dd><p>Minimizes the the given function <code class="docutils literal notranslate"><span class="pre">func</span></code> by calling the <code class="docutils literal notranslate"><span class="pre">minimize</span></code>
method of the minimizer implementation.</p>
<p>After the minimization process it calls the <code class="docutils literal notranslate"><span class="pre">has_converged</span></code> and
<code class="docutils literal notranslate"><span class="pre">is_repeatable</span></code> methods of the minimizer implementation to determine
if an additional minimization attempt has to be performed.
This is repeated until the minimization process did converge or if the
maximal number of repetitions has occurred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>RandomStateService instance</em>) – The RandomStateService instance to draw random numbers from.</p></li>
<li><p><strong>paramset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterSet" title="skyllh.core.parameters.ParameterSet"><em>ParameterSet</em></a>) – The ParameterSet instances holding the floating parameters of the
function <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>func</strong> (callable <code class="docutils literal notranslate"><span class="pre">f(x,</span> <span class="pre">*args)</span></code>) – <p>The function to be minimized. It must have the call signature</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(x,</span> <span class="pre">*args)</span></code></p>
</div></blockquote>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">func</span></code> is minimizer implementation dependent.</p>
</p></li>
<li><p><strong>args</strong> (sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code> | None) – The optional sequence of arguments for <code class="docutils literal notranslate"><span class="pre">func</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em><em> | </em><em>None</em>) – The optional dictionary with keyword arguments for the minimizer
implementation minimize method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>xmin</strong> (<em>1d numpy ndarray</em>) – The array holding the parameter values for which the function has
a minimum.</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – The function value at its minimum.</p></li>
<li><p><strong>status</strong> (<em>dict</em>) – The status dictionary with information about the minimization
process.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.model">
<span id="skyllh-core-model-module"></span><h2>skyllh.core.model module<a class="headerlink" href="#module-skyllh.core.model" title="Link to this heading"></a></h2>
<p>This module defines the base class for any model class used in SkyLLH.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.model.Model">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.model.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.model.Model" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a base class for all model classes used in SkyLLH.
Models could be for instance source models or background models.</p>
<p>Creates a new Model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the model. If set to <cite>None</cite>, the id of the object is
taken as name.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.model.Model.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.model.Model.name" title="Link to this definition"></a></dt>
<dd><p>The name of the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.model.Model.id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#skyllh.core.model.Model.id" title="Link to this definition"></a></dt>
<dd><p>(read-only) The ID of the model. It’s an integer generated with
Python’s <cite>id</cite> function. Hence, it’s related to the memory address
of the object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.Model.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.model.Model.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.Model.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#skyllh.core.model.Model.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.Model.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_name',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.model.Model.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.model.</span></span><span class="sig-name descname"><span class="pre">ModelCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.model.ModelCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.py.NamedObjectCollection" title="skyllh.core.py.NamedObjectCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedObjectCollection</span></code></a></p>
<p>This class describes a collection of Model instances. It can be
used to group several models into a single object.</p>
<p>Creates a new Model collection. The type of the model instances this
collection holds can be restricted, by setting the model_type argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>models</strong> (<em>sequence</em><em> of </em><em>model_type instances</em><em> | </em><em>None</em>) – The sequence of models this collection should be initalized with.</p></li>
<li><p><strong>model_type</strong> (<em>type</em><em> | </em><em>None</em>) – The type of the model. It must be a subclass of class <code class="docutils literal notranslate"><span class="pre">Model</span></code>.
If set to None (default), Model will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.cast">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.model.ModelCollection.cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given object to a ModelCollection object.
If the cast fails, a TypeError with the given error message is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Model instance</em><em> | </em><em>sequence</em><em> of </em><em>Model instances</em><em> |</em>) – ModelCollection | None
The object that should be casted to ModelCollection.
If set to None, an empty ModelCollection is created.</p></li>
<li><p><strong>errmsg</strong> (<em>str</em><em> | </em><em>None</em>) – The error message if the cast fails.
If set to None, a generic error message will be used.</p></li>
<li><p><strong>arguments</strong> (<em>Additional keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>the</strong> (<em>Additional keyword arguments are passed to the constructor of</em>)</p></li>
<li><p><strong>class.</strong> (<a class="reference internal" href="#skyllh.core.model.ModelCollection" title="skyllh.core.model.ModelCollection"><em>ModelCollection</em></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the cast failed.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>model_collection</strong> (<em>instance of ModelCollection</em>) – The created ModelCollection instance. If <cite>obj</cite> is already a
ModelCollection instance, it will be returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.model_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">model_type</span></span><a class="headerlink" href="#skyllh.core.model.ModelCollection.model_type" title="Link to this definition"></a></dt>
<dd><p>(read-only) The type of the model.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.models">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">models</span></span><a class="headerlink" href="#skyllh.core.model.ModelCollection.models" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of models of type <cite>model_type</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.model.ModelCollection.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">62</span></em><a class="headerlink" href="#skyllh.core.model.ModelCollection.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.ModelCollection.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.model.ModelCollection.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.model.DetectorModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.model.</span></span><span class="sig-name descname"><span class="pre">DetectorModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.model.DetectorModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.model.Model" title="skyllh.core.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>This class provides a base class for a detector model. It can be used
in combination with the ParameterModelMapper class.</p>
<p>Creates a new DetectorModel instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the detector model.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.DetectorModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.model.DetectorModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.DetectorModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">161</span></em><a class="headerlink" href="#skyllh.core.model.DetectorModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.model.DetectorModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.model.DetectorModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.multiproc">
<span id="skyllh-core-multiproc-module"></span><h2>skyllh.core.multiproc module<a class="headerlink" href="#module-skyllh.core.multiproc" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.multiproc.get_ncpu">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.multiproc.</span></span><span class="sig-name descname"><span class="pre">get_ncpu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cfg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_ncpu</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.multiproc.get_ncpu" title="Link to this definition"></a></dt>
<dd><p>Determines the number of CPUs to use for functions that support
multi-processing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cfg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.config.Config" title="skyllh.core.config.Config"><em>Config</em></a>) – The instance of Config holding the local configuration.</p></li>
<li><p><strong>local_ncpu</strong> (<em>int</em><em> | </em><em>None</em>) – The local setting of the number of CPUs to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ncpu</strong> (<em>int</em>) – The number of CPUs to use by functions that allow multi-processing.
If <code class="docutils literal notranslate"><span class="pre">local_ncpu</span></code> is set to None, the global NCPU setting is returned.
If the global NCPU setting is None as well, the default value 1 is
returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.multiproc.parallelize">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.multiproc.</span></span><span class="sig-name descname"><span class="pre">parallelize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rss</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.multiproc.parallelize" title="Link to this definition"></a></dt>
<dd><p>Parallelizes the execution of the given function for different arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – The function which should be called with different arguments, which are
given through the args_list argument. If the <cite>rss</cite> argument is not None,
<cite>func</cite> requires an argument named <cite>rss</cite>.</p></li>
<li><p><strong>args_list</strong> (<em>list</em><em> of </em><em>2-element tuple</em>) – The list of the different arguments for function <code class="docutils literal notranslate"><span class="pre">func</span></code>. Each element
of that list must be a 2-element tuple, where the first element is a
tuple of the arguments of <code class="docutils literal notranslate"><span class="pre">func</span></code>, and the second element is a
dictionary with the keyword arguments of <code class="docutils literal notranslate"><span class="pre">func</span></code>. If the <cite>rss</cite> argument
is not None, <cite>func</cite> argument <cite>rss</cite> has to be omitted.</p></li>
<li><p><strong>ncpu</strong> (<em>int</em>) – The number of CPUs to use, i.e. the number of subprocesses to spawn.</p></li>
<li><p><strong>rss</strong> (<a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a><em> | </em><em>None</em>) – The RandomStateService instance to use for generating random numbers.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The instance of TimeLord that should be used to time individual tasks.</p></li>
<li><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The possible parent ProgressBar instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>result_list</strong> (<em>list</em>) – The list of the result values of <code class="docutils literal notranslate"><span class="pre">func</span></code>, where each element of that
list corresponds to the arguments element in <code class="docutils literal notranslate"><span class="pre">args_list</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.multiproc.IsParallelizable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.multiproc.</span></span><span class="sig-name descname"><span class="pre">IsParallelizable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncpu</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.multiproc.IsParallelizable" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Classifier class defining the ncpu property. Classes that derive from
this class indicate, that they can make use of multi-processing on several
CPUs at the same time.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.multiproc.IsParallelizable.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.multiproc.IsParallelizable.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.multiproc.IsParallelizable.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">392</span></em><a class="headerlink" href="#skyllh.core.multiproc.IsParallelizable.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.multiproc.IsParallelizable.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_ncpu',</span> <span class="pre">'ncpu')</span></em><a class="headerlink" href="#skyllh.core.multiproc.IsParallelizable.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.multiproc.IsParallelizable.ncpu">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ncpu</span></span><a class="headerlink" href="#skyllh.core.multiproc.IsParallelizable.ncpu" title="Link to this definition"></a></dt>
<dd><p>The number (int) of CPUs to utilize. It calls the <code class="docutils literal notranslate"><span class="pre">get_ncpu</span></code>
utility function with this property as argument. Hence, if this property
is set to None, the global NCPU setting will take precedence.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.parameters">
<span id="skyllh-core-parameters-module"></span><h2>skyllh.core.parameters module<a class="headerlink" href="#module-skyllh.core.parameters" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.parameters.make_linear_parameter_grid_1d">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">make_linear_parameter_grid_1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.make_linear_parameter_grid_1d" title="Link to this definition"></a></dt>
<dd><p>Utility function to create a ParameterGrid object for a 1-dimensional
linear parameter grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the parameter.</p></li>
<li><p><strong>low</strong> (<em>float</em>) – The lowest value of the parameter.</p></li>
<li><p><strong>high</strong> (<em>float</em>) – The highest value of the parameter.</p></li>
<li><p><strong>delta</strong> (<em>float</em>) – The constant distance between the grid values. By definition this
defines also the precision of the parameter values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>obj</strong> (<em>ParameterGrid</em>) – The ParameterGrid object holding the discrete parameter grid values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">Parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isfixed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class describes a parameter of a mathematical function, like a PDF,
or source flux function. A parameter has a name, a value range, and an
initial value. Furthermore, it has a flag that determines whether this
parameter has a fixed value or not.</p>
<p>Creates a new Parameter instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the parameter.</p></li>
<li><p><strong>initial</strong> (<em>float</em>) – The initial value of the parameter.</p></li>
<li><p><strong>valmin</strong> (<em>float</em><em> | </em><em>None</em>) – The minimum value of the parameter in case this parameter is
mutable.</p></li>
<li><p><strong>valmax</strong> (<em>float</em><em> | </em><em>None</em>) – The maximum value of the parameter in case this parameter is
mutable.</p></li>
<li><p><strong>isfixed</strong> (<em>bool</em><em> | </em><em>None</em>) – Flag if the value of this parameter is mutable (False), or not
(True). If set to <cite>True</cite>, the value of the parameter will always be
the <cite>initial</cite> value.
If set to None, the parameter will be mutable if valmin and valmax
were specified. Otherwise, the parameter is fixed.
The default is None.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.name" title="Link to this definition"></a></dt>
<dd><p>The name of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.initial">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initial</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.initial" title="Link to this definition"></a></dt>
<dd><p>The initial value of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.isfixed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isfixed</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.isfixed" title="Link to this definition"></a></dt>
<dd><p>The flag if the parameter is mutable (False) or not (True).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.valmin">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valmin</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.valmin" title="Link to this definition"></a></dt>
<dd><p>The minimum bound value of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.valmax">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valmax</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.valmax" title="Link to this definition"></a></dt>
<dd><p>The maximum bound value of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">value</span></span><a class="headerlink" href="#skyllh.core.parameters.Parameter.value" title="Link to this definition"></a></dt>
<dd><p>The current value of the parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter.__eq__" title="Link to this definition"></a></dt>
<dd><p>Implements the equal comparison operator (==).
By definition two parameters are equal if there property values are
equal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>Parameter instance</em>) – The instance of Parameter which should be used to compare against
this Parameter instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cmp</strong> (<em>bool</em>) – True, if this Parameter instance and the other Parameter instance
have the same property values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.as_linear_grid">
<span class="sig-name descname"><span class="pre">as_linear_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter.as_linear_grid" title="Link to this definition"></a></dt>
<dd><p>Creates a ParameterGrid instance with a linear grid with constant
grid value distances delta.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delta</strong> (<em>float</em>) – The constant distance between the grid values. By definition this
defines also the precision of the parameter values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid</strong> (<em>ParameterGrid instance</em>) – The ParameterGrid instance holding the grid values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If this Parameter instance represents a fixed parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.change_fixed_value">
<span class="sig-name descname"><span class="pre">change_fixed_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter.change_fixed_value" title="Link to this definition"></a></dt>
<dd><p>Changes the value of this fixed parameter to the given value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The parameter’s new value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>float</em>) – The parameter’s new value.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If this parameter is not a fixed parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.make_fixed">
<span class="sig-name descname"><span class="pre">make_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter.make_fixed" title="Link to this definition"></a></dt>
<dd><p>Fixes this parameter to the given initial value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>initial</strong> (<em>float</em><em> | </em><em>None</em>) – The new fixed initial value of the Parameter. If set to None, the
parameter’s current value will be used as initial value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>float</em>) – The parameter’s new value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.make_floating">
<span class="sig-name descname"><span class="pre">make_floating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.Parameter.make_floating" title="Link to this definition"></a></dt>
<dd><p>Defines this parameter as floating with the given initial, minimal,
and maximal value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>initial</strong> (<em>float</em><em> | </em><em>None</em>) – The initial value of the parameter. If set to <cite>None</cite>, the
parameter’s current value will be used as initial value.</p></li>
<li><p><strong>valmin</strong> (<em>float</em><em> | </em><em>None</em>) – The minimal value the parameter’s value can take.
If set to <cite>None</cite>, the parameter’s current minimal value will be
used.</p></li>
<li><p><strong>valmax</strong> (<em>float</em><em> | </em><em>None</em>) – The maximal value the parameter’s value can take.
If set to <cite>None</cite>, the parameter’s current maximal value will be
used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>value</strong> (<em>float</em>) – The parameter’s new value.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If valmin is set to None and this parameter has no valmin defined.
    If valmax is set to None and this parameter has no valmax defined.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">58</span></em><a class="headerlink" href="#skyllh.core.parameters.Parameter.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.Parameter.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_initial',</span> <span class="pre">'_isfixed',</span> <span class="pre">'_name',</span> <span class="pre">'_valmax',</span> <span class="pre">'_valmin',</span> <span class="pre">'_value',</span> <span class="pre">'initial',</span> <span class="pre">'isfixed',</span> <span class="pre">'name',</span> <span class="pre">'valmax',</span> <span class="pre">'valmin',</span> <span class="pre">'value')</span></em><a class="headerlink" href="#skyllh.core.parameters.Parameter.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">ParameterSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class holds a set of Parameter instances.</p>
<p>Constructs a new ParameterSet instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>params</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>sequence</em><em> of </em><em>Parameter instances</em><em> | </em><em>None</em>) – The initial sequence of Parameter instances of this ParameterSet
instance.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.union">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">paramsets</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.union" title="Link to this definition"></a></dt>
<dd><p>Creates a ParameterSet instance that is the union of the given
ParameterSet instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*paramsets</strong> (<em>ParameterSet instances</em>) – The sequence of ParameterSet instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>paramset</strong> (<em>ParameterSet instance</em>) – The newly created ParameterSet instance that holds the union of the
parameters provided by all the ParameterSet instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D ndarray holding the Parameter instances.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.params_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params_name_list</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.params_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of str holding the names of all the parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.fixed_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fixed_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.fixed_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D ndarray holding the Parameter instances, whose
values are fixed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.fixed_params_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fixed_params_name_list</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.fixed_params_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of the fixed parameter names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.fixed_params_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fixed_params_mask</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.fixed_params_mask" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D ndarray holding the mask for the fixed parameters
of this parameter set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.fixed_params_idxs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fixed_params_idxs</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.fixed_params_idxs" title="Link to this definition"></a></dt>
<dd><p>The numpy ndarray holding the indices of the fixed parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D ndarray holding the Parameter instances,
whose values are floating.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_params_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_params_name_list</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_params_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of the floating parameter names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_params_mask">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_params_mask</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_params_mask" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D ndarray holding the mask for the floating
parameters of this parameter set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_params_idxs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_params_idxs</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_params_idxs" title="Link to this definition"></a></dt>
<dd><p>The numpy ndarray holding the indices of the floating parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.n_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.n_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of parameters this ParameterSet has.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.n_fixed_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_fixed_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.n_fixed_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of fixed parameters defined in this parameter
set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.n_floating_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_floating_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.n_floating_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of floating parameters defined in this
parameter set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.fixed_param_values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fixed_param_values</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.fixed_param_values" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (n_fixed_params,)-shaped ndarray holding values of
the fixed parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_param_initials">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_param_initials</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_param_initials" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 1D (n_floating_params,)-shaped ndarray holding the
initial values of all the global floating parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.floating_param_bounds">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">floating_param_bounds</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.floating_param_bounds" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 2D (n_floating_params,2)-shaped ndarray holding the
boundaries for all the floating parameters.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.__contains__" title="Link to this definition"></a></dt>
<dd><p>Implements the <code class="docutils literal notranslate"><span class="pre">param_name</span> <span class="pre">in</span> <span class="pre">self</span></code> expression. It calls the
<a class="reference internal" href="#skyllh.core.parameters.ParameterSet.has_param" title="skyllh.core.parameters.ParameterSet.has_param"><code class="xref py py-meth docutils literal notranslate"><span class="pre">has_param()</span></code></a> method of this class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given parameter is part of this ParameterSet
instance, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.__iter__" title="Link to this definition"></a></dt>
<dd><p>Returns an iterator over the Parameter instances of this ParameterSet
instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.__len__" title="Link to this definition"></a></dt>
<dd><p>The number of parameters this ParameterSet has.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.get_fixed_pidx">
<span class="sig-name descname"><span class="pre">get_fixed_pidx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.get_fixed_pidx" title="Link to this definition"></a></dt>
<dd><p>Returns the parameter index of the given fixed parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pidx</strong> (<em>int</em>) – The index of the fixed parameter.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given parameter is not part of the set of fixed parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.get_floating_pidx">
<span class="sig-name descname"><span class="pre">get_floating_pidx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.get_floating_pidx" title="Link to this definition"></a></dt>
<dd><p>Returns the parameter index of the given floating parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pidx</strong> (<em>int</em>) – The index of the floating parameter.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given parameter is not part of the set of floating
    parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.generate_random_floating_param_initials">
<span class="sig-name descname"><span class="pre">generate_random_floating_param_initials</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.generate_random_floating_param_initials" title="Link to this definition"></a></dt>
<dd><p>Generates a set of random initials for all floating parameters.
A new random initial is defined as</p>
<blockquote>
<div><p>lower_bound + RAND * (upper_bound - lower_bound),</p>
</div></blockquote>
<p>where RAND is a uniform random variable between 0 and 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>rss</strong> (<em>RandomStateService instance</em>) – The RandomStateService instance that should be used for drawing
random numbers from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ri</strong> (<em>(N_floating_params,)-shaped numpy ndarray</em>) – The numpy 1D ndarray holding the generated random initial values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.has_fixed_param">
<span class="sig-name descname"><span class="pre">has_fixed_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.has_fixed_param" title="Link to this definition"></a></dt>
<dd><p>Checks if this ParameterSet instance has a fixed parameter named
<code class="docutils literal notranslate"><span class="pre">param_name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if this ParameterSet instance has a fixed parameter
of the given name, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.has_floating_param">
<span class="sig-name descname"><span class="pre">has_floating_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.has_floating_param" title="Link to this definition"></a></dt>
<dd><p>Checks if this ParameterSet instance has a floating parameter named
<code class="docutils literal notranslate"><span class="pre">param_name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_name</strong> (<em>str</em>) – The name of the parameter.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if this ParameterSet instance has a floating parameter
of the given name, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.make_params_fixed">
<span class="sig-name descname"><span class="pre">make_params_fixed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fix_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.make_params_fixed" title="Link to this definition"></a></dt>
<dd><p>Fixes the given parameters to the given values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fix_params</strong> (<em>dict</em>) – The dictionary defining the parameters that should get fixed to the
given dictionary entry values.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If one of the given parameters is already a fixed parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.make_params_floating">
<span class="sig-name descname"><span class="pre">make_params_floating</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">float_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.make_params_floating" title="Link to this definition"></a></dt>
<dd><p>Makes the given parameters floating with the given initial value and
within the given bounds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>float_params</strong> (<em>dict</em>) – <p>The dictionary defining the parameters that should get set to be
floating. The format of a dictionary’s entry can be one of the
following formats:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">None</span></code></dt><dd><p>The parameter’s initial, minimal and maximal value should be
taken from the parameter’s current settings.</p>
</dd>
<dt>initial<span class="classifier">float</span></dt><dd><p>The parameter’s initial value should be set to the given
value. The minimal and maximal values of the parameter will
be taken from the parameter’s current settings.</p>
</dd>
<dt>(initial, valmin, valmax)</dt><dd><p>The parameter’s initial value, minimal and maximal value
should be set to the given values. If <cite>initial</cite> is set to
<cite>None</cite>, the parameter’s current value will be used as
initial value.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If one of the given parameters is already a floating parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.update_fixed_param_value_cache">
<span class="sig-name descname"><span class="pre">update_fixed_param_value_cache</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.update_fixed_param_value_cache" title="Link to this definition"></a></dt>
<dd><p>Updates the internal cache of the fixed parameter values. This method
has to be called whenever the values of the fixed Parameter instances
change.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.copy" title="Link to this definition"></a></dt>
<dd><p>Creates a deep copy of this ParameterSet instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>copy</strong> (<em>ParameterSet instance</em>) – The copied instance of this ParameterSet instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.add_param">
<span class="sig-name descname"><span class="pre">add_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atfront</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.add_param" title="Link to this definition"></a></dt>
<dd><p>Adds the given Parameter instance to this set of parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a>) – The parameter, which should get added.</p></li>
<li><p><strong>atfront</strong> (<em>bool</em>) – Flag if the parameter should be added at the front of the parameter
list. If set to False (default), it will be added at the back.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>instance of ParameterSet</em>) – This ParameterSet instance so that multiple add_param calls can just
be concatenated.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>TypeError</strong> – If param is not an instance of Parameter.</p></li>
<li><p><strong>KeyError</strong> – If given parameter is already present in the set. The check is
    performed based on the parameter name.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.has_param">
<span class="sig-name descname"><span class="pre">has_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.has_param" title="Link to this definition"></a></dt>
<dd><p>Checks if the given Parameter is already present in this ParameterSet
instance. The check is performed based on the parameter name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param</strong> (<em>Parameter instance</em>) – The Parameter instance that should be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given parameter is present in this parameter set,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.get_params_dict">
<span class="sig-name descname"><span class="pre">get_params_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floating_param_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.get_params_dict" title="Link to this definition"></a></dt>
<dd><p>Converts the given floating parameter values into a dictionary with
the floating parameter names and values and also adds the fixed
parameter names and their values to this dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>floating_param_values</strong> (<em>1D ndarray</em>) – The ndarray holding the values of the floating parameters in the
order that the floating parameters are defined.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>params_dict</strong> (<em>dict</em>) – The dictionary with the floating and fixed parameter names and
values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.get_floating_params_dict">
<span class="sig-name descname"><span class="pre">get_floating_params_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floating_param_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.get_floating_params_dict" title="Link to this definition"></a></dt>
<dd><p>Converts the given floating parameter values into a dictionary with
the floating parameter names and values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>floating_param_values</strong> (<em>1D ndarray</em>) – The ndarray holding the values of the floating parameters in the
order that the floating parameters are defined.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>params_dict</strong> (<em>dict</em>) – The dictionary with the floating and fixed parameter names and
values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">392</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_fixed_param_name_list',</span> <span class="pre">'_fixed_param_name_to_idx',</span> <span class="pre">'_fixed_param_values',</span> <span class="pre">'_floating_param_name_list',</span> <span class="pre">'_floating_param_name_to_idx',</span> <span class="pre">'_params',</span> <span class="pre">'_params_fixed_mask')</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">ParameterGrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a data holder for a parameter that has a set of
discrete values on a grid. Thus, the parameter has a value grid.
This class represents a one-dimensional grid.</p>
<p>Creates a new parameter grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the parameter.</p></li>
<li><p><strong>grid</strong> (<em>sequence</em><em> of </em><em>float</em>) – The sequence of float values defining the discrete grid values of
the parameter.</p></li>
<li><p><strong>delta</strong> (<em>float</em><em> | </em><em>None</em>) – The width between the grid values.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the width is taken from the equal-distant
<code class="docutils literal notranslate"><span class="pre">grid</span></code> values.</p></li>
<li><p><strong>decimals</strong> (<em>int</em><em> | </em><em>None</em>) – The number of decimals the grid values should get rounded to.
The maximal number of decimals is 16.
If set to None, the number of decimals will be the maximum of the
number of decimals of the first grid value and the number of
decimals of the delta value.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.from_BinningDefinition">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_BinningDefinition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binning</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.from_BinningDefinition" title="Link to this definition"></a></dt>
<dd><p>Creates a ParameterGrid instance from a BinningDefinition instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binning</strong> (<em>BinningDefinition instance</em>) – The BinningDefinition instance that should be used to create the
ParameterGrid instance from.</p></li>
<li><p><strong>delta</strong> (<em>float</em><em> | </em><em>None</em>) – The width between the grid values.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the width is taken from the equal-distant
<code class="docutils literal notranslate"><span class="pre">grid</span></code> values.</p></li>
<li><p><strong>decimals</strong> (<em>int</em><em> | </em><em>None</em>) – The number of decimals the grid values should get rounded to.
The maximal number of decimals is 16.
If set to None, the number of decimals will be the maximum of the
number of decimals of the first grid value and the number of
decimals of the delta value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>param_grid</strong> (<em>instance of ParameterGrid</em>) – The created ParameterGrid instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.from_range">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.from_range" title="Link to this definition"></a></dt>
<dd><p>Creates a ParameterGrid instance from a range definition. The stop
value will be the last grid point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the parameter grid.</p></li>
<li><p><strong>start</strong> (<em>float</em>) – The start value of the range.</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – The end value of the range.</p></li>
<li><p><strong>delta</strong> (<em>float</em>) – The width between the grid values.</p></li>
<li><p><strong>decimals</strong> (<em>int</em><em> | </em><em>None</em>) – The number of decimals the grid values should get rounded to.
The maximal number of decimals is 16.
If set to None, the number of decimals will be the maximum of the
number of decimals of the first grid value and the number of
decimals of the delta value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>param_grid</strong> (<em>instance of ParameterGrid</em>) – The created ParameterGrid instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.name" title="Link to this definition"></a></dt>
<dd><p>The name of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.decimals">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">decimals</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.decimals" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of significant decimals of the grid values.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.grid">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">grid</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.grid" title="Link to this definition"></a></dt>
<dd><p>The numpy.ndarray with the grid values of the parameter.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.delta">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delta</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.delta" title="Link to this definition"></a></dt>
<dd><p>(read-only) The width (float) between the grid values.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.lower_bound">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lower_bound</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.lower_bound" title="Link to this definition"></a></dt>
<dd><p>The lower bound of the parameter grid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.ndim" title="Link to this definition"></a></dt>
<dd><p>The dimensionality of the parameter grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.add_extra_lower_and_upper_bin">
<span class="sig-name descname"><span class="pre">add_extra_lower_and_upper_bin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.add_extra_lower_and_upper_bin" title="Link to this definition"></a></dt>
<dd><p>Adds an extra lower and upper bin to this parameter grid. This is
usefull when interpolation or gradient methods require an extra bin on
each side of the grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.copy" title="Link to this definition"></a></dt>
<dd><p>Copies this ParameterGrid object and returns the copy.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.round_to_nearest_grid_point">
<span class="sig-name descname"><span class="pre">round_to_nearest_grid_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.round_to_nearest_grid_point" title="Link to this definition"></a></dt>
<dd><p>Rounds the given value to the nearest grid point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> | </em><em>ndarray</em><em> of </em><em>float</em>) – The value(s) to round.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_point</strong> (<em>float | ndarray of float</em>) – The calculated grid point(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.round_to_lower_grid_point">
<span class="sig-name descname"><span class="pre">round_to_lower_grid_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.round_to_lower_grid_point" title="Link to this definition"></a></dt>
<dd><p>Rounds the given value to the nearest grid point that is lower than
the given value.</p>
<dl class="simple">
<dt>Note: If the given value is a grid point, that grid point will be</dt><dd><p>returned!</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> | </em><em>ndarray</em><em> of </em><em>float</em>) – The value(s) to round.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_point</strong> (<em>float | ndarray of float</em>) – The calculated grid point(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.round_to_upper_grid_point">
<span class="sig-name descname"><span class="pre">round_to_upper_grid_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.round_to_upper_grid_point" title="Link to this definition"></a></dt>
<dd><p>Rounds the given value to the nearest grid point that is larger than
the given value.</p>
<dl class="simple">
<dt>Note: If the given value is a grid point, the next grid point will be</dt><dd><p>returned!</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em><em> | </em><em>ndarray</em><em> of </em><em>float</em>) – The value(s) to round.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grid_point</strong> (<em>ndarray of float</em>) – The calculated grid point(s).</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1029</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGrid.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_decimals',</span> <span class="pre">'_delta',</span> <span class="pre">'_grid',</span> <span class="pre">'_lower_bound',</span> <span class="pre">'_name',</span> <span class="pre">'grid',</span> <span class="pre">'lower_bound',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterGrid.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">ParameterGridSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_grids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.py.NamedObjectCollection" title="skyllh.core.py.NamedObjectCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedObjectCollection</span></code></a></p>
<p>Describes a set of parameter grids.</p>
<p>Constructs a new ParameterGridSet object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_grids</strong> (<em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> | </em><em>None</em>) – The ParameterGrid instances this instance of ParameterGridSet should
get initialized with.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.ndim" title="Link to this definition"></a></dt>
<dd><p>The dimensionality of this parameter grid set. By definition it’s the
number of parameters of the set.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.params_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">params_name_list</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.params_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of the parameter names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.parameter_permutation_dict_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parameter_permutation_dict_list</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.parameter_permutation_dict_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of parameter dictionaries constructed from all
permutations of all the parameter values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.add_extra_lower_and_upper_bin">
<span class="sig-name descname"><span class="pre">add_extra_lower_and_upper_bin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.add_extra_lower_and_upper_bin" title="Link to this definition"></a></dt>
<dd><p>Adds an extra lower and upper bin to all the parameter grids. This is
usefull when interpolation or gradient methods require an extra bin on
each side of the grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.copy" title="Link to this definition"></a></dt>
<dd><p>Copies this ParameterGridSet object and returns the copy.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1349</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterGridSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterGridSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.parameters.</span></span><span class="sig-name descname"><span class="pre">ParameterModelMapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">models</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides the parameter to model mapper.
The parameter to model mapper provides the functionality to map a global
parameter, usually a fit parameter, to a local parameter of a model, e.g.
to a source, or a background model parameter.</p>
<p>Constructor of the parameter mapper.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>models</strong> (<em>sequence</em><em> of </em><em>instance</em><em> of </em><em>Model.</em>) – The sequence of Model instances the parameter mapper can map global
parameters to.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.is_global_fitparam_a_local_param">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_global_fitparam_a_local_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitparam_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">local_param_names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.is_global_fitparam_a_local_param" title="Link to this definition"></a></dt>
<dd><p>Determines if the given global fit parameter is a local parameter of
the given list of local parameter names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitparam_id</strong> (<em>int</em>) – The ID of the global fit parameter.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_models,)-shaped numpy record ndarray holding the local
parameter names and values of the models. See the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for the format of this record array.</p></li>
<li><p><strong>local_param_names</strong> (<em>list</em><em> of </em><em>str</em>) – The list of local parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the global fit parameter translates to a local parameter
contained in the <code class="docutils literal notranslate"><span class="pre">local_param_names</span></code> list, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.is_local_param_a_fitparam">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_local_param_a_fitparam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_param_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.is_local_param_a_fitparam" title="Link to this definition"></a></dt>
<dd><p>Checks if the given local parameter is a (partly) a fit parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_param_name</strong> (<em>str</em>) – The name of the local parameter.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_models,)-shaped numpy record ndarray holding the local
parameter names and values of the models. See the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for the format of this record array.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given local parameter is (partly) a fit parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.models">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">models</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.models" title="Link to this definition"></a></dt>
<dd><p>(read-only) The ModelCollection instance defining the models the
mapper can map global parameters to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1415</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_global_paramset',</span> <span class="pre">'_model_param_names',</span> <span class="pre">'_models',</span> <span class="pre">'_source_model_mask')</span></em><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.global_paramset">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">global_paramset</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.global_paramset" title="Link to this definition"></a></dt>
<dd><p>(read-only) The ParameterSet instance holding the list of global
parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.n_models">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_models</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.n_models" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of models the mapper knows about.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.n_global_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_global_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.n_global_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of defined global parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.n_global_fixed_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_global_fixed_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.n_global_fixed_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of defined global fixed parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.n_global_floating_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_global_floating_params</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.n_global_floating_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of defined global floating parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.n_sources">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sources</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.n_sources" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of source models the mapper knows about.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.unique_model_param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unique_model_param_names</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.unique_model_param_names" title="Link to this definition"></a></dt>
<dd><p>(read-only) The unique parameters names of all the models.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.unique_source_param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unique_source_param_names</span></span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.unique_source_param_names" title="Link to this definition"></a></dt>
<dd><p>(read-only) The unique parameter names of the sources.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.get_model_param_name">
<span class="sig-name descname"><span class="pre">get_model_param_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gp_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.get_model_param_name" title="Link to this definition"></a></dt>
<dd><p>Retrieves the local parameter name of a given model and global
parameter index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_idx</strong> (<em>int</em>) – The index of the model.</p></li>
<li><p><strong>gp_idx</strong> (<em>int</em>) – The index of the global parameter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>param_name</strong> (<em>str | None</em>) – The name of the local model parameter. It is <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the given
global parameter is not mapped to the given model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.get_gflp_idx">
<span class="sig-name descname"><span class="pre">get_gflp_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.get_gflp_idx" title="Link to this definition"></a></dt>
<dd><p>Gets the index of the global floating parameter of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The global floating parameter’s name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>idx</strong> (<em>int</em>) – The index of the global floating parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.get_model_idx_by_name">
<span class="sig-name descname"><span class="pre">get_model_idx_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.get_model_idx_by_name" title="Link to this definition"></a></dt>
<dd><p>Determines the index within this ParameterModelMapper instance of
the model with the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The model’s name.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>model_idx</strong> (<em>int</em>) – The model’s index within this ParameterModelMapper instance.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If there is no model of the given name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.get_src_model_idxs">
<span class="sig-name descname"><span class="pre">get_src_model_idxs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.get_src_model_idxs" title="Link to this definition"></a></dt>
<dd><p>Creates a numpy ndarray holding the indices of the requested source
models.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>sources</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>None</em>) – The requested sequence of source models.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, all source models will be requested.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_model_idxs</strong> (<em>numpy ndarray</em>) – The (N_sources,)-shaped 1D ndarray holding the indices of the
requested source models.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.map_param">
<span class="sig-name descname"><span class="pre">map_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.map_param" title="Link to this definition"></a></dt>
<dd><p>Maps the given instance of Parameter to the given sequence of models
this parameter model mapper knows about. Aliases for the given parameter
can be specified for each individual model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a>) – The global parameter which should get mapped to one or more models.</p></li>
<li><p><strong>models</strong> (<em>sequence</em><em> of </em><em>Model instances</em>) – The sequence of Model instances the parameter should get
mapped to. The instances in the sequence must match Model instances
specified at construction of this mapper.</p></li>
<li><p><strong>model_param_names</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> |  </em><em>None</em>) – The name of the parameter of the model. Hence, the global
parameter name can be different to the parameter name of the model.
If <cite>None</cite>, the name of the global parameter will be used as model
parameter name for all models.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>ParameterModelMapper</em>) – The instance of this ParameterModelMapper, so that several
<cite>map_param</cite> calls can be concatenated.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If there is already a model parameter of the same name defined for
    any of the given to-be-applied models.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.create_model_params_dict">
<span class="sig-name descname"><span class="pre">create_model_params_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gflp_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.create_model_params_dict" title="Link to this definition"></a></dt>
<dd><p>Creates a dictionary with the fixed and floating parameter names and
their values for the given model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gflp_values</strong> (<em>1D ndarray</em><em> of </em><em>float</em>) – The ndarray instance holding the current values of the global
floating parameters.</p></li>
<li><p><strong>model</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.model.Model" title="skyllh.core.model.Model"><em>Model</em></a><em> | </em><em>str</em><em> | </em><em>int</em>) – The index of the model as it was defined at construction
time of this ParameterModelMapper instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>model_param_dict</strong> (<em>dict</em>) – The dictionary holding the fixed and floating parameter names and
values of the specified model.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray">
<span class="sig-name descname"><span class="pre">create_src_params_recarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gflp_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="Link to this definition"></a></dt>
<dd><p>Creates a numpy record ndarray with a field for each local source
parameter name and parameter’s value. In addition each parameter field
<code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> has a field named <code class="docutils literal notranslate"><span class="pre">&lt;&lt;name&gt;:gpidx&gt;</span></code> which holds the index
plus one of the corresponding global parameter for each source value.
For values mapping to fixed parameters, the index is negative. Local
parameter values that do not apply to a particular source are set to
NaN. The parameter index in such cases is undefined.
In addition to the parameter fields, the field <code class="docutils literal notranslate"><span class="pre">:model_idx</span></code> holds the
index of the model for which the local parameter values apply.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gflp_values</strong> (<em>numpy ndarray</em><em> | </em><em>None</em>) – The (N_global_floating_param,)-shaped 1D ndarray holding the global
floating parameter values. The order must match the order of
parameter definition in this ParameterModelMapper instance.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the value <code class="docutils literal notranslate"><span class="pre">numpy.nan</span></code> will be used as
parameter value for floating parameters.</p></li>
<li><p><strong>sources</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>ndarray</em><em> of </em><em>int32</em><em> | </em><em>None</em>) – The sources which should be considered.
If a ndarray of type int is provides, it must contain the global
source indices.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, all sources are considered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p><strong>recarray</strong> (<em>numpy structured ndarray</em>) – The (N_sources,)-shaped numpy structured ndarray holding the local
parameter names and their values for each requested source.
It contains the following fields:</p>
<blockquote>
<div><dl class="simple">
<dt>:model_idx</dt><dd><p>The field holding the index of the model to which the set
of local parameters apply.</p>
</dd>
<dt>&lt;name&gt;</dt><dd><p>The field holding the value for the local parameter &lt;name&gt;.
Not all local parameters apply to all sources.
Example: “gamma”.</p>
</dd>
<dt>&lt;name&gt;:gpidx</dt><dd><p>The field holding the global parameter index plus one for
the local parameter &lt;name&gt;. Example: “gamma:gpidx”. Indices
for values mapping to fixed parameters are negative.</p>
</dd>
</dl>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.create_global_params_dict">
<span class="sig-name descname"><span class="pre">create_global_params_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gflp_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.create_global_params_dict" title="Link to this definition"></a></dt>
<dd><p>Converts the given global floating parameter values into a dictionary
holding the names and values of all floating and fixed parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gflp_values</strong> (<em>numpy ndarray</em>) – The (n_global_floating_params,)-shaped 1D numpy ndarray holding the
values of the global floating parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>params_dict</strong> (<em>dict</em>) – The dictionary holding the parameter name and values of all
floating and fixed parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.create_global_floating_params_dict">
<span class="sig-name descname"><span class="pre">create_global_floating_params_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gflp_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.create_global_floating_params_dict" title="Link to this definition"></a></dt>
<dd><p>Converts the given global floating parameter values into a dictionary
holding the names and values of all floating parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gflp_values</strong> (<em>numpy ndarray</em>) – The (n_global_floating_params,)-shaped 1D numpy ndarray holding the
values of the global floating parameters.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>params_dict</strong> (<em>dict</em>) – The dictionary holding the parameter name and values of all
floating parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.parameters.ParameterModelMapper.get_local_param_is_global_floating_param_mask">
<span class="sig-name descname"><span class="pre">get_local_param_is_global_floating_param_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_param_names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.parameters.ParameterModelMapper.get_local_param_is_global_floating_param_mask" title="Link to this definition"></a></dt>
<dd><p>Checks which local parameter name is mapped to a global floating
parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>local_param_names</strong> (<em>sequence</em><em> of </em><em>str</em>) – The sequence of the local parameter names to test.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mask</strong> (<em>instance of ndarray</em>) – The (N_local_param_names,)-shaped numpy ndarray holding the mask
for each local parameter name if it is mapped to a global floating
parameter.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.pdf">
<span id="skyllh-core-pdf-module"></span><h2>skyllh.core.pdf module<a class="headerlink" href="#module-skyllh.core.pdf" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">PDFAxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class describes an axis of a PDF. It’s main purpose is to define
the allowed variable space of the PDF. So this information can be used to
plot a PDF or a PDF ratio.</p>
<p>Creates a new axis for a PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the axis.</p></li>
<li><p><strong>vmin</strong> (<em>float</em>) – The minimal value of the axis.</p></li>
<li><p><strong>vmax</strong> (<em>float</em>) – The maximal value of the axis.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.name" title="Link to this definition"></a></dt>
<dd><p>The name of the axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.vmin">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vmin</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.vmin" title="Link to this definition"></a></dt>
<dd><p>The minimal value of the axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.vmax">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">vmax</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.vmax" title="Link to this definition"></a></dt>
<dd><p>The maximal value of the axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">range</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.range" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 2-element tuple (vmin,vmax) of the axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.length">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.length" title="Link to this definition"></a></dt>
<dd><p>(read-only) The length of the axis as float. It’s defined as
length = vmax - vmin.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.__eq__">
<span class="sig-name descname"><span class="pre">__eq__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.__eq__" title="Link to this definition"></a></dt>
<dd><p>Checks if this PDFAxis object has the same properties than the given
other PDFAxis object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">55</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxis.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_name',</span> <span class="pre">'_vmax',</span> <span class="pre">'_vmin',</span> <span class="pre">'name',</span> <span class="pre">'vmax',</span> <span class="pre">'vmin')</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFAxis.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">PDFAxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFAxes" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.py.NamedObjectCollection" title="skyllh.core.py.NamedObjectCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedObjectCollection</span></code></a></p>
<p>This class describes the set of PDFAxis objects defining the
dimensionality of a PDF.</p>
<p>Creates a new PDFAxes instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>axes</strong> (<em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDFAxis" title="skyllh.core.pdf.PDFAxis"><em>PDFAxis</em></a><em> | </em><em>None</em>) – The sequence of instance of PDFAxis for this PDFAxes instance.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the PDFAxes instance will be empty.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes.union">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">union</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axeses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFAxes.union" title="Link to this definition"></a></dt>
<dd><p>Creates a PDFAxes instance that is the union of the given PDFAxes
instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*axeses</strong> (<em>PDFAxes instances</em>) – The sequence of PDFAxes instances.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>axes</strong> (<em>PDFAxes instance</em>) – The newly created PDFAxes instance that holds the union of the
PDFAxis instances provided by all the PDFAxes instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes.is_same_as">
<span class="sig-name descname"><span class="pre">is_same_as</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFAxes.is_same_as" title="Link to this definition"></a></dt>
<dd><p>Checks if this PDFAxes object has the same axes and range then the
given PDFAxes object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>axes</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDFAxes" title="skyllh.core.pdf.PDFAxes"><em>PDFAxes</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDFAxis" title="skyllh.core.pdf.PDFAxis"><em>PDFAxis</em></a>) – The instance of PDFAxes or the sequence of instance of PDFAxis that
should be compared to the axes of this PDFAxes instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True, if this PDFAxes and the given PDFAxes have the same axes and
ranges. False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFAxes.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">147</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFAxes.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFAxes.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFAxes.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsBackgroundPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">IsBackgroundPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.IsBackgroundPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a classifier class that can be used by other classes to indicate
that the class describes a background PDF. This is useful for type checking.</p>
<p>Constructor method. Gets called when the an instance of a class is
created which derives from this IsBackgroundPDF class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsBackgroundPDF.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.IsBackgroundPDF.__mul__" title="Link to this definition"></a></dt>
<dd><p>Creates a BackgroundPDFProduct instance for the multiplication of
this background PDF and another background PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><em>IsBackgroundPDF</em></a>) – The instance of IsBackgroundPDF, which is the other background PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsBackgroundPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.IsBackgroundPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsBackgroundPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">230</span></em><a class="headerlink" href="#skyllh.core.pdf.IsBackgroundPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsBackgroundPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.IsBackgroundPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsSignalPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">IsSignalPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.IsSignalPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a classifier class that can be used by other classes to indicate
that the class describes a signal PDF.</p>
<p>Constructor method. Gets called when the an instance of a class is
created which derives from this IsSignalPDF class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsSignalPDF.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.IsSignalPDF.__mul__" title="Link to this definition"></a></dt>
<dd><p>Creates a SignalPDFProduct instance for the multiplication of this
signal PDF and another signal PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><em>IsSignalPDF</em></a>) – The instance of IsSignalPDF, which is the other signal PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsSignalPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.IsSignalPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsSignalPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">263</span></em><a class="headerlink" href="#skyllh.core.pdf.IsSignalPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.IsSignalPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.IsSignalPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">PDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for all probability distribution
function (PDF) models.
All PDF model classes must be derived from this class. Mathematically, it
represents <span class="math notranslate nohighlight">\(f(\vec{x}|\vec{p})\)</span>, where <span class="math notranslate nohighlight">\(\vec{x}\)</span> is the
event data and <span class="math notranslate nohighlight">\(\vec{p}\)</span> is the set of parameters the PDF is given
for.</p>
<p>Creates a new PDF instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a><em> | </em><em>None</em>) – The instance of ParameterModelMapper defining the global parameters
and their mapping to local model/source parameters.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the PDF does not depend on any parameters.</p></li>
<li><p><strong>param_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterSet" title="skyllh.core.parameters.ParameterSet"><em>ParameterSet</em></a><em> | </em><em>None</em>) – If this PDF depends on parameters, this set of parameters
defines them. If a single parameter instance is given a ParameterSet
instance will be created holding this single parameter.
If set to None, this PDF will not depend on any parameters.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.axes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axes</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.axes" title="Link to this definition"></a></dt>
<dd><p>(read-only) The PDFAxes object holding the PDFAxis objects for the
dimensions of the PDF.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.ndim" title="Link to this definition"></a></dt>
<dd><p>The dimensionality of the PDF. It’s defined as the number of PDFAxis
objects this PDF object has. Note, that the internal dimensionality
might be smaller than this.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.pmm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pmm</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.pmm" title="Link to this definition"></a></dt>
<dd><p>The instance of ParameterModelMapper that defines the global
parameters and their mapping to local model/source parameters.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the PDF does not depend on any parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.param_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_set</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.param_set" title="Link to this definition"></a></dt>
<dd><p>The ParameterSet instance defining the set of parameters this PDF
depends on. It is <code class="docutils literal notranslate"><span class="pre">None</span></code>, if this PDF does not depend on any
parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.is_signal_pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_signal_pdf</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.is_signal_pdf" title="Link to this definition"></a></dt>
<dd><p>(read-only) The flag if this PDF instance represents a signal PDF.
A PDF is a signal PDF if it derives from the <code class="docutils literal notranslate"><span class="pre">IsSignalPDF</span></code> class.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.is_background_pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_background_pdf</span></span><a class="headerlink" href="#skyllh.core.pdf.PDF.is_background_pdf" title="Link to this definition"></a></dt>
<dd><p>(read-only) The flag if this PDF instance represents a background
PDF. A PDF is a background PDF if it derives from the
<code class="docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code>  class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.add_axis">
<span class="sig-name descname"><span class="pre">add_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDF.add_axis" title="Link to this definition"></a></dt>
<dd><p>Adds the given PDFAxis object to this PDF.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.assert_is_valid_for_trial_data">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDF.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to check if this PDF is valid for
all the given trial data. This means, it needs to check if there
is a PDF value for each trial data event that will be used in the
likelihood evaluation. This is just a seatbelt.
The method must raise a <code class="docutils literal notranslate"><span class="pre">ValueError</span></code> if the PDF is not valid for the
given trial data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the trial data is outside the PDF’s value space.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDF.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called when a new trial is initialized. Derived
classes can use this call hook to pre-compute time-expensive data, which
do not depend on any fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to measure timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.get_pd">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDF.get_pd" title="Link to this definition"></a></dt>
<dd><p>This abstract method is supposed to calculate the probability density
for the specified events given the specified parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the data events for which
the probability density should be calculated.
What data fields are required is defined by the derived PDF class
and depends on the application.</p></li>
<li><p><strong>params_recarray</strong> (<em>numpy record ndarray</em><em> | </em><em>None</em>) – The (N_models,)-shaped numpy structured ndarray holding the local
parameter names and values of the models.
The models are defined by the ParameterModelMapper instance.
The parameter values can be different for the different models.
In case of the signal PDF, the models are the sources.
The record array must contain two fields for each source parameter,
one named &lt;name&gt; with the source’s local parameter name
holding the source’s local parameter value, and one named
&lt;name:gpidx&gt; holding the global parameter index plus one for each
source value. For values mapping to non-fit parameters, the index
should be negative.
This can be <code class="docutils literal notranslate"><span class="pre">None</span></code> for PDFs that do not depend on any parameters.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
for each event. The length of this 1D array depends on the number
of sources and the events belonging to those sources. In the worst
case the length is N_values = N_sources * N_trial_events.
The assignment of values to sources is given by the
<a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager.src_evt_idxs" title="skyllh.core.trialdata.TrialDataManager.src_evt_idxs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">src_evt_idxs</span></code></a>
property.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each global fit parameter. The key of the dictionary is the
id of the global fit parameter. The value is a (N_values,)-shaped
numpy ndarray.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.PDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">296</span></em><a class="headerlink" href="#skyllh.core.pdf.PDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_axes',</span> <span class="pre">'_param_set',</span> <span class="pre">'_pmm',</span> <span class="pre">'param_set',</span> <span class="pre">'pmm')</span></em><a class="headerlink" href="#skyllh.core.pdf.PDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">PDFProduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>The PDFProduct class represents the product of two PDF instances, i.e.
<code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>. It is derived from the PDF class and hence is a PDF itself.</p>
<p>Creates a new PDFProduct instance, which implements the operation
<code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>.
The axes of the two PDF instances will be merged.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdf1</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><em>PDF</em></a>) – The left-hand-side PDF in the operation <code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>.</p></li>
<li><p><strong>pdf2</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><em>PDF</em></a>) – The right-hand-side PDF in the operation <code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.pdf1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdf1</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.pdf1" title="Link to this definition"></a></dt>
<dd><p>The left-hand-side PDF in the operation <code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>.
It must be an instance of PDF.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.pdf2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdf2</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.pdf2" title="Link to this definition"></a></dt>
<dd><p>The right-hand-side PDF in the operation <code class="docutils literal notranslate"><span class="pre">pdf1</span> <span class="pre">*</span> <span class="pre">pdf2</span></code>.
It must be an instance of PDF.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Calls the <a class="reference internal" href="#skyllh.core.pdf.PDFProduct.assert_is_valid_for_trial_data" title="skyllh.core.pdf.PDFProduct.assert_is_valid_for_trial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert_is_valid_for_trial_data()</span></code></a> method of <code class="docutils literal notranslate"><span class="pre">pdf1</span></code>
and <code class="docutils literal notranslate"><span class="pre">pdf2</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that should be used to get the
trial data from.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If this PDF does not cover the trial data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Calls the <code class="docutils literal notranslate"><span class="pre">initialize_for_new_trial</span></code> method of the two PDF
instances of this PDF product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial event data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing
information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the probability density for the trial events given the
specified parameters by calling the <cite>get_pd</cite> method of <cite>pdf1</cite>
and <cite>pdf2</cite> and combining the two property densities by multiplication.
The gradients will be calculated using the product rule of
differentiation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial event data for which
the PDF values should get calculated.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a><em> | </em><em>None</em>) – The (N_models,)-shaped structured numpy ndarray holding the
parameter values of the models. The the documentation of the
<a class="reference internal" href="#skyllh.core.pdf.PDF.get_pd" title="skyllh.core.pdf.PDF.get_pd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pd()</span></code></a> method of the
<a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a> class for further information.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy.ndarray</em>) – The (N_events,)-shaped numpy ndarray holding the probability density
for each event. In case of a signal PDF product the shape will be
(N_sources,N_events).</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each fit parameter. The key of the dictionary is the id
of the global fit parameter. The value is the (N_events,)-shaped
numpy ndarray. In case of a signal PDF product, the value is a
(N_sources,N_events)-shaped ndarray.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">506</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFProduct.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_axes',</span> <span class="pre">'_pdf1',</span> <span class="pre">'_pdf2',</span> <span class="pre">'pdf1',</span> <span class="pre">'pdf2')</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFProduct.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.SignalPDFProduct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">SignalPDFProduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.SignalPDFProduct" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDFProduct" title="skyllh.core.pdf.PDFProduct"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFProduct</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a></p>
<p>This class provides a signal PDF that is the product of two signal PDF
instances.</p>
<p>Creates a new PDF product of two signal PDFs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SignalPDFProduct.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.SignalPDFProduct.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SignalPDFProduct.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">714</span></em><a class="headerlink" href="#skyllh.core.pdf.SignalPDFProduct.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SignalPDFProduct.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.SignalPDFProduct.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.BackgroundPDFProduct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">BackgroundPDFProduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.BackgroundPDFProduct" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDFProduct" title="skyllh.core.pdf.PDFProduct"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFProduct</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsBackgroundPDF</span></code></a></p>
<p>This class provides a background PDF that is the product of two
background PDF instances.</p>
<p>Creates a new PDF product of two background PDFs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.BackgroundPDFProduct.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.BackgroundPDFProduct.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.BackgroundPDFProduct.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">730</span></em><a class="headerlink" href="#skyllh.core.pdf.BackgroundPDFProduct.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.BackgroundPDFProduct.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.BackgroundPDFProduct.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.SpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">SpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_range</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.SpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This is the abstract base class for a spatial PDF model. A spatial PDF
has two axes, right-ascension (ra) and declination (dec).</p>
<p>Constructor of a spatial PDF. It adds the PDF axes “ra” and “dec”
with the specified ranges of coverage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_range</strong> (<em>2-element tuple</em>) – The tuple specifying the right-ascension range this PDF covers.</p></li>
<li><p><strong>dec_range</strong> (<em>2-element tuple</em>) – The tuple specifying the declination range this PDF covers.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.SpatialPDF.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.SpatialPDF.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Checks if this spatial PDF is valid for all the given experimental
data.
It checks if all the data is within the right-ascension and declination
range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial data.
The following data fields must exist:</p>
<ul>
<li><dl class="simple">
<dt>’ra’<span class="classifier">float</span></dt><dd><p>The right-ascension of the data event.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’dec’<span class="classifier">float</span></dt><dd><p>The declination of the data event.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the right-ascension or declination
    range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.SpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">746</span></em><a class="headerlink" href="#skyllh.core.pdf.SpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.SpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.SpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.EnergyPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">EnergyPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.EnergyPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This is the abstract base class for an energy PDF.</p>
<p>Creates a new PDF instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a><em> | </em><em>None</em>) – The instance of ParameterModelMapper defining the global parameters
and their mapping to local model/source parameters.
It can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the PDF does not depend on any parameters.</p></li>
<li><p><strong>param_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterSet" title="skyllh.core.parameters.ParameterSet"><em>ParameterSet</em></a><em> | </em><em>None</em>) – If this PDF depends on parameters, this set of parameters
defines them. If a single parameter instance is given a ParameterSet
instance will be created holding this single parameter.
If set to None, this PDF will not depend on any parameters.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.EnergyPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.EnergyPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.EnergyPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">825</span></em><a class="headerlink" href="#skyllh.core.pdf.EnergyPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.EnergyPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdf.EnergyPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">TimePDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_flux_profile</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.TimePDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This is the abstract base class for a time PDF. It consists of
a <a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Livetime</span></code></a> instance and a
<a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeFluxProfile</span></code></a> instance. Together they
construct the actual time PDF, which has detector down-time taking
into account.</p>
<p>Creates a new time PDF instance for a given time flux profile and
detector live time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – An instance of Livetime, which provides the detector live-time
information.</p></li>
<li><p><strong>time_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><em>TimeFluxProfile</em></a>) – The signal’s time flux profile.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments are passed to the constructor of the
base class, <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.pdf.TimePDF.livetime" title="Link to this definition"></a></dt>
<dd><p>The instance of Livetime, which provides the detector live-time
information.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.time_flux_profile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_flux_profile</span></span><a class="headerlink" href="#skyllh.core.pdf.TimePDF.time_flux_profile" title="Link to this definition"></a></dt>
<dd><p>The instance of TimeFluxProfile providing the physical time flux
profile.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.TimePDF.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Checks if the time PDF is valid for all the given trial data.
It checks if the time of all events is within the defined time axis of
the PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager that holds the trial data.
The following data fields must exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code><span class="classifier">float</span></dt><dd><p>The time of the data event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the time range of the PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.TimePDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">835</span></em><a class="headerlink" href="#skyllh.core.pdf.TimePDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.TimePDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_S',</span> <span class="pre">'_livetime',</span> <span class="pre">'_time_flux_profile',</span> <span class="pre">'livetime',</span> <span class="pre">'time_flux_profile')</span></em><a class="headerlink" href="#skyllh.core.pdf.TimePDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">MultiDimGridPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis_binnings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_pdf_splinetable</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdf_grid_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm_factor_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_pd_values</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This class provides a multi-dimensional PDF. The PDF is created from
pre-calculated PDF data on a grid. The grid data is either interpolated
using a <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RegularGridInterpolator.html#scipy.interpolate.RegularGridInterpolator" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RegularGridInterpolator</span></code></a> instance, or is
provided as a photospline fit through a photospline table file.</p>
<p>Creates a new PDF instance for a multi-dimensional PDF given
as PDF values on a grid or as PDF values stored in a photospline table.</p>
<p>In case of PDF values on a grid, the grid data is interpolated with a
<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RegularGridInterpolator.html#scipy.interpolate.RegularGridInterpolator" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RegularGridInterpolator</span></code></a> instance. As grid
points the bin edges of the axis binning definitions are used.</p>
<p>In case of PDF values stored in a photospline table, this table is
loaded via the <code class="docutils literal notranslate"><span class="pre">photospline.SplineTable</span></code> class.</p>
<p>Note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">By</span> <span class="n">definition</span> <span class="n">this</span> <span class="n">PDF</span> <span class="n">must</span> <span class="ow">not</span> <span class="n">depend</span> <span class="n">on</span> <span class="nb">any</span> <span class="n">fit</span> <span class="n">parameters</span><span class="o">.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper that defines the mapping of
the global parameters to local model parameters.</p></li>
<li><p><strong>axis_binnings</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a><em> | </em><em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.binning.BinningDefinition" title="skyllh.core.binning.BinningDefinition"><em>BinningDefinition</em></a>) – The sequence of BinningDefinition instances defining the binning of
the PDF axes. The name of each instance of BinningDefinition defines
the event field name that should be used for querying the PDF.</p></li>
<li><p><strong>path_to_pdf_splinetable</strong> (<em>str</em><em> | </em><em>None</em>) – The path to the file containing the spline table, which contains
a pre-computed fit to the grid data.
If specified, <code class="docutils literal notranslate"><span class="pre">pdf_grid_data</span></code> must be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>pdf_grid_data</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em><em> | </em><em>None</em>) – The n-dimensional numpy ndarray holding the PDF values at given grid
points. The grid points must match the bin edges of the given
BinningDefinition instances of the <code class="docutils literal notranslate"><span class="pre">axis_binnings</span></code> argument.
If specified, <code class="docutils literal notranslate"><span class="pre">path_to_pdf_splinetable</span></code> must be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>norm_factor_func</strong> (<em>callable</em><em> | </em><em>None</em>) – <p>The function that calculates a possible required normalization
factor for the PDF value based on the event properties.
The call signature of this function must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(pdf,</span> <span class="pre">tdm,</span> <span class="pre">params_recarray,</span> <span class="pre">eventdata,</span> <span class="pre">evt_mask=None)</span></code>,</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">pdf</span></code> is this PDF instance, <code class="docutils literal notranslate"><span class="pre">tdm</span></code> is an instance of
TrialDataManager holding the event data for which to calculate the
PDF values, <code class="docutils literal notranslate"><span class="pre">params_recarray</span></code> is a numpy structured ndarray
holding the local parameter names and values, <code class="docutils literal notranslate"><span class="pre">eventdata</span></code> is
is a (V,N_values)-shaped numpy ndarray holding the event data
necessary for this PDF, and <code class="docutils literal notranslate"><span class="pre">evt_mask</span></code> is an optional
(N_values,)-shaped numpy ndarray holding the mask for the events,
i.e. rows in <code class="docutils literal notranslate"><span class="pre">eventdata</span></code>, which should be considered. If <code class="docutils literal notranslate"><span class="pre">None</span></code>,
all events should be considered.</p>
</p></li>
<li><p><strong>cache_pd_values</strong> (<em>bool</em>) – Flag if the probability density values should be cached.
The evaluation of the photospline fit might be slow and caching the
probability density values might increase performance.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.axis_binning_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_binning_list</span></span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.axis_binning_list" title="Link to this definition"></a></dt>
<dd><p>The list of BinningDefinition instances for each PDF axis.
The name of each BinningDefinition instance defines the event field
name that should be used for querying the PDF.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.basis_function_indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">basis_function_indices</span></span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.basis_function_indices" title="Link to this definition"></a></dt>
<dd><p>The (V,N_values)-shaped numpy.ndarray of int holding the basis
function indices of the photospline table for the current trial
eventdata.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.norm_factor_func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">norm_factor_func</span></span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.norm_factor_func" title="Link to this definition"></a></dt>
<dd><p>The function that calculates the possible required normalization
factor. The call signature of this function must be</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">__call__(pdf,</span> <span class="pre">tdm,</span> <span class="pre">params_recarray,</span> <span class="pre">eventdata,</span> <span class="pre">evt_mask=None)</span></code>,</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">pdf</span></code> is this PDF instance, <code class="docutils literal notranslate"><span class="pre">tdm</span></code> is an instance of
TrialDataManager holding the events for which to calculate the PDF
values, <code class="docutils literal notranslate"><span class="pre">params_recarray</span></code> is a numpy structured ndarray holding the
local parameter names and values, <code class="docutils literal notranslate"><span class="pre">eventdata</span></code> is a (V,N_values)-shaped
numpy ndarray holding the event data necessary for this PDF, and
<code class="docutils literal notranslate"><span class="pre">evt_mask</span></code> is an optional (N_values,)-shaped numpy ndarray holding the
mask for the events, i.e. rows in <code class="docutils literal notranslate"><span class="pre">eventdata</span></code>, which should be
considered. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, all events should be considered..
This property can be set to <code class="docutils literal notranslate"><span class="pre">None</span></code>. In that case a unity returning
function is used.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.cache_pd_values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cache_pd_values</span></span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.cache_pd_values" title="Link to this definition"></a></dt>
<dd><p>Flag if the probability density values should be cached.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdf</span></span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.pdf" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of RegularGridInterpolator or instance of
photospline.SplineTable that represents the internal PDF object.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">985</span></em><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_axis_binning_list',</span> <span class="pre">'_basis_function_indices',</span> <span class="pre">'_cache_pd',</span> <span class="pre">'_cache_pd_values',</span> <span class="pre">'_cache_tdm_trial_data_state_id',</span> <span class="pre">'_norm_factor_func',</span> <span class="pre">'_pdf',</span> <span class="pre">'axis_binning_list',</span> <span class="pre">'basis_function_indices',</span> <span class="pre">'cache_pd_values',</span> <span class="pre">'norm_factor_func')</span></em><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Checks if the PDF is valid for all values of the given evaluation
data. The evaluation data values must be within the ranges of the PDF
axes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that holds the trial data for which
the PDF should be valid.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any of the evaluation trial data is out of its axis range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called whenever a new trial is initialized.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.get_pd_with_eventdata">
<span class="sig-name descname"><span class="pre">get_pd_with_eventdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eventdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evt_mask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.get_pd_with_eventdata" title="Link to this definition"></a></dt>
<dd><p>Calculates the probability density value for the given <code class="docutils literal notranslate"><span class="pre">eventdata</span></code>.</p>
<p>This method is useful when PDF values for the same trial data need to
be evaluated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial event data for which
the PDF values should get calculated.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy structured ndarray</em><em> | </em><em>None</em>) – The (N_models,)-shaped numpy structured ndarray holding the local
parameter names and values of the models.
By definition, this PDF does not depend on any parameters.</p></li>
<li><p><strong>eventdata</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The (V,N_values)-shaped numpy ndarray holding the V data attributes
for each of the N_values events needed for the evaluation of the
PDF.</p></li>
<li><p><strong>evt_mask</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em><em> | </em><em>None</em>) – The (N_values,)-shaped numpy ndarray defining the elements of the
N_values pd array for which pd values should get calculated.
This is needed to determine if the requested pd values are already
cached.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pd</strong> (<em>(N,)-shaped numpy ndarray</em>) – The (N,)-shaped numpy ndarray holding the probability density
value for each model and event. The length of this array depends on
the <code class="docutils literal notranslate"><span class="pre">evt_mask</span></code> argument. Only values are returned where
<code class="docutils literal notranslate"><span class="pre">evt_mask</span></code> evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code>.
If <code class="docutils literal notranslate"><span class="pre">evt_mask</span></code> is set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the length is N_values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.create_eventdata_for_sigpdf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_eventdata_for_sigpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.create_eventdata_for_sigpdf" title="Link to this definition"></a></dt>
<dd><p>Creates the (V,N_values)-shaped eventdata ndarray necessary for
evaluating the signal PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial event data.</p></li>
<li><p><strong>axes</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDFAxes" title="skyllh.core.pdf.PDFAxes"><em>PDFAxes</em></a>) – The instance of PDFAxes defining the data field names for the PDF.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>eventdata</strong> (<em>instance of numpy.ndarray</em>) – The (V,N_values)-shaped numpy ndarray holding the event data for
evaluating the signal PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.create_eventdata_for_bkgpdf">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_eventdata_for_bkgpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.create_eventdata_for_bkgpdf" title="Link to this definition"></a></dt>
<dd><p>Creates the (V,N_values)-shaped eventdata ndarray necessary for
evaluating the background PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial event data.</p></li>
<li><p><strong>axes</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDFAxes" title="skyllh.core.pdf.PDFAxes"><em>PDFAxes</em></a>) – The instance of PDFAxes defining the data field names for the PDF.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.MultiDimGridPDF.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.MultiDimGridPDF.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the probability density for the given trial events given
the specified local parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial event data for
which the PDF values should get calculated.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy structured ndarray</em><em> | </em><em>None</em>) – The (N_models,)-shaped numpy structured ndarray holding the local
parameter names and values of the models.
By definition, this PDF does not depend on any parameters.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>(N_values,)-shaped numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
value for each source and event.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each global fit parameter. Since this PDF does not depend on
any fit parameter, this is an empty dictionary.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdf.</span></span><span class="sig-name descname"><span class="pre">PDFSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This class describes a set of PDF objects which are related to each other
via different values of a set of parameters. A signal PDF usually
consists of multiple same-kind PDFs for different signal parameters.
In general background PDFs could have parameters, too.</p>
<p>This class has the <code class="docutils literal notranslate"><span class="pre">params_grid_set</span></code> property holding the set of
parameter grids. Also it holds a dictionary with the PDFs for the different
sets of parameter values. PDF instances can be added via the <a class="reference internal" href="#skyllh.core.pdf.PDFSet.add_pdf" title="skyllh.core.pdf.PDFSet.add_pdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_pdf()</span></code></a>
method and can be retrieved via the <a class="reference internal" href="#skyllh.core.pdf.PDFSet.get_pdf" title="skyllh.core.pdf.PDFSet.get_pdf"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_pdf()</span></code></a> method.</p>
<p>Constructs a new PDFSet instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>param_grid_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterGrid" title="skyllh.core.parameters.ParameterGrid"><em>ParameterGrid</em></a><em> |</em>) – instance of ParameterGridSet
The instance of ParameterGridSet with the parameter grids defining
the discrete parameter values for which the PDFs of this PDF set
are made for.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1594</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_gridparams_hash_pdf_dict',</span> <span class="pre">'_param_grid_set',</span> <span class="pre">'param_grid_set')</span></em><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.param_grid_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_grid_set</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.param_grid_set" title="Link to this definition"></a></dt>
<dd><p>The ParameterGridSet instance defining the grid values of
the different parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.gridparams_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gridparams_list</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.gridparams_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of dictionaries of all the parameter
permutations on the grid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.pdf_keys">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdf_keys</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.pdf_keys" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of stored PDF object keys.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.axes">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axes</span></span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.axes" title="Link to this definition"></a></dt>
<dd><p>(read-only) The PDFAxes object of one of the PDFs of this PDF set.
All PDFs of this set are supposed to have the same axes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__contains__" title="Link to this definition"></a></dt>
<dd><p>Checks if the given key exists in this PDFSet instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>dict</em><em> | </em><em>int</em>) – If a dictionary is provided, it must be the gridparams dictionary
containing the grid parameter names and vales.
If an integer is provided, it must be the hash of the gridparams
dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Implements the access operator <code class="docutils literal notranslate"><span class="pre">self[gridparams_hash]</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.__iter__" title="Link to this definition"></a></dt>
<dd><p>Returns an iterator of the PDF dictionary of this PDFSet.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.items" title="Link to this definition"></a></dt>
<dd><p>Returns an iterator over the (gridparams_hash, PDF) pairs of this
PDFSet instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.values">
<span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.values" title="Link to this definition"></a></dt>
<dd><p>Returns an iterator over the PDF instances of the PDFSet instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.make_key">
<span class="sig-name descname"><span class="pre">make_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridparams</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.make_key" title="Link to this definition"></a></dt>
<dd><p>Creates the key for the given grid parameter dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gridparams</strong> (<em>dict</em>) – The dictionary holding the grid parameter names and values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>key</strong> (<em>int</em>) – The key for the given grid parameter dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.add_pdf">
<span class="sig-name descname"><span class="pre">add_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridparams</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.add_pdf" title="Link to this definition"></a></dt>
<dd><p>Adds the given PDF object for the given parameters to the internal
registry. If this PDF set is not empty, the to-be-added PDF must have
the same axes than the already added PDFs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pdf</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><em>PDF</em></a>) – The PDF instance, that should be added</p></li>
<li><p><strong>gridparams</strong> (<em>dict</em>) – The dictionary with the grid parameter values, which identify
the PDF object.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If the given PDF was already added for the given set of parameters.</p></li>
<li><p><strong>TypeError</strong> – If any of the method’s arguments has the wrong type.</p></li>
<li><p><strong>ValueError</strong> – If the axes of the given PDFs are not the same as the axes of the
    already added PDFs.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.get_pdf">
<span class="sig-name descname"><span class="pre">get_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridparams</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.get_pdf" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF object for the given set of fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gridparams</strong> (<em>dict</em><em> | </em><em>int</em>) – The dictionary with the grid parameter names and values for which
the PDF object should get retrieved. If an integer is given, it is
assumed to be the PDF key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pdf</strong> (<em>instance if PDF</em>) – The PDF instance for the given parameters.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If no PDF instance was created for the given set of parameters.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called whenever a new trial data is available. It
calls the <a class="reference internal" href="#skyllh.core.pdf.PDF.initialize_for_new_trial" title="skyllh.core.pdf.PDF.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a> method
of each PDF.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Checks if the PDFs of this PDFSet instance are valid for all the
given trial data events.
Since all PDFs should have the same axes, only the first PDF will be
checked. It calls the
<a class="reference internal" href="#skyllh.core.pdf.PDF.assert_is_valid_for_trial_data" title="skyllh.core.pdf.PDF.assert_is_valid_for_trial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert_is_valid_for_trial_data()</span></code></a> method of
the first <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the axes range of the PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdf.PDFSet.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridparams</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdf.PDFSet.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calls the <code class="docutils literal notranslate"><span class="pre">get_pd</span></code> method of the PDF instance that belongs to the
given grid parameter values <code class="docutils literal notranslate"><span class="pre">gridparams</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gridparams</strong> (<em>dict</em>) – The dictionary holding the parameter values, which define PDF
instance within this PDFSet instance.
Note, that the parameter values must match a set of parameter grid
values for which a PDF instance has been created and added to this
PDFSet instance.</p></li>
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the data events for which the
probability density of the events should be calculated.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray holding the parameter name and values for
each source model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>numpy ndarray</em>) – The 1D numpy ndarray holding the probability density values for each
event and source.
See <a class="reference internal" href="#skyllh.core.pdf.PDF.get_pd" title="skyllh.core.pdf.PDF.get_pd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdf.PDF.get_pd()</span></code></a> for further information.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradient values for each global fit
parameter.
See <a class="reference internal" href="#skyllh.core.pdf.PDF.get_pd" title="skyllh.core.pdf.PDF.get_pd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdf.PDF.get_pd()</span></code></a> for further information.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.pdfratio">
<span id="skyllh-core-pdfratio-module"></span><h2>skyllh.core.pdfratio module<a class="headerlink" href="#module-skyllh.core.pdfratio" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio.</span></span><span class="sig-name descname"><span class="pre">PDFRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig_param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_param_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>Abstract base class for a signal over background PDF ratio class.
It defines the interface of a signal over background PDF ratio class.</p>
<p>Creates a new PDFRatio instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig_param_names</strong> (<em>sequence</em><em> of </em><em>str</em><em> | </em><em>str</em><em> | </em><em>None</em>) – The sequence of signal parameter names this PDFRatio instance is a
function of.</p></li>
<li><p><strong>bkg_param_names</strong> (<em>sequence</em><em> of </em><em>str</em><em> | </em><em>str</em><em> | </em><em>None</em>) – The sequence of background parameter names this PDFRatio instance
is a function of.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.n_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_params</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.n_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of parameters the PDF ratio depends on.
This is the sum of signal and background parameters.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">param_names</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.param_names" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of parameter names this PDF ratio is a
function of. This is the superset of signal and background parameter
names.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.n_sig_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sig_params</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.n_sig_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of signal parameters the PDF ratio depends
on.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.n_bkg_params">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_bkg_params</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.n_bkg_params" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of background parameters the PDF ratio depends
on.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.sig_param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_param_names</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.sig_param_names" title="Link to this definition"></a></dt>
<dd><p>The list of signal parameter names this PDF ratio is a function of.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.bkg_param_names">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_param_names</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.bkg_param_names" title="Link to this definition"></a></dt>
<dd><p>The list of background parameter names this PDF ratio is a function
of.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the PDFRatio instance for a new trial. This method can
be utilized to pre-calculate PDFRatio values that do not depend on any
fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that holds the trial data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The optional instance of TimeLord to measure timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.get_ratio">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.get_ratio" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio value for each given trial data events (and
sources), given the given set of parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em><em> | </em><em>None</em>) – The (N_sources,)-shaped numpy record ndarray holding the parameter
names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratios</strong> (<em>instance of ndarray</em>) – The (N_values,)-shaped 1d numpy ndarray of float holding the PDF
ratio value for each trial event and source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.get_gradient">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.get_gradient" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio gradient for the global fit parameter
<code class="docutils literal notranslate"><span class="pre">fitparam_id</span></code> for each trial data event and source, given the given
set of parameters <code class="docutils literal notranslate"><span class="pre">src_params_recarray</span></code> for each source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio gradient values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy structured ndarray</em>) – The (N_sources,)-shaped numpy structured ndarray holding the
parameter names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>fitparam_id</strong> (<em>int</em>) – The ID of the global fit parameter for which the gradient should
get calculated.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>gradient</strong> (<em>instance of ndarray | 0</em>) – The (N_values,)-shaped 1d numpy ndarray of float holding the PDF
ratio gradient value for each source and trial data event.
If the PDF ratio does not depend on the given global fit parameter,
0 should be returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.__mul__">
<span class="sig-name descname"><span class="pre">__mul__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.__mul__" title="Link to this definition"></a></dt>
<dd><p>Implements the mathematical operation <code class="docutils literal notranslate"><span class="pre">new</span> <span class="pre">=</span> <span class="pre">self</span> <span class="pre">*</span> <span class="pre">other</span></code>, where
<code class="docutils literal notranslate"><span class="pre">other</span></code> is an instance of PDFRatio. It creates an instance of
PDFRatioProduct holding the two PDFRatio instances.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">37</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_param_names',</span> <span class="pre">'_sig_param_names',</span> <span class="pre">'bkg_param_names',</span> <span class="pre">'sig_param_names')</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio.</span></span><span class="sig-name descname"><span class="pre">PDFRatioProduct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdfratio1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdfratio2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a></p>
<p>This is the mathematical product of two PDFRatio instances, which is a
PDFRatio instance again.</p>
<p>Creates a new PDFRatioProduct instance representing the product of
two PDFRatio instances.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.pdfratio1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdfratio1</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.pdfratio1" title="Link to this definition"></a></dt>
<dd><p>The first PDFRatio instance in the muliplication
<code class="docutils literal notranslate"><span class="pre">pdfratio1</span> <span class="pre">*</span> <span class="pre">pdfratio2</span></code>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.pdfratio2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdfratio2</span></span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.pdfratio2" title="Link to this definition"></a></dt>
<dd><p>The second PDFRatio instance in the muliplication
<code class="docutils literal notranslate"><span class="pre">pdfratio1</span> <span class="pre">*</span> <span class="pre">pdfratio2</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the PDFRatioProduct instance for a new trial.
It calls the
<a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial" title="skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a> method
of each of the two <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a> instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.get_ratio">
<span class="sig-name descname"><span class="pre">get_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.get_ratio" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio product value for each trial data
event and source, given the given set of parameters for all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_sources,)-shaped numpy record ndarray holding the parameter
names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratios</strong> (<em>instance of ndarray</em>) – The (N_values,)-shaped 1d numpy ndarray of float holding the product
of the PDF ratio values for each trial event and source.
The PDF ratio product value for each trial event.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.get_gradient">
<span class="sig-name descname"><span class="pre">get_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.get_gradient" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio product gradient for the global fit parameter
with parameter ID <code class="docutils literal notranslate"><span class="pre">fitparam_id</span></code> for each trial data event and source,
given the set of parameters <code class="docutils literal notranslate"><span class="pre">src_params_recarray</span></code> for all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em><em> | </em><em>None</em>) – The (N_sources,)-shaped numpy record ndarray holding the parameter
names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>fitparam_id</strong> (<em>int</em>) – The ID of the global fit parameter for which the gradient should
get calculated.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>gradient</strong> (<em>instance of ndarray | 0</em>) – The (N_values,)-shaped 1d numpy ndarray of float holding the PDF
ratio gradient value for each trial event and source. If none of the
two PDFRatio instances depend on the given global fit parameter, the
scalar value <code class="docutils literal notranslate"><span class="pre">0</span></code> is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">235</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.PDFRatioProduct.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pdfratio1',</span> <span class="pre">'_pdfratio2',</span> <span class="pre">'pdfratio1',</span> <span class="pre">'pdfratio2')</span></em><a class="headerlink" href="#skyllh.core.pdfratio.PDFRatioProduct.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio.</span></span><span class="sig-name descname"><span class="pre">SourceWeightedPDFRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdfratio</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a></p>
<p>This class provides the calculation of a source weighted PDF ratio for
multiple sources:</p>
<div class="math notranslate nohighlight">
\[\mathcal{R}_i(\vec{p}_{\mathrm{s}}) = \frac{1}{A(\vec{p}_{\mathrm{s}})}
    \sum_{k=1}^{K} a_k(\vec{p}_{\mathrm{s}_k}) \mathcal{R}_{i,k}
    (\vec{p}_{\mathrm{s}_k})\]</div>
<p>Creates a new SourceWeightedPDFRatio instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset_idx</strong> (<em>int</em>) – The index of the dataset. It is used to access the source detector
signal yield weight.</p></li>
<li><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a>) – The instance of SrcDetSigYieldWeightsService providing the source
detector signal yield weights, i.e. the product of the theoretical
source weight with the detector signal yield.</p></li>
<li><p><strong>pdfratio</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><em>PDFRatio</em></a>) – The instance of PDFRatio providing the PDF ratio values and
derivatives.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.dataset_idx">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_idx</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.dataset_idx" title="Link to this definition"></a></dt>
<dd><p>(read-only) The index of the dataset for which this
SourceWeightedPDFRatio instance is made.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.src_detsigyield_weights_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_detsigyield_weights_service</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.src_detsigyield_weights_service" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of SrcDetSigYieldWeightsService providing
the source detector signal yield weights, i.e. the product of the
theoretical source weight with the detector signal yield.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.pdfratio">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pdfratio</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.pdfratio" title="Link to this definition"></a></dt>
<dd><p>(read-only) The PDFRatio instance that is used to calculate the
source weighted PDF ratio.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the PDFRatio instance for a new trial. It calls the
<a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial" title="skyllh.core.pdfratio.PDFRatio.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a> method
of the <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that holds the trial data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The optional instance of TimeLord to measure timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.get_ratio">
<span class="sig-name descname"><span class="pre">get_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.get_ratio" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio value for each given trial data events (and
sources), given the given set of parameters.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses the source detector signal yield weights service.
Hence, the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.weights.SrcDetSigYieldWeightsService.calculate()</span></code>
method needs to be called prior to calling this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_sources,)-shaped numpy record ndarray holding the parameter
names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratios</strong> (<em>instance of ndarray</em>) – The (N_selected_events,)-shaped 1d numpy ndarray of float holding
the PDF ratio value for each selected trial data event.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.get_gradient">
<span class="sig-name descname"><span class="pre">get_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.get_gradient" title="Link to this definition"></a></dt>
<dd><p>Retrieves the PDF ratio gradient for the parameter <code class="docutils literal notranslate"><span class="pre">fitparam_id</span></code>
for each trial data event, given the given set of parameters
<code class="docutils literal notranslate"><span class="pre">src_params_recarray</span></code> for each source.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method requires that the get_ratio method has been called prior
to calling this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio gradient values should get calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_sources,)-shaped numpy record ndarray holding the parameter
names and values of the sources.
See the documentation of the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>fitparam_id</strong> (<em>int</em>) – The ID of the global fit parameter for which the gradient should
get calculated.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>gradient</strong> (<em>instance of ndarray | 0</em>) – The (N_selected_events,)-shaped 1d numpy ndarray of float holding
the PDF ratio gradient value for each trial data event. If the PDF
ratio does not depend on the given global fit parameter, 0 will
be returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">431</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SourceWeightedPDFRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_R_i',</span> <span class="pre">'_cache_R_ik',</span> <span class="pre">'_dataset_idx',</span> <span class="pre">'_pdfratio',</span> <span class="pre">'_src_detsigyield_weights_service')</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SourceWeightedPDFRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio.</span></span><span class="sig-name descname"><span class="pre">SigOverBkgPDFRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">same_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_bkg_ratio_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a></p>
<p>This class implements a generic signal-over-background PDF ratio for a
signal and a background PDF instance.
It takes a signal PDF of type <em>pdf_type</em> and a background PDF of type
<em>pdf_type</em> and calculates the PDF ratio.</p>
<p>Creates a new signal-over-background PDF ratio instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig_pdf</strong> (class instance derived from <cite>pdf_type</cite>, IsSignalPDF) – The instance of the signal PDF.</p></li>
<li><p><strong>bkg_pdf</strong> (class instance derived from <cite>pdf_type</cite>, IsBackgroundPDF) – The instance of the background PDF.</p></li>
<li><p><strong>same_axes</strong> (<em>bool</em>) – Flag if the signal and background PDFs are supposed to have the
same axes. Default is True.</p></li>
<li><p><strong>zero_bkg_ratio_value</strong> (<em>float</em>) – The value of the PDF ratio to take when the background PDF value
is zero. This is to avoid division by zero. Default is 1.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">685</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_pdf',</span> <span class="pre">'_cache_bkg_grads',</span> <span class="pre">'_cache_bkg_pd',</span> <span class="pre">'_cache_sig_grads',</span> <span class="pre">'_cache_sig_pd',</span> <span class="pre">'_sig_pdf',</span> <span class="pre">'_zero_bkg_ratio_value',</span> <span class="pre">'bkg_pdf',</span> <span class="pre">'sig_pdf',</span> <span class="pre">'zero_bkg_ratio_value')</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.sig_pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_pdf</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.sig_pdf" title="Link to this definition"></a></dt>
<dd><p>The signal PDF object used to create the PDF ratio.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.bkg_pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_pdf</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.bkg_pdf" title="Link to this definition"></a></dt>
<dd><p>The background PDF object used to create the PDF ratio.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.zero_bkg_ratio_value">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">zero_bkg_ratio_value</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.zero_bkg_ratio_value" title="Link to this definition"></a></dt>
<dd><p>The value of the PDF ratio to take when the background PDF value
is zero. This is to avoid division by zero.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the PDFRatio instance for a new trial. It calls the
<a class="reference internal" href="#skyllh.core.pdf.PDF.assert_is_valid_for_trial_data" title="skyllh.core.pdf.PDF.assert_is_valid_for_trial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert_is_valid_for_trial_data()</span></code></a> of the
signal and background <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a> instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.get_ratio">
<span class="sig-name descname"><span class="pre">get_ratio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.get_ratio" title="Link to this definition"></a></dt>
<dd><p>Calculates the PDF ratio for the given trial events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The TrialDataManager instance holding the trial data events for
which the PDF ratio values should be calculated.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The (N_sources,)-shaped numpy record ndarray holding the local
parameter names and values of the sources.
See the
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
method for more information.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratios</strong> (<em>instance of ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
ratio for each event and source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigOverBkgPDFRatio.get_gradient">
<span class="sig-name descname"><span class="pre">get_gradient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.get_gradient" title="Link to this definition"></a></dt>
<dd><p>Retrieves the gradient of the PDF ratio w.r.t. the given parameter.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method uses cached values from the
<a class="reference internal" href="#skyllh.core.pdfratio.SigOverBkgPDFRatio.get_ratio" title="skyllh.core.pdfratio.SigOverBkgPDFRatio.get_ratio"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_ratio()</span></code></a> method.
Hence, that method needs to be called prior to this method.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial data.</p></li>
<li><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em><em> | </em><em>None</em>) – The (N_models,)-shaped numpy record ndarray holding the parameter
names and values of the models.
See <a class="reference internal" href="#skyllh.core.pdf.PDF.get_pd" title="skyllh.core.pdf.PDF.get_pd"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdf.PDF.get_pd()</span></code></a> for more information.
This can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, if the signal and background PDFs do not
depend on any parameters.</p></li>
<li><p><strong>fitparam_id</strong> (<em>int</em>) – The ID of the global fit parameter for which the gradient should
get calculated.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>grad</strong> (<em>instance of ndarray</em>) – The (N_values,)-shaped 1d numpy ndarray of float holding the PDF
ratio gradient value for each source and trial event.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio.</span></span><span class="sig-name descname"><span class="pre">SigSetOverBkgPDFRatio</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sig_pdf_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pdf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolmethod_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio.PDFRatio" title="skyllh.core.pdfratio.PDFRatio"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatio</span></code></a></p>
<p>Class for a PDF ratio class that takes a PDFSet as signal PDF and a PDF
as background PDF.
The signal PDF depends on signal parameters and an interpolation method
defines how the PDF ratio gets interpolated between the parameter grid
values.</p>
<p>Constructor called by creating an instance of a class which is
derived from this PDFRatio class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sig_pdf_set</strong> (<em>instance</em><em> of </em><em>PDFSet and instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><em>IsSignalPDF</em></a>) – The PDF set, which provides signal PDFs for a set of
discrete signal parameter values.</p></li>
<li><p><strong>bkg_pdf</strong> (<em>instance</em><em> of </em><em>PDF and instance</em><em> of </em><a class="reference internal" href="#skyllh.core.pdf.IsBackgroundPDF" title="skyllh.core.pdf.IsBackgroundPDF"><em>IsBackgroundPDF</em></a>) – The background PDF instance.</p></li>
<li><p><strong>interpolmethod_cls</strong> (<em>class</em><em> of </em><a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><em>GridManifoldInterpolationMethod</em></a><em> | </em><em>None</em>) – The class implementing the parameter interpolation method for
the PDF ratio manifold grid. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code> (default), the
<a class="reference internal" href="#skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod" title="skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">skyllh.core.interpolate.Parabola1DGridManifoldInterpolationMethod</span></code></a>
will be used for 1-dimensional parameter manifolds.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">944</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_bkg_pdf',</span> <span class="pre">'_interpolmethod_cls',</span> <span class="pre">'_sig_pdf_set',</span> <span class="pre">'bkg_pdf',</span> <span class="pre">'interpolmethod_cls',</span> <span class="pre">'sig_pdf_set')</span></em><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.bkg_pdf">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bkg_pdf</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.bkg_pdf" title="Link to this definition"></a></dt>
<dd><p>The background PDF instance, derived from IsBackgroundPDF.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.sig_pdf_set">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_pdf_set</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.sig_pdf_set" title="Link to this definition"></a></dt>
<dd><p>The signal PDFSet instance, derived from IsSignalPDF.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.interpolmethod_cls">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interpolmethod_cls</span></span><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.interpolmethod_cls" title="Link to this definition"></a></dt>
<dd><p>The class derived from GridManifoldInterpolationMethod
implementing the interpolation of the parameter manifold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio.SigSetOverBkgPDFRatio.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio.SigSetOverBkgPDFRatio.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the PDFRatio instance for a new trial. It calls the
<a class="reference internal" href="#skyllh.core.pdf.PDF.assert_is_valid_for_trial_data" title="skyllh.core.pdf.PDF.assert_is_valid_for_trial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert_is_valid_for_trial_data()</span></code></a> of the
signal <a class="reference internal" href="#skyllh.core.pdf.PDFSet" title="skyllh.core.pdf.PDFSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFSet</span></code></a> instance and the background
<a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a> instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.pdfratio_fill">
<span id="skyllh-core-pdfratio-fill-module"></span><h2>skyllh.core.pdfratio_fill module<a class="headerlink" href="#module-skyllh.core.pdfratio_fill" title="Link to this heading"></a></h2>
<p>This module defines the interface and provides particular implementations
of PDF ratio fill methods. For a binned PDF ratio it could happen, that some
bins don’t have background information but signal information is available.
Hence, a ratio cannot be computed for those bins. The PDF ratio fill method
specifies how those bins should get filled.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.PDFRatioFillMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio_fill.</span></span><span class="sig-name descname"><span class="pre">PDFRatioFillMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class to implement a PDF ratio fill method. It can happen,
that there are empty background bins but where signal could possibly be.
A PDFRatioFillMethod implements what happens in such cases.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratios</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered_zero_physics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered_zero_physics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>The __call__ method is supposed to fill the ratio bins (array)
with the signal / background ratio values. For bins (array elements),
where the division is undefined, e.g. due to zero background, the fill
method decides how to fill those bins.</p>
<dl class="simple">
<dt>Note: Bins which have neither signal monte-carlo nor background</dt><dd><p>monte-carlo coverage, are undefined about their signal-ness or
background-ness by construction.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ratios</strong> (<em>ndarray</em><em> of </em><em>float</em>) – The multi-dimensional array for the final ratio bins. The shape is
the same as the sig_h and bkg_h ndarrays.</p></li>
<li><p><strong>sig_pd_h</strong> (<em>ndarray</em><em> of </em><em>float</em>) – The multi-dimensional array (histogram) holding the signal
probability densities.</p></li>
<li><p><strong>bkg_pd_h</strong> (<em>ndarray</em><em> of </em><em>float</em>) – The multi-dimensional array (histogram) holding the background
probability densities.</p></li>
<li><p><strong>sig_mask_mc_covered</strong> (<em>ndarray</em><em> of </em><em>bool</em>) – The mask array indicating which array elements of sig_pd_h have
monte-carlo coverage.</p></li>
<li><p><strong>sig_mask_mc_covered_zero_physics</strong> (<em>ndarray</em><em> of </em><em>bool</em>) – The mask array indicating which array elements of sig_pd_h have
monte-carlo coverage but don’t have physics contribution.</p></li>
<li><p><strong>bkg_mask_mc_covered</strong> (<em>ndarray</em><em> of </em><em>bool</em>) – The mask array indicating which array elements of bkg_pd_h have
monte-carlo coverage.
In case of experimental data as background, this mask indicate where
(experimental data) background is available.</p></li>
<li><p><strong>bkg_mask_mc_covered_zero_physics</strong> (<em>ndarray</em><em> of </em><em>bool</em>) – The mask array ndicating which array elements of bkg_pd_h have
monte-carlo coverage but don’t have physics contribution.
In case of experimental data as background, this mask contains only
False entries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ratios</strong> (<em>ndarray</em>) – The array holding the final ratio values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">18</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio_fill.</span></span><span class="sig-name descname"><span class="pre">Skylab2SkylabPDFRatioFillMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatioFillMethod</span></code></a></p>
<p>This PDF ratio fill method implements the exact same fill method as in
the skylab2 software named “skylab”. It exists just for comparsion and
backward compatibility reasons. In general, it should not be used, because
it does not distinguish between bins with MC converage and physics model
contribution, and those with MC coverage and no physics model contribution!</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.signallike_percentile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signallike_percentile</span></span><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.signallike_percentile" title="Link to this definition"></a></dt>
<dd><p>The percentile of signal-like ratios, which should be taken as the
ratio value for ratios with no background probability. This percentile
must be given as a float value in the range [0, 100] inclusively.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered_zero_physics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered_zero_physics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Fills the ratio array <code class="docutils literal notranslate"><span class="pre">ratio</span></code>.
For more information see the documentation of
<a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">82</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_signallike_percentile',</span> <span class="pre">'signallike_percentile')</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.Skylab2SkylabPDFRatioFillMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio_fill.</span></span><span class="sig-name descname"><span class="pre">MostSignalLikePDFRatioFillMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signallike_percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatioFillMethod</span></code></a></p>
<p>PDF ratio fill method to set the PDF ratio to the most signal like PDF
ratio for bins, where there is signal but no background coverage.</p>
<p>Creates the PDF ratio fill method object for filling PDF ratio bins,
where there is signal MC coverage but no background (MC) coverage
with the most signal-like ratio value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>signallike_percentile</strong> (<em>float in range</em><em> [</em><em>0.</em><em>, </em><em>100.</em><em>]</em><em>, </em><em>default 99.</em>) – The percentile of signal-like ratios, which should be taken as the
ratio value for ratios with no background probability.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.signallike_percentile">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">signallike_percentile</span></span><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.signallike_percentile" title="Link to this definition"></a></dt>
<dd><p>The percentile of signal-like ratios, which should be taken as the
ratio value for ratios with no background probability. This percentile
must be given as a float value in the range [0, 100] inclusively.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered_zero_physics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered_zero_physics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Fills the ratio array <code class="docutils literal notranslate"><span class="pre">ratio</span></code>.
For more information see the documentation of
<a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__()</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">150</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_signallike_percentile',</span> <span class="pre">'signallike_percentile')</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MostSignalLikePDFRatioFillMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.pdfratio_fill.</span></span><span class="sig-name descname"><span class="pre">MinBackgroundLikePDFRatioFillMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFRatioFillMethod</span></code></a></p>
<p>PDF ratio fill method to set the PDF ratio to the minimal background like
value for bins, where there is signal but no background coverage.</p>
<p>Creates the PDF ratio fill method object for filling PDF ratio bins,
where there is signal MC coverage but no background (MC) coverage
with the minimal background-like ratio value.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">228</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_pd_h</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_mask_mc_covered_zero_physics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bkg_mask_mc_covered_zero_physics</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.pdfratio_fill.MinBackgroundLikePDFRatioFillMethod.__call__" title="Link to this definition"></a></dt>
<dd><p>Fills the ratio array <code class="docutils literal notranslate"><span class="pre">ratio</span></code>.
For more information see the documentation of
<a class="reference internal" href="#skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__" title="skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdfratio_fill.PDFRatioFillMethod.__call__()</span></code></a>.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.progressbar">
<span id="skyllh-core-progressbar-module"></span><h2>skyllh.core.progressbar module<a class="headerlink" href="#module-skyllh.core.progressbar" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.progressbar.</span></span><span class="sig-name descname"><span class="pre">ProgressBar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">startval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides an hierarchical progress bar for SkyLLH.
For rendering it uses the tqdm Python package.
In case of multiple layers of progress bars, it creates only a single
progress bar, which gets updated whenever the deeper level progress bars
are updated.</p>
<p>Creates a new ProgressBar instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>maxval</strong> (<em>int</em>) – The maximal value the progress can reach.</p></li>
<li><p><strong>startval</strong> (<em>int</em>) – The progress value to start with. Must be smaller than <cite>maxval</cite>.</p></li>
<li><p><strong>parent</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>False</em><em> | </em><em>None</em>) – The parent instance of ProgressBar if this progress bar is a sub
progress bar.
If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, this progress bar is deactivated and the
property <code class="docutils literal notranslate"><span class="pre">is_shown</span></code> will return <code class="docutils literal notranslate"><span class="pre">False</span></code>.
If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, this progress bar will be a primary progress
bar.</p></li>
<li><p><strong>arguments</strong> (<em>Additional keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>tqdm</strong> (<em>Additional keyword arguments are passed to the constructor</em><em> of </em><em>the</em>)</p></li>
<li><p><strong>class.</strong></p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.maxval">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">maxval</span></span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.maxval" title="Link to this definition"></a></dt>
<dd><p>The maximal integer value the progress can reach.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.startval">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">startval</span></span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.startval" title="Link to this definition"></a></dt>
<dd><p>The progress integer value to start with. It must be smaller than
<cite>maxval</cite>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.val">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">val</span></span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.val" title="Link to this definition"></a></dt>
<dd><p>(read-only) The current value of the progess.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.is_shown">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_shown</span></span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.is_shown" title="Link to this definition"></a></dt>
<dd><p>(read-only) Flag if the progress bar is shown. This is <code class="docutils literal notranslate"><span class="pre">True</span></code>
if the program is run in an interactive session, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.parent" title="Link to this definition"></a></dt>
<dd><p>The parent ProgressBar instance of this progress bar, or <code class="docutils literal notranslate"><span class="pre">None</span></code> if
no parent exist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.add_sub_progress_bar">
<span class="sig-name descname"><span class="pre">add_sub_progress_bar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pbar</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.add_sub_progress_bar" title="Link to this definition"></a></dt>
<dd><p>Adds the given progress bar to the list of running sub progress bars
of this progress bar.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">13</span></em><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_is_deactivated',</span> <span class="pre">'_maxval',</span> <span class="pre">'_parent',</span> <span class="pre">'_startval',</span> <span class="pre">'_sub_pbar_list',</span> <span class="pre">'_tqdm',</span> <span class="pre">'_val',</span> <span class="pre">'maxval',</span> <span class="pre">'parent',</span> <span class="pre">'startval')</span></em><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.remove_sub_progress_bars">
<span class="sig-name descname"><span class="pre">remove_sub_progress_bars</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.remove_sub_progress_bars" title="Link to this definition"></a></dt>
<dd><p>Removes all progress bar instances from the list of sub progress bars
of this progress bar. It calles the <code class="docutils literal notranslate"><span class="pre">remove_sub_progress_bars</span></code> method
of each sub progress bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.get_progressbar_list">
<span class="sig-name descname"><span class="pre">get_progressbar_list</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.get_progressbar_list" title="Link to this definition"></a></dt>
<dd><p>Retrieves the list of ProgressBar instances.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pbar_list</strong> (<em>list of instance of ProgressBar</em>) – The list of ProgressBar instances, which are part of this
ProgressBar instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.rerender">
<span class="sig-name descname"><span class="pre">rerender</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.rerender" title="Link to this definition"></a></dt>
<dd><p>Rerenders this progress bar on the display. It calls the <code class="docutils literal notranslate"><span class="pre">update</span></code>
method of the tqdm progess bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.trigger_rerendering">
<span class="sig-name descname"><span class="pre">trigger_rerendering</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.trigger_rerendering" title="Link to this definition"></a></dt>
<dd><p>Triggers a rerendering / update of the most top progress bar.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.start" title="Link to this definition"></a></dt>
<dd><p>Sets the current progess value to <code class="docutils literal notranslate"><span class="pre">startval</span></code> and updates the
progess bar to fulfill the start conditions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.finish">
<span class="sig-name descname"><span class="pre">finish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.finish" title="Link to this definition"></a></dt>
<dd><p>Finishes this progress bar by setting the current progress value to
its max value.
If this progress bar is the top most progessbar, it will also close
the tqdm instance, what will trigger a flush of the output buffer.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.increment">
<span class="sig-name descname"><span class="pre">increment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.increment" title="Link to this definition"></a></dt>
<dd><p>Updates the progress bar by incrementing the progress by the given
integral amount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>dval</strong> (<em>int</em>) – The amount of progress to increment the progress bar with.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.progressbar.ProgressBar.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.progressbar.ProgressBar.update" title="Link to this definition"></a></dt>
<dd><p>Updates the progress value to the given value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>val</strong> (<em>int</em>) – The new current progress value.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.py">
<span id="skyllh-core-py-module"></span><h2>skyllh.core.py module<a class="headerlink" href="#module-skyllh.core.py" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.py.PyQualifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">PyQualifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.PyQualifier" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract base class for any Python qualifier class.
An object can get qualified by calling a PyQualifier instance with that
object. The PyQualifier class will be added to the <code class="docutils literal notranslate"><span class="pre">__pyqualifiers__</span></code>
attribute of the object.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.PyQualifier.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.PyQualifier.__call__" title="Link to this definition"></a></dt>
<dd><p>Declares the given Python object to be qualified with the
PyQualifier class of <cite>self</cite>. It adds the class of <cite>self</cite> to the
<cite>__pyqualifiers__</cite> tuple of the given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – The Python object that should get qualified.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>obj</strong> (<em>object</em>) – The given object, but modified to be declared for this Python
qualifier.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.PyQualifier.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.PyQualifier.check" title="Link to this definition"></a></dt>
<dd><p>Checks if the given Python object is declared with the PyQualifier
class of the <cite>self</cite> object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – The Python object to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – The check result. <cite>True</cite> if the object is declared for this Python
qualifier, and <cite>False</cite> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.PyQualifier.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">15</span></em><a class="headerlink" href="#skyllh.core.py.PyQualifier.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.PyQualifier.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.py.PyQualifier.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.py.ConstPyQualifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">ConstPyQualifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ConstPyQualifier" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.py.PyQualifier" title="skyllh.core.py.PyQualifier"><code class="xref py py-class docutils literal notranslate"><span class="pre">PyQualifier</span></code></a></p>
<p>This class defines a PyQualifier for constant Python objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ConstPyQualifier.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.py.ConstPyQualifier.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ConstPyQualifier.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">74</span></em><a class="headerlink" href="#skyllh.core.py.ConstPyQualifier.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ConstPyQualifier.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.py.ConstPyQualifier.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.get_class_of_func">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">get_class_of_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.get_class_of_func" title="Link to this definition"></a></dt>
<dd><p>Determines the class object that defined the given method or function
<code class="docutils literal notranslate"><span class="pre">f</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>f</strong> (<em>function</em><em> | </em><em>method</em>) – The function or method whose parent class should be determined.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>cls</strong> (<em>class | None</em>) – The class object which defines the given function or method. <code class="docutils literal notranslate"><span class="pre">None</span></code>
is returned when no class could be determined.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.typename">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">typename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.typename" title="Link to this definition"></a></dt>
<dd><p>Returns the name of the given type <code class="docutils literal notranslate"><span class="pre">t</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.classname">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">classname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.classname" title="Link to this definition"></a></dt>
<dd><p>Returns the name of the class of the class instance <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.module_classname">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">module_classname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.module_classname" title="Link to this definition"></a></dt>
<dd><p>Returns the module and class name of the given instance <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.module_class_method_name">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">module_class_method_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meth_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.module_class_method_name" title="Link to this definition"></a></dt>
<dd><p>Returns the module, class, and method name of the given instance <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>instance</em><em> of </em><em>object</em>) – The object instance.</p></li>
<li><p><strong>meth_name</strong> (<em>str</em>) – The name of the method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.get_byte_size_prefix">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">get_byte_size_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.get_byte_size_prefix" title="Link to this definition"></a></dt>
<dd><p>Determines the biggest size prefix for the given size in bytes such that
the new size is still greater one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>size</strong> (<em>int</em>) – The size in bytes.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>newsize</strong> (<em>float</em>) – The new byte size accounting for the byte prefix.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – The biggest byte size prefix.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.getsizeof">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">getsizeof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.getsizeof" title="Link to this definition"></a></dt>
<dd><p>Determines the size in bytes the given objects have in memory.
If an object is a sequence, the size of the elements of the sequence will
be estimated as well and added to the result. This does not account for the
multiple occurence of the same object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>objects</strong> (<em>sequence</em><em> of </em><em>instances</em><em> of </em><em>object</em><em> | </em><em>instance</em><em> of </em><em>object.</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>memsize</strong> (<em>int</em>) – The memory size in bytes of the given objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.issequence">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">issequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.issequence" title="Link to this definition"></a></dt>
<dd><p>Checks if the given object <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a sequence or not. The definition of
a sequence in this case is, that the function <code class="docutils literal notranslate"><span class="pre">len</span></code> is defined for the
object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A str object is NOT considered a sequence!</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given object is a sequence. <code class="docutils literal notranslate"><span class="pre">False</span></code> if the given
object is an instance of str or not a sequence.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.issequenceof">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">issequenceof</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pyqualifiers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.issequenceof" title="Link to this definition"></a></dt>
<dd><p>Checks if the given object <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a sequence with items being
instances of type <code class="docutils literal notranslate"><span class="pre">T</span></code>, possibly qualified with the given Python
qualifiers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>instance</em><em> of </em><em>object</em>) – The Python object to check.</p></li>
<li><p><strong>T</strong> (<em>type</em><em> | </em><em>tuple</em><em> of </em><em>types</em>) – The type each item of the sequence should be. If a tuple of types is
given, each item can be one of the given types.</p></li>
<li><p><strong>pyqualifiers</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.py.PyQualifier" title="skyllh.core.py.PyQualifier"><em>PyQualifier</em></a><em> |</em>) – sequence of instances of PyQualifier | None
One or more instances of PyQualifier. Each instance acts as a filter
for each item.
If any of the filters return <cite>False</cite> for any of the items, this check
returns <cite>False</cite>. If set to <cite>Ǹone</cite>, no filters are applied.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – The result of the check.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.issequenceofsubclass">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">issequenceofsubclass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.issequenceofsubclass" title="Link to this definition"></a></dt>
<dd><p>Checks if the given object <code class="docutils literal notranslate"><span class="pre">obj</span></code> is a sequence with items being
sub-classes of class T.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>instance</em><em> of </em><em>object</em>) – The object to check.</p></li>
<li><p><strong>T</strong> (<em>class</em>) – The base class of the items of the given object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given object is a sequence of instances which are
sub-classes of class <code class="docutils literal notranslate"><span class="pre">T</span></code>. <code class="docutils literal notranslate"><span class="pre">False</span></code> if <code class="docutils literal notranslate"><span class="pre">obj</span></code> is not a sequence or
any item is not a sub-class of class <code class="docutils literal notranslate"><span class="pre">T</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.isproperty">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">isproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.isproperty" title="Link to this definition"></a></dt>
<dd><p>Checks if the given attribute is of type property. The attribute must
exist in <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object</em>) – The Python object whose attribute to check for being a property.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the attribute.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if the given attribute is of type property, False otherwise.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>AttributeError</strong> – If the given attribute is not an attribute of the class of <code class="docutils literal notranslate"><span class="pre">obj</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.func_has_n_args">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">func_has_n_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.func_has_n_args" title="Link to this definition"></a></dt>
<dd><p>Checks if the given function <cite>func</cite> has <cite>n</cite> arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – The function to check.</p></li>
<li><p><strong>n</strong> (<em>int</em>) – The number of arguments the function must have.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if the given function has <cite>n</cite> arguments. False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.bool_cast">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">bool_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.bool_cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given value to a boolean value. If the cast is impossible, a
TypeError is raised with the given error message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.int_cast">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">int_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_None</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.int_cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given value to an integer value. If the cast is impossible, a
TypeError is raised with the given error message. If <cite>allow_None</cite> is set to
<cite>True</cite> the value <cite>v</cite> can also be <cite>None</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.float_cast">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">float_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_None</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.float_cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given value to a float. If the cast is impossible, a TypeError
is raised with the given error message. If <cite>allow_None</cite> is set to <cite>True</cite>
the value <cite>v</cite> can also be <cite>None</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>v</strong> (<em>to_float_castable object</em><em> | </em><em>sequence</em><em> of </em><em>to_float_castable objects</em>) – The object that should get casted to a float. This can also be a
sequence of objects that should get casted to floats.</p></li>
<li><p><strong>errmsg</strong> (<em>str</em>) – The error message in case the cast failed.</p></li>
<li><p><strong>allow_None</strong> (<em>bool</em>) – Flag if <code class="docutils literal notranslate"><span class="pre">None</span></code> is allowed as value for v. If yes, the casted result is
<code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><em>float | None | list of float and or None</em> – The float / <code class="docutils literal notranslate"><span class="pre">None</span></code> value casted from <code class="docutils literal notranslate"><span class="pre">v</span></code>. If a sequence of objects
was provided, a list of casted values is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.str_cast">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">str_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_None</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.str_cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given value to a str object.
If the cast is impossible, a TypeError is raised with the given error
message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.list_of_cast">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">list_of_cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.list_of_cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given value <cite>v</cite> to a list of items of type <cite>t</cite>.
If the cast is impossible, a TypeError is raised with the given error
message.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.get_smallest_numpy_int_type">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">get_smallest_numpy_int_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.get_smallest_numpy_int_type" title="Link to this definition"></a></dt>
<dd><p>Returns the smallest numpy integer type that can represent the given
integer values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>values</strong> (<em>int</em><em> | </em><em>sequence</em><em> of </em><em>int</em>) – The integer value(s) that need to be representable by the returned
integer type.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>inttype</strong> (<em>numpy integer type</em>) – The smallest numpy integer type that can represent the given values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.get_number_of_float_decimals">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">get_number_of_float_decimals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.get_number_of_float_decimals" title="Link to this definition"></a></dt>
<dd><p>Determines the number of significant decimals the given float number has.
The maximum number of supported decimals is 16.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – The float value whose number of significant decimals should get
determined.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>decimals</strong> (<em>int</em>) – The number of decimals of value which are non-zero.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If a nan value was provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.py.make_dict_hash">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">make_dict_hash</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.make_dict_hash" title="Link to this definition"></a></dt>
<dd><p>Creates a hash value for the given dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>d</strong> (<em>dict</em><em> | </em><em>None</em>) – The dictionary holding (name: value) pairs.
If set to None, an empty dictionary is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>hash</strong> (<em>int</em>) – The hash of the dictionary.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">ObjectCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a collection of objects of a specific type. Objects
can be added to the collection via the <code class="docutils literal notranslate"><span class="pre">add</span></code> method or can be removed
from the collection via the <code class="docutils literal notranslate"><span class="pre">pop</span></code> method. The objects of another object
collection can be added to this object collection via the <code class="docutils literal notranslate"><span class="pre">add</span></code> method as
well.</p>
<p>Constructor of the ObjectCollection class. Must be called by the
derived class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objs</strong> (<em>instance</em><em> of </em><em>obj_type</em><em> | </em><em>sequence</em><em> of </em><em>obj_type instances</em><em> | </em><em>None</em>) – The sequence of objects of type <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> with which this
collection should get initialized with.</p></li>
<li><p><strong>obj_type</strong> (<em>type</em><em> | </em><em>None</em>) – The type of the objects, which can be added to the collection.
If set to None, the type will be determined from the given objects.
If no objects are given, the object type will be <cite>object</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.obj_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">obj_type</span></span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.obj_type" title="Link to this definition"></a></dt>
<dd><p>(read-only) The object type.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.objects">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objects</span></span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.objects" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of objects of this object collection.
All objects are of the same type as specified through the <code class="docutils literal notranslate"><span class="pre">obj_type</span></code>
property.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__len__" title="Link to this definition"></a></dt>
<dd><p>Returns the number of objects being in this object collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__getitem__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__iter__">
<span class="sig-name descname"><span class="pre">__iter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__iter__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__add__">
<span class="sig-name descname"><span class="pre">__add__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__add__" title="Link to this definition"></a></dt>
<dd><p>Implementation to support the operation <code class="docutils literal notranslate"><span class="pre">oc</span> <span class="pre">=</span> <span class="pre">self</span> <span class="pre">+</span> <span class="pre">other</span></code>, where
<code class="docutils literal notranslate"><span class="pre">self</span></code> is this ObjectCollection object and <code class="docutils literal notranslate"><span class="pre">other</span></code> something useful
else. This creates a copy <code class="docutils literal notranslate"><span class="pre">oc</span></code> of <code class="docutils literal notranslate"><span class="pre">self</span></code> and adds <code class="docutils literal notranslate"><span class="pre">other</span></code>
to <code class="docutils literal notranslate"><span class="pre">oc</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>other</strong> (<em>obj_type</em><em> | </em><a class="reference internal" href="#skyllh.core.py.ObjectCollection" title="skyllh.core.py.ObjectCollection"><em>ObjectCollection</em></a><em> of </em><em>obj_type</em>)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>oc</strong> (<em>ObjectCollection</em>) – The new ObjectCollection object with object from self and other.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.copy" title="Link to this definition"></a></dt>
<dd><p>Creates a copy of this ObjectCollection. The objects of the
collection are not copied!</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.add" title="Link to this definition"></a></dt>
<dd><p>Adds the given object, sequence of objects, or object collection to
this object collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>obj_type instance</em><em> | </em><em>sequence</em><em> of </em><em>obj_type</em><em> |</em>) – ObjectCollection of obj_type
An instance of <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> that should be added to the collection.
If given an ObjectCollection for objects of type obj_type, it will
add all objects of the given collection to this collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>ObjectCollection</em>) – The instance of this ObjectCollection, in order to be able to chain
several <code class="docutils literal notranslate"><span class="pre">add</span></code> calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__iadd__">
<span class="sig-name descname"><span class="pre">__iadd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__iadd__" title="Link to this definition"></a></dt>
<dd><p>Adds the given object, sequence of objects, or object collection to
this object collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>obj_type instance</em><em> | </em><em>sequence</em><em> of </em><em>obj_type</em><em> |</em>) – ObjectCollection of obj_type
An instance of <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> that should be added to the collection.
If given an ObjectCollection for objects of type obj_type, it will
add all objects of the given collection to this collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>ObjectCollection</em>) – The instance of this ObjectCollection, in order to be able to chain
several <code class="docutils literal notranslate"><span class="pre">add</span></code> calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.index">
<span class="sig-name descname"><span class="pre">index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.index" title="Link to this definition"></a></dt>
<dd><p>Gets the index of the given object instance within this object
collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>obj_type instance</em>) – The instance of obj_type whose index should get retrieved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>idx</strong> (<em>int</em>) – The index of the object within this object collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.ObjectCollection.pop" title="Link to this definition"></a></dt>
<dd><p>Removes and returns the object at the given index (default last).
Raises IndexError if the collection is empty or index is out of range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em><em> | </em><em>None</em>) – The index of the object to remove. If set to None, the index of the
last object is used.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>obj</strong> (<em>obj_type</em>) – The removed object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">556</span></em><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.ObjectCollection.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_obj_type',</span> <span class="pre">'_objects')</span></em><a class="headerlink" href="#skyllh.core.py.ObjectCollection.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.py.</span></span><span class="sig-name descname"><span class="pre">NamedObjectCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.py.ObjectCollection" title="skyllh.core.py.ObjectCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectCollection</span></code></a></p>
<p>This class provides a collection of objects, which have a name. Access
via the object name is efficient because the index of each object is
tracked w.r.t. its name.</p>
<p>Creates a new NamedObjectCollection instance. Must be called by the
derived class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objs</strong> (<em>instance</em><em> of </em><em>obj_type</em><em> | </em><em>sequence</em><em> of </em><em>instances</em><em> of </em><em>obj_type</em><em> | </em><em>None</em>) – The sequence of objects of type <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> with which this
collection should get initialized with.</p></li>
<li><p><strong>obj_type</strong> (<em>type</em>) – The type of the objects, which can be added to the collection.
This type must have an attribute named <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name_list</span></span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of the names of all the objects of this
NamedObjectCollection instance.
The order of this list of names is preserved to the order objects were
added to this collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__contains__" title="Link to this definition"></a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if an object of the given name exists in this
NamedObjectCollection instance, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if an object of name <code class="docutils literal notranslate"><span class="pre">name</span></code> exists in this
NamedObjectCollection instance, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Returns an object based on its name or index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> (<em>str</em><em> | </em><em>int</em>) – The object identification. Either its name or its index position
within the object collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>obj</strong> (<em>instance of obj_type</em>) – The requested object.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given object is not found within this object collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.add" title="Link to this definition"></a></dt>
<dd><p>Adds the given object to this named object collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>obj_type instance</em><em> | </em><a class="reference internal" href="#skyllh.core.py.NamedObjectCollection" title="skyllh.core.py.NamedObjectCollection"><em>NamedObjectCollection</em></a><em> of </em><em>obj_type</em>) – An instance of <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> that should be added to this named
object collection.
If a NamedObjectCollection instance for objects of type <code class="docutils literal notranslate"><span class="pre">obj_type</span></code>
is given, all objects of that given collection will be added to this
named object collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>NamedObjectCollection</em>) – The instance of this NamedObjectCollection, in order to be able to
chain several <code class="docutils literal notranslate"><span class="pre">add</span></code> calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__iadd__">
<span class="sig-name descname"><span class="pre">__iadd__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__iadd__" title="Link to this definition"></a></dt>
<dd><p>Adds the given object to this named object collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>obj_type instance</em><em> | </em><a class="reference internal" href="#skyllh.core.py.NamedObjectCollection" title="skyllh.core.py.NamedObjectCollection"><em>NamedObjectCollection</em></a><em> of </em><em>obj_type</em>) – An instance of <code class="docutils literal notranslate"><span class="pre">obj_type</span></code> that should be added to this named
object collection.
If a NamedObjectCollection instance for objects of type <code class="docutils literal notranslate"><span class="pre">obj_type</span></code>
is given, all objects of that given collection will be added to this
named object collection.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>self</strong> (<em>NamedObjectCollection</em>) – The instance of this NamedObjectCollection, in order to be able to
chain several <code class="docutils literal notranslate"><span class="pre">add</span></code> calls.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.get_index_by_name">
<span class="sig-name descname"><span class="pre">get_index_by_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.get_index_by_name" title="Link to this definition"></a></dt>
<dd><p>Gets the index of the object with the given name within this named
object collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the object whose index should get retrieved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>idx</strong> (<em>int</em>) – The index of the object within this named object collection.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.pop" title="Link to this definition"></a></dt>
<dd><p>Removes and returns the object at the given index (default last).
Raises IndexError if the collection is empty or index is out of range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index</strong> (<em>int</em><em> | </em><em>str</em><em> | </em><em>None</em>) – The index of the object to remove. If set to None, the index of the
last object is used.
If a str instance is given, it specifies the name of the object.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>obj</strong> (<em>obj_type instance</em>) – The removed object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">737</span></em><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.py.NamedObjectCollection.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_obj_name_to_idx',)</span></em><a class="headerlink" href="#skyllh.core.py.NamedObjectCollection.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.random">
<span id="skyllh-core-random-module"></span><h2>skyllh.core.random module<a class="headerlink" href="#module-skyllh.core.random" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.random.</span></span><span class="sig-name descname"><span class="pre">RandomStateService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.random.RandomStateService" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The RandomStateService class provides a container for a
numpy.random.RandomState object, initialized with a given seed. This service
can then be passed to any function or method within skyllh that requires a
random number generator.</p>
<p>Creates a new random state service. The <code class="docutils literal notranslate"><span class="pre">random</span></code> property can then
be used to draw random numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seed</strong> (<em>int</em><em> | </em><em>None</em>) – The seed to use. If None, the random number generator will be seeded
randomly. See the numpy documentation for numpy.random.RandomState
what that means.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService.seed">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">seed</span></span><a class="headerlink" href="#skyllh.core.random.RandomStateService.seed" title="Link to this definition"></a></dt>
<dd><p>(read-only) The seed (int) of the random number generator.
None, if not set. To change the seed, use the <cite>reseed</cite> method.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService.random">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">random</span></span><a class="headerlink" href="#skyllh.core.random.RandomStateService.random" title="Link to this definition"></a></dt>
<dd><p>The numpy.random.RandomState object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService.reseed">
<span class="sig-name descname"><span class="pre">reseed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.random.RandomStateService.reseed" title="Link to this definition"></a></dt>
<dd><p>Reseeds the random number generator with the given seed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>seed</strong> (<em>int</em><em> | </em><em>None</em>) – The seed to use. If None, the random number generator will be seeded
randomly. See the numpy documentation for numpy.random.RandomState
what that means.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">11</span></em><a class="headerlink" href="#skyllh.core.random.RandomStateService.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.random.RandomStateService.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_random',</span> <span class="pre">'_seed',</span> <span class="pre">'random')</span></em><a class="headerlink" href="#skyllh.core.random.RandomStateService.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.random.</span></span><span class="sig-name descname"><span class="pre">RandomChoice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probabilities</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.random.RandomChoice" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides an efficient numpy.random.choice functionality
specialized for SkyLLH. The advantage is that it stores the cumulative
distribution function (CDF), which is assumed to be constant.</p>
<p>Creates a new instance of RandomChoice holding the probabilities
and their cumulative distribution function (CDF).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The (N,)-shaped numpy.ndarray holding the items from which to
choose.</p></li>
<li><p><strong>probabilities</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The (N,)-shaped numpy.ndarray holding the probability for each item.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice.items">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">items</span></span><a class="headerlink" href="#skyllh.core.random.RandomChoice.items" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (N,)-shaped numpy.ndarray holding the items from
which to choose.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice.probabilities">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">probabilities</span></span><a class="headerlink" href="#skyllh.core.random.RandomChoice.probabilities" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (N,)-shaped numpy.ndarray holding the probability
for each item.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">78</span></em><a class="headerlink" href="#skyllh.core.random.RandomChoice.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cdf',</span> <span class="pre">'_items',</span> <span class="pre">'_probabilities')</span></em><a class="headerlink" href="#skyllh.core.random.RandomChoice.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.random.RandomChoice.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.random.RandomChoice.__call__" title="Link to this definition"></a></dt>
<dd><p>Chooses <code class="docutils literal notranslate"><span class="pre">size</span></code> random items from <code class="docutils literal notranslate"><span class="pre">self.items</span></code> according to
<code class="docutils literal notranslate"><span class="pre">self.probabilities</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService from which random numbers are
drawn from.</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of items to draw.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>random_items</strong> (<em>instance of numpy.ndarray</em>) – The (size,)-shaped numpy.ndarray holding the randomly selected items
from <code class="docutils literal notranslate"><span class="pre">self.items</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.scrambling">
<span id="skyllh-core-scrambling-module"></span><h2>skyllh.core.scrambling module<a class="headerlink" href="#module-skyllh.core.scrambling" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScramblingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.scrambling.</span></span><span class="sig-name descname"><span class="pre">DataScramblingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.DataScramblingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for implementing a data scrambling method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScramblingMethod.scramble">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scramble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.DataScramblingMethod.scramble" title="Link to this definition"></a></dt>
<dd><p>The scramble method implements the actual scrambling of the given
data, which is method dependent. The scrambling must be performed
in-place, i.e. it alters the data inside the given data array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset for which the data should get scrambled.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The DataFieldRecordArray containing the to be scrambled data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The given DataFieldRecordArray holding the scrambled data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScramblingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">12</span></em><a class="headerlink" href="#skyllh.core.scrambling.DataScramblingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScramblingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.scrambling.DataScramblingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.scrambling.</span></span><span class="sig-name descname"><span class="pre">UniformRAScramblingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.scrambling.DataScramblingMethod" title="skyllh.core.scrambling.DataScramblingMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataScramblingMethod</span></code></a></p>
<p>The UniformRAScramblingMethod method performs right-ascention scrambling
uniformly within a given RA range. By default it’s (0, 2pi).</p>
<dl class="field-list simple">
<dt class="field-odd">Note:<span class="colon">:</span></dt>
<dd class="field-odd"><p>This alters only the <code class="docutils literal notranslate"><span class="pre">ra</span></code> values of the data!</p>
</dd>
</dl>
<p>Initializes a new RAScramblingMethod instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ra_range</strong> (<em>tuple</em><em> | </em><em>None</em>) – The two-element tuple holding the range in radians within the RA
values should get drawn from. If set to None, the default (0, 2pi)
will be used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod.ra_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ra_range</span></span><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod.ra_range" title="Link to this definition"></a></dt>
<dd><p>The two-element tuple holding the range within the RA values
should get drawn from.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod.scramble">
<span class="sig-name descname"><span class="pre">scramble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod.scramble" title="Link to this definition"></a></dt>
<dd><p>Scrambles the given data uniformly in right-ascention.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset for which the data should get scrambled.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The DataFieldRecordArray instance containing the to be scrambled
data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The given DataFieldRecordArray holding the scrambled data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">52</span></em><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.UniformRAScramblingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_ra_range',</span> <span class="pre">'ra_range')</span></em><a class="headerlink" href="#skyllh.core.scrambling.UniformRAScramblingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.scrambling.</span></span><span class="sig-name descname"><span class="pre">TimeScramblingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timegen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hor_to_equ_transform</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.scrambling.DataScramblingMethod" title="skyllh.core.scrambling.DataScramblingMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataScramblingMethod</span></code></a></p>
<p>The TimeScramblingMethod class provides a data scrambling method to
perform data coordinate scrambling based on a generated time. It draws a
random time from a time generator and transforms the horizontal (local)
coordinates into equatorial coordinates using a specified transformation
function.</p>
<p>Initializes a new time scramling method instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timegen</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.times.TimeGenerator" title="skyllh.core.times.TimeGenerator"><em>TimeGenerator</em></a>) – The time generator that should be used to generate random MJD times.</p></li>
<li><p><strong>hor_to_equ_transform</strong> (<em>callable</em>) – <p>The transformation function to transform coordinates from the
horizontal system into the equatorial system.</p>
<p>The call signature must be:</p>
<blockquote>
<div><p>__call__(azi, zen, mjd)</p>
</div></blockquote>
<p>The return signature must be: (ra, dec)</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.timegen">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">timegen</span></span><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.timegen" title="Link to this definition"></a></dt>
<dd><p>The TimeGenerator instance that should be used to generate random MJD
times.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">133</span></em><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_hor_to_equ_transform',</span> <span class="pre">'_timegen',</span> <span class="pre">'hor_to_equ_transform',</span> <span class="pre">'timegen')</span></em><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.hor_to_equ_transform">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">hor_to_equ_transform</span></span><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.hor_to_equ_transform" title="Link to this definition"></a></dt>
<dd><p>The transformation function to transform coordinates from the
horizontal system into the equatorial system.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.scrambling.TimeScramblingMethod.scramble">
<span class="sig-name descname"><span class="pre">scramble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.TimeScramblingMethod.scramble" title="Link to this definition"></a></dt>
<dd><p>Scrambles the given data based on random MJD times, which are
generated from a TimeGenerator instance. The event’s right-ascention and
declination coordinates are calculated via a horizontal-to-equatorial
coordinate transformation and the generated MJD time of the event.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset for which the data should get scrambled.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The DataFieldRecordArray instance containing the to be scrambled
data.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The given DataFieldRecordArray holding the scrambled data.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScrambler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.scrambling.</span></span><span class="sig-name descname"><span class="pre">DataScrambler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.DataScrambler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates a data scrambler instance with a given defined scrambling
method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.scrambling.DataScramblingMethod" title="skyllh.core.scrambling.DataScramblingMethod"><em>DataScramblingMethod</em></a>) – The instance of DataScramblingMethod that defines the method of
the data scrambling.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScrambler.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">235</span></em><a class="headerlink" href="#skyllh.core.scrambling.DataScrambler.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScrambler.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_method',</span> <span class="pre">'method')</span></em><a class="headerlink" href="#skyllh.core.scrambling.DataScrambler.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScrambler.method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#skyllh.core.scrambling.DataScrambler.method" title="Link to this definition"></a></dt>
<dd><p>The underlaying scrambling method that should be used to scramble
the data. This must be an instance of the DataScramblingMethod class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.scrambling.DataScrambler.scramble_data">
<span class="sig-name descname"><span class="pre">scramble_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.scrambling.DataScrambler.scramble_data" title="Link to this definition"></a></dt>
<dd><p>Scrambles the given data by calling the scramble method of the
scrambling method class, that was configured for the data scrambler.
If the <code class="docutils literal notranslate"><span class="pre">inplace_scrambling</span></code> property is set to False, a copy of the
data is created before the scrambling is performed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number generator
(RNG).</p></li>
<li><p><strong>dataset</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The instance of Dataset for which the data should get scrambled.</p></li>
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the data, which should
get scrambled.</p></li>
<li><p><strong>copy</strong> (<em>bool</em>) – Flag if a copy of the given data should be made before scrambling
the data. The default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The given DataFieldRecordArray instance with the scrambled data.
If the <code class="docutils literal notranslate"><span class="pre">inplace_scrambling</span></code> property is set to True, this output
array is the same array as the input array, otherwise it’s a new
array.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.services">
<span id="skyllh-core-services-module"></span><h2>skyllh.core.services module<a class="headerlink" href="#module-skyllh.core.services" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.services.</span></span><span class="sig-name descname"><span class="pre">DetSigYieldService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a service to build and hold detector signal yield
instances for multiple datasets and source hypothesis groups.</p>
<p>Creates a new DetSigYieldService instance.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of SourceHypoGroupManager providing the list
of source hypothesis groups.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.dataset_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_list</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.dataset_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of Dataset for which the detector signal yields
should be built.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.data_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_list</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.data_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of DatasetData for which the detector signal
yields should be built.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.arr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">arr</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.arr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (N_datasets, N_source_hypo_groups)-shaped numpy
ndarray of object holding the constructed DetSigYield instances.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets this service was created for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.n_shgs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_shgs</span></span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.n_shgs" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of source hypothesis groups this service was
created for.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the instance of SourceHypoGroupManager of this service. This
will also rebuild the detector signal yields.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.get_builder_to_shgidxs_dict">
<span class="sig-name descname"><span class="pre">get_builder_to_shgidxs_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ds_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.get_builder_to_shgidxs_dict" title="Link to this definition"></a></dt>
<dd><p>Creates a dictionary with the builder instance as key and the list of
source hypo group indices to which the builder applies as value.
Hence, SHGs using the same builder instance can be grouped for
DetSigYield construction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ds_idx</strong> (<em>int</em>) – The index of the dataset for which the same builders apply.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>builder_shgidxs_dict</strong> (<em>dict</em>) – The dictionary with the builder instance as key and the list of
source hypo group indices to which the builder applies as value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.construct_detsigyield_array">
<span class="sig-name descname"><span class="pre">construct_detsigyield_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ppbar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.construct_detsigyield_array" title="Link to this definition"></a></dt>
<dd><p>Creates a (N_datasets, N_source_hypo_groups)-shaped numpy ndarray of
object holding the constructed DetSigYield instances.</p>
<p>If the same DetSigYieldBuilder class is used for all source hypotheses
of a particular dataset, the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">construct_detsigyields()</span></code>
method is called with different flux models to optimize the construction
of the detector signal yield functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ppbar</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.progressbar.ProgressBar" title="skyllh.core.progressbar.ProgressBar"><em>ProgressBar</em></a><em> | </em><em>None</em>) – The instance of ProgressBar of the optional parent progress bar.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>detsigyield_arr</strong> (<em>instance of numpy.ndarray</em>) – The (N_datasets, N_source_hypo_groups)-shaped numpy ndarray of
object holding the constructed DetSigYield instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">24</span></em><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.DetSigYieldService.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_arr',</span> <span class="pre">'_data_list',</span> <span class="pre">'_dataset_list',</span> <span class="pre">'_shg_mgr',</span> <span class="pre">'data_list',</span> <span class="pre">'dataset_list')</span></em><a class="headerlink" href="#skyllh.core.services.DetSigYieldService.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.services.</span></span><span class="sig-name descname"><span class="pre">SrcDetSigYieldWeightsService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detsigyield_service</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a service for the source detector signal yield
weights, which are the product of the source weights with the detector
signal yield, denoted with <span class="math notranslate nohighlight">\(a_{j,k}(\vec{p}_{\mathrm{s}_k})\)</span> in the
math formalism documentation.</p>
<div class="math notranslate nohighlight">
\[a_{j,k}(\vec{p}_{\mathrm{s}_k}) = W_k
    \mathcal{Y}_{\mathrm{s}_{j,k}}(\vec{p}_{\mathrm{s}_k})\]</div>
<p>The service has a method to calculate the weights and a method to retrieve
the weights. The weights are stored internally.</p>
<p>Creates a new SrcDetSigYieldWeightsService instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>detsigyield_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.DetSigYieldService" title="skyllh.core.services.DetSigYieldService"><em>DetSigYieldService</em></a>) – The instance of DetSigYieldService providing the
(N_datasets, N_source_hypo_groups)-shaped array of DetSigYield
instances, one instance for each combination of dataset and source
hypothesis group.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.create_src_recarray_list_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_src_recarray_list_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">detsigyield_service</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.create_src_recarray_list_list" title="Link to this definition"></a></dt>
<dd><p>Creates a list of numpy record ndarrays, one for each source
hypothesis group suited for evaluating the detector signal yield
instance of that source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>detsigyield_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.DetSigYieldService" title="skyllh.core.services.DetSigYieldService"><em>DetSigYieldService</em></a>) – The instance of DetSigYieldService providing the
(N_datasets, N_source_hypo_groups)-shaped 2D ndarray of
DetSigYield instances, one for each dataset and source hypothesis
group combination.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_recarray_list_list</strong> (<em>list of list of numpy record ndarrays</em>) – The (N_datasets,N_source_hypo_groups)-shaped list of list of the
source numpy record ndarrays, one for each dataset and source
hypothesis group combination, which is needed for
evaluating a particular detector signal yield instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.create_src_weight_array_list">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_src_weight_array_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.create_src_weight_array_list" title="Link to this definition"></a></dt>
<dd><p>Creates a list of numpy 1D ndarrays holding the source weights, one
for each source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager defining the source
hypothesis groups with their sources.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_weight_array_list</strong> (<em>list of numpy 1D ndarrays</em>) – The list of 1D numpy ndarrays holding the source weights, one for
each source hypothesis group.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of SourceHypoGroupManager defining the
source hypothesis groups.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.detsigyield_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detsigyield_service</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.detsigyield_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DetSigYieldService providing the
(N_datasets, N_source_hypo_groups)-shaped array of DetSigYield
instances.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.detsigyield_arr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detsigyield_arr</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.detsigyield_arr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (N_datasets, N_source_hypo_groups)-shaped 2D numpy
ndarray holding the DetSigYield instances for each source hypothesis
group.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets this service was created for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.n_shgs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_shgs</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.n_shgs" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of source hypothesis groups this service was
created for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.src_recarray_list_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_recarray_list_list</span></span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.src_recarray_list_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The (N_datasets,N_source_hypo_groups)-shaped list of list
of the source numpy record ndarrays, one for each dataset and source
hypothesis group combination, which is needed for evaluating a
particular detector signal yield instance.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Re-creates the internal source numpy record arrays needed for the
detector signal yield calculation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The new SourceHypoGroupManager instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.calculate">
<span class="sig-name descname"><span class="pre">calculate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_params_recarray</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.calculate" title="Link to this definition"></a></dt>
<dd><p>Calculates the source detector signal yield weights for each source
and their derivative w.r.t. each global floating parameter. The result
is stored internally as:</p>
<blockquote>
<div><dl class="simple">
<dt>a_jk<span class="classifier">instance of ndarray</span></dt><dd><p>The (N_datasets,N_sources)-shaped numpy ndarray holding the
source detector signal yield weight for each combination of
dataset and source.</p>
</dd>
<dt>a_jk_grads<span class="classifier">dict</span></dt><dd><p>The dictionary holding the (N_datasets,N_sources)-shaped numpy
ndarray with the derivatives w.r.t. the global fit parameter
the SrcDetSigYieldWeightsService depend on. The dictionary’s key
is the index of the global fit parameter.</p>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_params_recarray</strong> (<em>instance</em><em> of </em><em>numpy record ndarray</em>) – The numpy record ndarray of length N_sources holding the local
source parameters. See the documentation of
<a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray" title="skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray"><code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.parameters.ParameterModelMapper.create_src_params_recarray()</span></code></a>
for more information about this record array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.get_weights">
<span class="sig-name descname"><span class="pre">get_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.get_weights" title="Link to this definition"></a></dt>
<dd><p>Returns the source detector signal yield weights and their
derivatives w.r.t. the global fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>a_jk</strong> (<em>instance of ndarray</em>) – The (N_datasets, N_sources)-shaped numpy ndarray holding the
source detector signal yield weight for each combination of
dataset and source.</p></li>
<li><p><strong>a_jk_grads</strong> (<em>dict</em>) – The dictionary holding the (N_datasets, N_sources)-shaped numpy
ndarray with the derivatives w.r.t. the global fit parameter
the SrcDetSigYieldWeightsService depend on. The dictionary’s key
is the index of the global fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">267</span></em><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.SrcDetSigYieldWeightsService.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_a_jk',</span> <span class="pre">'_a_jk_grads',</span> <span class="pre">'_detsigyield_service',</span> <span class="pre">'_src_recarray_list_list',</span> <span class="pre">'_src_weight_array_list',</span> <span class="pre">'detsigyield_service')</span></em><a class="headerlink" href="#skyllh.core.services.SrcDetSigYieldWeightsService.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.services.</span></span><span class="sig-name descname"><span class="pre">DatasetSignalWeightFactorsService</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a service to calculates the dataset signal weight
factors, <span class="math notranslate nohighlight">\(f_j(\vec{p}_\mathrm{s})\)</span>, for each dataset.
It utilizes the source detector signal yield weights
<span class="math notranslate nohighlight">\(a_{j,k}(\vec{p}_{\mathrm{s}_k})\)</span>, provided by the
<a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><code class="xref py py-class docutils literal notranslate"><span class="pre">SrcDetSigYieldWeightsService</span></code></a> class.</p>
<p>Creates a new DatasetSignalWeightFactors instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a>) – The instance of SrcDetSigYieldWeightsService providing the source
detector signal yield weights
<span class="math notranslate nohighlight">\(a_{j,k}(\vec{p}_{\mathrm{s}_k})\)</span>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">542</span></em><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_f_j',</span> <span class="pre">'_f_j_grads',</span> <span class="pre">'_src_detsigyield_weights_service',</span> <span class="pre">'src_detsigyield_weights_service')</span></em><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.src_detsigyield_weights_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_detsigyield_weights_service</span></span><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.src_detsigyield_weights_service" title="Link to this definition"></a></dt>
<dd><p>The instance of SrcDetSigYieldWeightsService providing the source
detector signal yield weights <span class="math notranslate nohighlight">\(a_{j,k}(\vec{p}_{\mathrm{s}_k})\)</span>.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.calculate">
<span class="sig-name descname"><span class="pre">calculate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.calculate" title="Link to this definition"></a></dt>
<dd><p>Calculates the dataset signal weight factors,
<span class="math notranslate nohighlight">\(f_j(\vec{p}_\mathrm{s})\)</span>. The result is stored internally as:</p>
<blockquote>
<div><dl class="simple">
<dt>f_j<span class="classifier">instance of ndarray</span></dt><dd><p>The (N_datasets,)-shaped 1D numpy ndarray holding the dataset
signal weight factor for each dataset.</p>
</dd>
<dt>f_j_grads<span class="classifier">dict</span></dt><dd><p>The dictionary holding the (N_datasets,)-shaped numpy
ndarray with the derivatives w.r.t. the global fit parameter
the DatasetSignalWeightFactorsService depend on.
The dictionary’s key is the index of the global fit parameter.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.services.DatasetSignalWeightFactorsService.get_weights">
<span class="sig-name descname"><span class="pre">get_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.services.DatasetSignalWeightFactorsService.get_weights" title="Link to this definition"></a></dt>
<dd><p>Returns the</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>f_j</strong> (<em>instance of ndarray</em>) – The (N_datasets,)-shaped 1D numpy ndarray holding the dataset
signal weight factor for each dataset.</p></li>
<li><p><strong>f_j_grads</strong> (<em>dict</em>) – The dictionary holding the (N_datasets,)-shaped numpy
ndarray with the derivatives w.r.t. the global fit parameter
the DatasetSignalWeightFactorsService depend on.
The dictionary’s key is the index of the global fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.session">
<span id="skyllh-core-session-module"></span><h2>skyllh.core.session module<a class="headerlink" href="#module-skyllh.core.session" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.session.enable_interactive_session">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.session.</span></span><span class="sig-name descname"><span class="pre">enable_interactive_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.session.enable_interactive_session" title="Link to this definition"></a></dt>
<dd><p>Enables interactive session mode.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.session.disable_interactive_session">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.session.</span></span><span class="sig-name descname"><span class="pre">disable_interactive_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.session.disable_interactive_session" title="Link to this definition"></a></dt>
<dd><p>Disables interactive session mode.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.session.is_interactive_session">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.session.</span></span><span class="sig-name descname"><span class="pre">is_interactive_session</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.session.is_interactive_session" title="Link to this definition"></a></dt>
<dd><p>Checks whether the current session is interactive (True) or not (False).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check</strong> (<em>bool</em>) – True if the current SkyLLH session is interactive, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.session.is_python_interpreter_in_interactive_mode">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.session.</span></span><span class="sig-name descname"><span class="pre">is_python_interpreter_in_interactive_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.session.is_python_interpreter_in_interactive_mode" title="Link to this definition"></a></dt>
<dd><p>Checks if the Python interpreter is in interactive mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>check</strong> (<em>bool</em>) – True if the Python interpreter is in interactive mode, False otherwise.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.signal_generation">
<span id="skyllh-core-signal-generation-module"></span><h2>skyllh.core.signal_generation module<a class="headerlink" href="#module-skyllh.core.signal_generation" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signal_generation.</span></span><span class="sig-name descname"><span class="pre">SignalGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">energy_range</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a base class for a source and detector specific signal generation
method, that calculates the source flux for a given monte-carlo event, which
is needed to calculate the MC event weights for the signal generator.</p>
<p>Constructs a new signal generation method instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>energy_range</strong> (<em>2-element tuple</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The energy range from which to take MC events into account for
signal event generation.
If set to None, the entire energy range [0, +inf] is used.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod.energy_range">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">energy_range</span></span><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod.energy_range" title="Link to this definition"></a></dt>
<dd><p>The 2-element tuple of floats holding the energy range from which to
take MC events into account for signal event generation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">11</span></em><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_energy_range',</span> <span class="pre">'energy_range')</span></em><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod.calc_source_signal_mc_event_flux">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">calc_source_signal_mc_event_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod.calc_source_signal_mc_event_flux" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to calculate the signal flux of each given
MC event for each source hypothesis of the given source hypothesis
group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>numpy record ndarray</em>) – The numpy record array holding all the MC events.</p></li>
<li><p><strong>shg</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup" title="skyllh.core.source_hypo_grouping.SourceHypoGroup"><em>SourceHypoGroup</em></a>) – The source hypothesis group instance, which defines the list of
sources, and their flux model.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ev_idx_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the index
of the MC event.</p></li>
<li><p><strong>shg_src_idx_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the index
of the source within the given source hypothesis group for each
signal candidate event.</p></li>
<li><p><strong>flux_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the flux
value of each signal candidate event.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generation.SignalGenerationMethod.signal_event_post_sampling_processing">
<span class="sig-name descname"><span class="pre">signal_event_post_sampling_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events_meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generation.SignalGenerationMethod.signal_event_post_sampling_processing" title="Link to this definition"></a></dt>
<dd><p>This method should be reimplemented by the derived class if there
is some processing needed after the MC signal events have been sampled
from the global MC data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group instance holding the sources and their
locations.</p></li>
<li><p><strong>shg_sig_events_meta</strong> (<em>numpy record ndarray</em>) – <p>The numpy record ndarray holding meta information about the
generated signal events for the given source hypothesis group.
The length of this array must be the same as shg_sig_events.
It needs to contain the following data fields:</p>
<blockquote>
<div><dl class="simple">
<dt>shg_src_idx<span class="classifier">int</span></dt><dd><p>The source index within the source hypothesis group.</p>
</dd>
</dl>
</div></blockquote>
</p></li>
<li><p><strong>shg_sig_events</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray holding the generated signal events for
the given source hypothesis group and in the format of the original
MC events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>shg_sig_events</strong> (<em>numpy record array</em>) – The processed signal events. In the default implementation of this
method this is just the shg_sig_events input array.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.signal_generator">
<span id="skyllh-core-signal-generator-module"></span><h2>skyllh.core.signal_generator module<a class="headerlink" href="#module-skyllh.core.signal_generator" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signal_generator.</span></span><span class="sig-name descname"><span class="pre">SignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for all signal generator classes in
SkyLLH. It defines the interface for a signal generator.</p>
<p>Constructs a new signal generator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The SourceHypoGroupManager instance defining the source hypothesis
groups.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>The SourceHypoGroupManager instance defining the source hypothesis
groups.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.create_src_params_recarray">
<span class="sig-name descname"><span class="pre">create_src_params_recarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.create_src_params_recarray" title="Link to this definition"></a></dt>
<dd><p>Creates the src_params_recarray structured ndarray of length
N_sources holding the local source parameter names and values needed for
the calculation of the detector signal yields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a>) – The instance of SrcDetSigYieldWeightsService providing the product
of the source weights with the detector signal yield.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_params_recarray</strong> (<em>instance of numpy structured ndarray</em>) – The structured numpy ndarray of length N_sources, holding the local
parameter names and values of each source needed to calculate the
detector signal yield.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypothesis group manager. Derived classes can
reimplement this method but this method of the base class must still be
called by the derived class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.generate_signal_events">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>This abstract method must be implemented by the derived class to
generate a given number of signal events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>int</em><em> | </em><em>float</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> specifies the actual number
of generated signal events.</p></li>
<li><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a><em> | </em><em>None</em>) – The instance of SrcDetSigYieldWeightsService providing the weighting
of the sources within the detector. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if this
signal generator does not need this information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">43</span></em><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.SignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_shg_mgr',</span> <span class="pre">'shg_mgr')</span></em><a class="headerlink" href="#skyllh.core.signal_generator.SignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signal_generator.</span></span><span class="sig-name descname"><span class="pre">MultiDatasetSignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds_sig_weight_factors_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SignalGenerator</span></code></a></p>
<p>This is a signal generator class handling multiple datasets by using the
individual signal generator instances for each dataset. This is the most
general way to support multiple datasets of different formats and signal
generation.</p>
<p>Constructs a new signal generator handling multiple datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
source hypothesis groups, i.e. the list of sources.</p></li>
<li><p><strong>dataset_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The list of instance of Dataset for which signal events should get
generated.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The list of instance of DatasetData holding the actual data of each
dataset. The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
<li><p><strong>sig_generator_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generator.SignalGenerator" title="skyllh.core.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em> | </em><em>None</em>) – The optional list of instance of SignalGenerator holding
signal generator instances for each individual dataset. This can be
<code class="docutils literal notranslate"><span class="pre">None</span></code> if this signal generator does not require individual signal
generators for each dataset.</p></li>
<li><p><strong>ds_sig_weight_factors_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.services.DatasetSignalWeightFactorsService" title="skyllh.core.services.DatasetSignalWeightFactorsService"><em>DatasetSignalWeightFactorsService</em></a>) – The instance of DatasetSignalWeightFactorsService providing the
dataset signal weight factor service for calculating the dataset
signal weights.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.dataset_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_list</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.dataset_list" title="Link to this definition"></a></dt>
<dd><p>The list of Dataset instances for which signal events should get
generated for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.data_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_list</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.data_list" title="Link to this definition"></a></dt>
<dd><p>The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of the <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>
property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.sig_generator_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_generator_list</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.sig_generator_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of SignalGenerator holding signal generator
instances for each individual dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.ds_sig_weight_factors_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ds_sig_weight_factors_service</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.ds_sig_weight_factors_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetSignalWeightFactorsService providing the
dataset signal weight factor service for calculating the dataset
signal weights.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypothesis group manager. This will recreate the
src_params_recarray needed for calculating the detector signal yields.
Also it calls the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code> methods of the signal generators of
the individual datasets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">191</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_data_list',</span> <span class="pre">'_dataset_list',</span> <span class="pre">'_ds_sig_weight_factors_service',</span> <span class="pre">'_sig_generator_list',</span> <span class="pre">'_src_params_recarray',</span> <span class="pre">'data_list',</span> <span class="pre">'dataset_list',</span> <span class="pre">'ds_sig_weight_factors_service',</span> <span class="pre">'sig_generator_list')</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MultiDatasetSignalGenerator.generate_signal_events">
<span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>Generates a given number of signal events distributed across the
individual datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>int</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> must be an integer and
specifies the actual number of generated signal events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of actual generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signal_generator.</span></span><span class="sig-name descname"><span class="pre">MCMultiDatasetSignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_event_field_ranges_dict_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.signal_generator.MultiDatasetSignalGenerator" title="skyllh.core.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a></p>
<p>This is a signal generator class, which handles multiple datasets with
monte-carlo (MC). It uses the MC events of all datasets to determine the
possible signal events for a source.
It does not depend on the detector or source hypothesis, because these
dependencies are factored out into the signal generation method.
In fact the construction within this class depends on the construction of
the signal generation method.</p>
<p>Constructs a new signal generator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The SourceHypoGroupManager instance defining the source hypothesis
groups.</p></li>
<li><p><strong>dataset_list</strong> (<em>list</em><em> of </em><em>Dataset instances</em>) – The list of Dataset instances for which signal events should get
generated for.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>DatasetData instances</em>) – The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
<li><p><strong>valid_event_field_ranges_dict_list</strong> (<em>list</em><em> of </em><em>dict</em><em> | </em><em>None</em>) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it specifies for each dataset event fields (key)
and their valid value range as a 2-element tuple (value). If a
generated signal event does not fall into a given field range, the
signal event will be discarded and a new signal event will be drawn.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">442</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_sig_candidates',</span> <span class="pre">'_sig_candidates_random_choice',</span> <span class="pre">'_sig_candidates_weight_sum',</span> <span class="pre">'_valid_event_field_ranges_dict_list',</span> <span class="pre">'valid_event_field_ranges_dict_list')</span></em><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.valid_event_field_ranges_dict_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valid_event_field_ranges_dict_list</span></span><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.valid_event_field_ranges_dict_list" title="Link to this definition"></a></dt>
<dd><p>The list of dictionary holding the event data fields (key) and their
valid value range as 2-element tuple (value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Recreates the signal candidates with the changed source hypothesis
group manager.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.mu2flux">
<span class="sig-name descname"><span class="pre">mu2flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.mu2flux" title="Link to this definition"></a></dt>
<dd><p>Translate the mean number of signal events <cite>mu</cite> into the
corresponding flux. The unit of the returned flux is the internally used
flux unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mu</strong> (<em>float</em>) – The mean number of expected signal events for which to get the flux.</p></li>
<li><p><strong>per_source</strong> (<em>bool</em>) – Flag if the flux should be returned for each source individually
(True), or as the sum of all these fluxes (False). The default is
False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mu_flux</strong> (<em>float | (n_sources,)-shaped numpy ndarray</em>) – The total flux for all sources (if <cite>per_source = False</cite>) that would
correspond to the given mean number of detected signal events <cite>mu</cite>.
If <cite>per_source</cite> is set to True, a numpy ndarray is returned that
contains the flux for each individual source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.generate_signal_events">
<span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signal_generator.MCMultiDatasetSignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>Generates a given number of signal events from the signal candidate
monte-carlo events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>int</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> must be an integer and
specifies the actual number of generated signal events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of actual generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.signalpdf">
<span id="skyllh-core-signalpdf-module"></span><h2>skyllh.core.signalpdf module<a class="headerlink" href="#module-skyllh.core.signalpdf" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">signalpdf</span></code> module contains possible signal PDF models for the
likelihood function.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">GaussianPSFPointLikeSourceSignalSpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pd_event_data_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.SpatialPDF" title="skyllh.core.pdf.SpatialPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a></p>
<p>This spatial signal PDF model describes the spatial PDF for a point
source smeared with a 2D gaussian point-spread-function (PSF).
Mathematically, it’s the convolution of a point in the sky, i.e. the source
location, with the PSF. The result of this convolution has the gaussian form</p>
<div class="math notranslate nohighlight">
\[\frac{1}{2\pi\sigma^2} \exp(-\frac{r^2}{2\sigma^2}),\]</div>
<p>where <span class="math notranslate nohighlight">\(\sigma\)</span> is the spatial uncertainty of the event and <span class="math notranslate nohighlight">\(r\)</span>
the distance on the sphere between the source and the data event.</p>
<p>This PDF requires the <cite>src_array</cite> data field, that is numpy record ndarray
with the data fields <cite>ra</cite> and <cite>dec</cite> holding the right-ascension and
declination of the point-like sources, respectively.</p>
<p>Creates a new spatial signal PDF for point-like sources with a
gaussian point-spread-function (PSF).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_range</strong> (<em>2-element tuple</em><em> | </em><em>None</em>) – The range in right-ascension this spatial PDF is valid for.
If set to None, the range (0, 2pi) is used.</p></li>
<li><p><strong>dec_range</strong> (<em>2-element tuple</em><em> | </em><em>None</em>) – The range in declination this spatial PDF is valid for.
If set to None, the range (-pi/2, +pi/2) is used.</p></li>
<li><p><strong>pd_event_data_field_name</strong> (<em>str</em><em> | </em><em>None</em>) – The probability density values can be pre-calculated by the user.
This specifies the name of the event data field, where these values
are stored.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.pd_event_data_field_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pd_event_data_field_name</span></span><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.pd_event_data_field_name" title="Link to this definition"></a></dt>
<dd><p>The event data field name where pre-calculated probability density
values are stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.calculate_pd">
<span class="sig-name descname"><span class="pre">calculate_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.calculate_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the gaussian PSF probability density values for all events
and sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF values. The following data fields need to
be present:</p>
<dl>
<dt>src_array<span class="classifier">numpy record ndarray</span></dt><dd><p>The numpy record ndarray with the following data fields:</p>
<dl class="simple">
<dt>ra<span class="classifier">float</span></dt><dd><p>The right-ascension of the point-like source.</p>
</dd>
<dt>dec<span class="classifier">float</span></dt><dd><p>The declination of the point-like source.</p>
</dd>
</dl>
</dd>
<dt>ra<span class="classifier">float</span></dt><dd><p>The right-ascension in radian of the data event.</p>
</dd>
<dt>dec<span class="classifier">float</span></dt><dd><p>The declination in radian of the data event.</p>
</dd>
<dt>ang_err: float</dt><dd><p>The reconstruction uncertainty in radian of the data event.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
for each event. The length of this 1D array depends on the number
of sources and the events belonging to those sources. In the worst
case the length is N_sources * N_trial_events.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the spatial signal probability density of each event for
all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF values. The following data fields need to
be present:</p>
<dl>
<dt>src_array<span class="classifier">numpy record ndarray</span></dt><dd><p>The numpy record ndarray with the following data fields:</p>
<dl class="simple">
<dt>ra<span class="classifier">float</span></dt><dd><p>The right-ascension of the point-like source.</p>
</dd>
<dt>dec<span class="classifier">float</span></dt><dd><p>The declination of the point-like source.</p>
</dd>
</dl>
</dd>
<dt>ra<span class="classifier">float</span></dt><dd><p>The right-ascension in radian of the data event.</p>
</dd>
<dt>dec<span class="classifier">float</span></dt><dd><p>The declination in radian of the data event.</p>
</dd>
<dt>ang_err: float</dt><dd><p>The reconstruction uncertainty in radian of the data event.</p>
</dd>
</dl>
<p>In case the probability density values were pre-calculated,</p>
</p></li>
<li><p><strong>params_recarray</strong> (<em>None</em>) – Unused interface argument.</p></li>
<li><p><strong>tl</strong> (<em>TimeLord instance</em><em> | </em><em>None</em>) – The optional TimeLord instance to use for measuring timing
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
for each event. The length of this 1D array depends on the number
of sources and the events belonging to those sources. In the worst
case the length is N_sources * N_trial_events.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each fit parameter. By definition this PDF does not depend
on any fit parameters and hence, this dictionary is empty.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">42</span></em><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pd_event_data_field_name',</span> <span class="pre">'pd_event_data_field_name')</span></em><a class="headerlink" href="#skyllh.core.signalpdf.GaussianPSFPointLikeSourceSignalSpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">RayleighPSFPointSourceSignalSpatialPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.SpatialPDF" title="skyllh.core.pdf.SpatialPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpatialPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a></p>
<p>This spatial signal PDF model describes the spatial PDF for a point-like
source following a Rayleigh distribution in the opening angle between the
source and reconstructed muon direction.
Mathematically, it’s the convolution of a point in the sky, i.e. the source
location, with the PSF. The result of this convolution has the following
form</p>
<div class="math notranslate nohighlight">
\[1/(2\pi \sin\Psi) * \Psi/\sigma^2 \exp(-\Psi^2/(2\sigma^2)),\]</div>
<p>where <span class="math notranslate nohighlight">\(\sigma\)</span> is the spatial uncertainty of the event and
<span class="math notranslate nohighlight">\(\Psi\)</span> the distance on the sphere between the source and the data
event.</p>
<p>This PDF requires the <code class="docutils literal notranslate"><span class="pre">src_array</span></code> source data field, that is numpy
structured ndarray with the data fields <code class="docutils literal notranslate"><span class="pre">ra</span></code> and <code class="docutils literal notranslate"><span class="pre">dec</span></code> holding the
right-ascension and declination of the point-like sources, respectively.</p>
<p>Creates a new spatial signal PDF for point-like sources with a
Rayleigh point-spread-function (PSF).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_range</strong> (<em>2-element tuple</em><em> | </em><em>None</em>) – The range in right-ascension this spatial PDF is valid for.
If set to None, the range (0, 2pi) is used.</p></li>
<li><p><strong>dec_range</strong> (<em>2-element tuple</em><em> | </em><em>None</em>) – The range in declination this spatial PDF is valid for.
If set to None, the range (-pi/2, +pi/2) is used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>Pre-computes the probability density values once a new trial data is
available.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the spatial signal probability density of each event for
all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF values. The following data fields need to
be present:</p>
<dl class="simple">
<dt>psi<span class="classifier">float</span></dt><dd><p>The opening angle in radian between the source direction and the
reconstructed muon direction.</p>
</dd>
<dt>ang_err: float</dt><dd><p>The reconstruction uncertainty in radian of the data event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>params_recarray</strong> (<em>None</em>) – Unused interface argument.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>(N_values,)-shaped numpy ndarray</em>) – The (N_values,)-shaped 1D numpy ndarray holding the probability
density value for each event and source in unit 1/rad.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each global fit parameter. By definition this PDF does not
depend on any global fit parameters and hence, this dictionary is
empty.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">233</span></em><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pd',)</span></em><a class="headerlink" href="#skyllh.core.signalpdf.RayleighPSFPointSourceSignalSpatialPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">SignalTimePDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_flux_profile</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.TimePDF" title="skyllh.core.pdf.TimePDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimePDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a></p>
<p>This class provides a signal time PDF class. It consists of
a <a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">Livetime</span></code></a> instance and a
<a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeFluxProfile</span></code></a> instance. Together they
construct the actual signal time PDF, which has detector down-time taking
into account.</p>
<p>Creates a new signal time PDF instance for a given time flux profile
and detector live time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>livetime</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – An instance of Livetime, which provides the detector live-time
information.</p></li>
<li><p><strong>time_flux_profile</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.TimeFluxProfile" title="skyllh.core.flux_model.TimeFluxProfile"><em>TimeFluxProfile</em></a>) – <p>The signal’s time flux profile.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This instance of TimeFluxProfile will be altered by this PDF
class when calculating the probability density values!</p>
</div>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called when a new trial is initialized. Derived
classes can use this call hook to pre-compute time-expensive data, which
do not depend on any fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial data.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to measure timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the signal time probability density of each event for the
given set of time parameter values for each source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – <p>The instance of TrialDataManager holding the trial event data for
which to calculate the PDF value. The following data fields must
exist:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code><span class="classifier">float</span></dt><dd><p>The time of the event.</p>
</dd>
</dl>
</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>numpy structured ndarray</em>) – The numpy structured ndarray holding the local parameter values for
each source.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used to measure
timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped 1D numpy ndarray holding the probability
density value for each trial event and source.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the gradients of the probability density
w.r.t. each global fit parameter.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">355</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalTimePDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_S',</span> <span class="pre">'_pd')</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalTimePDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDF">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">SignalMultiDimGridPDF</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDF" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.MultiDimGridPDF" title="skyllh.core.pdf.MultiDimGridPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDimGridPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a></p>
<p>This class provides a multi-dimensional signal PDF. The PDF is created
from pre-calculated PDF data on a grid. The grid data is interpolated using
a <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.RegularGridInterpolator.html#scipy.interpolate.RegularGridInterpolator" title="(in SciPy v1.16.2)"><code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.RegularGridInterpolator</span></code></a> instance.</p>
<p>Creates a new PDF instance for a multi-dimensional PDF given
as PDF values on a grid or as PDF values stored in a photospline table.</p>
<p>See the documentation of the
<code class="xref py py-meth docutils literal notranslate"><span class="pre">skyllh.core.pdf.MultiDimGridPDF.__init__()</span></code> method for the
documentation of possible arguments.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDF.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDF.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDF.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">542</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDF.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDF.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDF.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">SignalMultiDimGridPDFSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_grid_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridparams_pdfs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpol_method_cls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_same_photospline_bfi_for_all_pdfs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.PDFSet" title="skyllh.core.pdf.PDFSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFSet</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This class provides a set of MultiDimGridPDF instances that implements
also the PDF interface.</p>
<p>Creates a new MultiDimGridPDFSet instance, which holds a set of
MultiDimGridPDF instances, one for each point of a parameter grid set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper that defines the mapping of
the global parameters to local model parameters.</p></li>
<li><p><strong>param_set</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>sequence</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.Parameter" title="skyllh.core.parameters.Parameter"><em>Parameter</em></a><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterSet" title="skyllh.core.parameters.ParameterSet"><em>ParameterSet</em></a>) – The set of parameters defining the parameters of this PDF.</p></li>
<li><p><strong>param_grid_set</strong> (<em>ParameterGrid instance</em><em> | </em><em>ParameterGridSet instance</em>) – The set of ParameterGrid instances, which define the grid values of
the model parameters, the given MultiDimGridPDF instances belong to.</p></li>
<li><p><strong>gridparams_pdfs</strong> (<em>sequence</em><em> of </em><em>(</em><em>dict</em><em>, </em><a class="reference internal" href="#skyllh.core.pdf.MultiDimGridPDF" title="skyllh.core.pdf.MultiDimGridPDF"><em>MultiDimGridPDF</em></a><em>) </em><em>tuples</em>) – The sequence of 2-element tuples which define the mapping of grid
values to PDF instances.</p></li>
<li><p><strong>interpol_method_cls</strong> (<em>subclass</em><em> of </em><a class="reference internal" href="#skyllh.core.interpolate.GridManifoldInterpolationMethod" title="skyllh.core.interpolate.GridManifoldInterpolationMethod"><em>GridManifoldInterpolationMethod</em></a>) – The class specifying the interpolation method. This must be a
subclass of <code class="docutils literal notranslate"><span class="pre">GridManifoldInterpolationMethod</span></code>.
If set to None, the default grid manifold interpolation method
<code class="docutils literal notranslate"><span class="pre">Linear1DGridManifoldInterpolationMethod</span></code> will be used.</p></li>
<li><p><strong>use_same_photospline_bfi_for_all_pdfs</strong> (<em>bool</em>) – Flag if the same basis function indices (bfi) should be used for
all PDFs when photospline tables are used. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.
This should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if all photospline tables share the
same binning. In that case the PDF evaluation will be accelerated.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.interpol_method_cls">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">interpol_method_cls</span></span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.interpol_method_cls" title="Link to this definition"></a></dt>
<dd><p>The class derived from GridManifoldInterpolationMethod
implementing the interpolation of the PDF grid manifold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.assert_is_valid_for_trial_data">
<span class="sig-name descname"><span class="pre">assert_is_valid_for_trial_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.assert_is_valid_for_trial_data" title="Link to this definition"></a></dt>
<dd><p>Checks if the PDFs of this PDFSet instance are valid for all the
given trial data events.
Since all PDFs should have the same axes, only the first PDF will be
checked.</p>
<p>This method calls the
<a class="reference internal" href="#skyllh.core.pdf.PDFSet.assert_is_valid_for_trial_data" title="skyllh.core.pdf.PDFSet.assert_is_valid_for_trial_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">assert_is_valid_for_trial_data()</span></code></a> method of
the <a class="reference internal" href="#skyllh.core.pdf.PDFSet" title="skyllh.core.pdf.PDFSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFSet</span></code></a> class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If some of the data is outside the axes range of the PDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called whenever a new trial data is initialized. It
calls the <a class="reference internal" href="#skyllh.core.pdf.PDFSet.initialize_for_new_trial" title="skyllh.core.pdf.PDFSet.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a>
method. Furthermore, it creates the two-dimensional (V,N_events)-shaped
ndarray holding the event data and stores it to
<code class="docutils literal notranslate"><span class="pre">self._cache_eventdata</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the probability density for each event, given the given
parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that will be used to get the data
from the trial events.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>structured ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray holding the parameter name and values for
each source model.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
value for each source and event.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the PDF gradient value for each event w.r.t.
each global fit parameter.
The key of the dictionary is the ID of the global fit parameter.
The value is the (N_values,)-shaped numpy ndarray holding the
gradient value for each event.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">566</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_eventdata',</span> <span class="pre">'_interpol_method',</span> <span class="pre">'_interpol_method_cls',</span> <span class="pre">'_interpol_param_names',</span> <span class="pre">'interpol_method_cls',</span> <span class="pre">'use_same_photospline_bfi_for_all_pdfs',</span> <span class="pre">'uses_photospline_SplineTable')</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalMultiDimGridPDFSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.signalpdf.</span></span><span class="sig-name descname"><span class="pre">SignalSHGMappedMultiDimGridPDFSet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shgidxs_pdf_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_same_photospline_bfi_for_all_pdfs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.pdf.IsSignalPDF" title="skyllh.core.pdf.IsSignalPDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsSignalPDF</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.PDFSet" title="skyllh.core.pdf.PDFSet"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDFSet</span></code></a>, <a class="reference internal" href="#skyllh.core.pdf.PDF" title="skyllh.core.pdf.PDF"><code class="xref py py-class docutils literal notranslate"><span class="pre">PDF</span></code></a></p>
<p>This class provides a set of MultiDimGridPDF instances, one for one or
more source hypothesis groups.</p>
<p>Creates a new SignalSHGMappedMultiDimGridPDFSet instance, which holds
a set of MultiDimGridPDF instances, one for one or more source
hypothesis groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the source
hypothesis groups and their sources.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper which defines the mapping of
global parameters to local source parameters.</p></li>
<li><p><strong>shgidxs_pdf_list</strong> (<em>sequence</em><em> of </em><em>(</em><em>shg_idxs</em><em>, </em><a class="reference internal" href="#skyllh.core.pdf.MultiDimGridPDF" title="skyllh.core.pdf.MultiDimGridPDF"><em>MultiDimGridPDF</em></a><em>) </em><em>tuples</em>) – The sequence of 2-element tuples which define the mapping of the
source hypothesis groups to a PDF instance.</p></li>
<li><p><strong>use_same_photospline_bfi_for_all_pdfs</strong> (<em>bool</em>) – Flag if the same basis function indices (bfi) should be used for
all PDFs when photospline tables are used. Default is <code class="docutils literal notranslate"><span class="pre">False</span></code>.
This should be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if all photospline tables share the
same binning. In that case the PDF evaluation will be accelerated.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">938</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_cache_eventdata',</span> <span class="pre">'_shg_mgr',</span> <span class="pre">'_shgidxs_list',</span> <span class="pre">'use_same_photospline_bfi_for_all_pdfs',</span> <span class="pre">'uses_photospline_SplineTable')</span></em><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>(read-only) The instance of SourceHypoGroupManager that defines the
source hypothesis groups and their sources.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.initialize_for_new_trial">
<span class="sig-name descname"><span class="pre">initialize_for_new_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.initialize_for_new_trial" title="Link to this definition"></a></dt>
<dd><p>This method is called whenever a new trial data is initialized. It
calls the <a class="reference internal" href="#skyllh.core.pdf.PDFSet.initialize_for_new_trial" title="skyllh.core.pdf.PDFSet.initialize_for_new_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_for_new_trial()</span></code></a>
method. Furthermore, it creates the two-dimensional (V,N_events)-shaped
ndarray holding the event data and stores it to
<code class="docutils literal notranslate"><span class="pre">self._cache_eventdata</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager holding the new trial data events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord for measuring timing information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.get_pd">
<span class="sig-name descname"><span class="pre">get_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tdm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params_recarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.signalpdf.SignalSHGMappedMultiDimGridPDFSet.get_pd" title="Link to this definition"></a></dt>
<dd><p>Calculates the probability density for each event, given the given
parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tdm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager" title="skyllh.core.trialdata.TrialDataManager"><em>TrialDataManager</em></a>) – The instance of TrialDataManager that will be used to get the data
from the trial events.</p></li>
<li><p><strong>params_recarray</strong> (<em>instance</em><em> of </em><em>structured ndarray</em><em> | </em><em>None</em>) – The numpy record ndarray holding the parameter name and values for
each source model.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to use for measuring timing
information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pd</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the probability density
value for each event.</p></li>
<li><p><strong>grads</strong> (<em>dict</em>) – The dictionary holding the PDF gradient value for each event w.r.t.
each global fit parameter.
The key of the dictionary is the ID of the global fit parameter.
The value is the (N_values,)-shaped numpy ndarray holding the
gradient value for each event.
By definition this PDF set does not depend on any fit parameters,
hence, this dictionary is empty.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.smoothing">
<span id="skyllh-core-smoothing-module"></span><h2>skyllh.core.smoothing module<a class="headerlink" href="#module-skyllh.core.smoothing" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.HistSmoothingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">HistSmoothingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.HistSmoothingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for implementing a histogram smoothing method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.smoothing.HistSmoothingMethod.smooth">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.HistSmoothingMethod.smooth" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to smooth the given histogram h.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h</strong> (<em>N-dimensional ndarray</em>) – The ndarray holding histogram bin values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>smoothed_h</strong> (<em>N-dimensional ndarray</em>) – The array holding the smoothed histogram bin values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.HistSmoothingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">16</span></em><a class="headerlink" href="#skyllh.core.smoothing.HistSmoothingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.HistSmoothingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.smoothing.HistSmoothingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NoHistSmoothingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">NoHistSmoothingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.NoHistSmoothingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.smoothing.HistSmoothingMethod" title="skyllh.core.smoothing.HistSmoothingMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistSmoothingMethod</span></code></a></p>
<p>This class implements a no-shoothing histogram method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NoHistSmoothingMethod.smooth">
<span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.NoHistSmoothingMethod.smooth" title="Link to this definition"></a></dt>
<dd><p>Does not perform any smoothing and just returns the input histogram.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h</strong> (<em>N-dimensional ndarray</em>) – The ndarray holding histogram bin values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>h</strong> (<em>N-dimensional ndarray</em>) – The input histogram array.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NoHistSmoothingMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.smoothing.NoHistSmoothingMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NoHistSmoothingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">43</span></em><a class="headerlink" href="#skyllh.core.smoothing.NoHistSmoothingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NoHistSmoothingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.smoothing.NoHistSmoothingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">NeighboringBinHistSmoothingMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_kernel_arrays</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.smoothing.HistSmoothingMethod" title="skyllh.core.smoothing.HistSmoothingMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">HistSmoothingMethod</span></code></a></p>
<p>This class implements a smoothing algorithm that smoothes a histogram
based on the neighboring bins.</p>
<p>Constructs a new neighboring bin histogram smoothing method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>axis_kernel_arrays</strong> (<em>sequence</em><em> of </em><em>1D ndarrays</em>) – The sequence of smoothing kernel arrays, one for each axis. If an
axis should not get smoothed, the UNSMOOTH_AXIS constant should be
used for that axis’ smoothing kernel array.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.ndim">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ndim</span></span><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.ndim" title="Link to this definition"></a></dt>
<dd><p>(read-only) The dimensionality of the histogram this smoothing
instances is made for.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.smooth">
<span class="sig-name descname"><span class="pre">smooth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.smooth" title="Link to this definition"></a></dt>
<dd><p>Smoothes the given histogram array h with the internal kernel array
k. Both arrays must have the same dimensionality. The shape
values of k must be smaller than or equal to the shape values of h.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>h</strong> (<em>N-dimensional ndarray</em>) – The ndarray holding histogram bin values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>smoothed_h</strong> (<em>N-dimensional ndarray.</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">67</span></em><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_k',</span> <span class="pre">'_ndim')</span></em><a class="headerlink" href="#skyllh.core.smoothing.NeighboringBinHistSmoothingMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.SmoothingFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">SmoothingFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_kernel_array</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.SmoothingFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides a base class for a histogram smoothing filter. It
provides an axis kernel array that defines how many neighboring bins of a
histogram bin should be used to smooth that histogram bin.</p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.smoothing.SmoothingFilter.axis_kernel_array">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">axis_kernel_array</span></span><a class="headerlink" href="#skyllh.core.smoothing.SmoothingFilter.axis_kernel_array" title="Link to this definition"></a></dt>
<dd><p>The kernel array for a histogram axis.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.SmoothingFilter.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">142</span></em><a class="headerlink" href="#skyllh.core.smoothing.SmoothingFilter.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.SmoothingFilter.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_axis_kernel_array',</span> <span class="pre">'axis_kernel_array')</span></em><a class="headerlink" href="#skyllh.core.smoothing.SmoothingFilter.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.BlockSmoothingFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">BlockSmoothingFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbins</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.BlockSmoothingFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.smoothing.SmoothingFilter" title="skyllh.core.smoothing.SmoothingFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">SmoothingFilter</span></code></a></p>
<p>This class defines the histogram smoothing filter for smoothing a
histogram via a block kernel function. The half-width of that
block is specified via the nbins argument.</p>
<p>Creates a new BlockSmoothingFilter instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nbins</strong> (<em>int</em>) – The number of neighboring bins into one direction of a histogram
bin, which should be used to smooth that histogram bin.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.BlockSmoothingFilter.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.smoothing.BlockSmoothingFilter.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.BlockSmoothingFilter.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">171</span></em><a class="headerlink" href="#skyllh.core.smoothing.BlockSmoothingFilter.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.BlockSmoothingFilter.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.smoothing.BlockSmoothingFilter.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.smoothing.GaussianSmoothingFilter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.smoothing.</span></span><span class="sig-name descname"><span class="pre">GaussianSmoothingFilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbins</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.smoothing.GaussianSmoothingFilter" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.smoothing.SmoothingFilter" title="skyllh.core.smoothing.SmoothingFilter"><code class="xref py py-class docutils literal notranslate"><span class="pre">SmoothingFilter</span></code></a></p>
<p>This class defines the histogram smoothing filter for smoothing a
histogram via a Gaussian kernel function. The width of that Gaussian is
approximately one standard deviation, spread over nbins on each side of the
central histogram bin.</p>
<p>Creates a new GaussianSmoothingFilter instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>nbins</strong> (<em>int</em>) – The number of neighboring bins into one direction of a histogram
bin, which should be used to smooth that histogram bin.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.GaussianSmoothingFilter.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.smoothing.GaussianSmoothingFilter.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.GaussianSmoothingFilter.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">203</span></em><a class="headerlink" href="#skyllh.core.smoothing.GaussianSmoothingFilter.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.smoothing.GaussianSmoothingFilter.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.smoothing.GaussianSmoothingFilter.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.source_hypo_grouping">
<span id="skyllh-core-source-hypo-grouping-module"></span><h2>skyllh.core.source_hypo_grouping module<a class="headerlink" href="#module-skyllh.core.source_hypo_grouping" title="Link to this heading"></a></h2>
<p>This module contains classes for source hypothesis grouping functionalities.
Same kind sources can be grouped to allow more efficient calculations in the
analysis.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_hypo_grouping.</span></span><span class="sig-name descname"><span class="pre">SourceHypoGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detsigyield_builders</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_gen_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.types.SourceHypoGroup_t" title="skyllh.core.types.SourceHypoGroup_t"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceHypoGroup_t</span></code></a></p>
<p>The source hypothesis group class provides a data container to describe
a group of sources that share the same flux model, detector signal yield,
and signal generation methods.</p>
<p>Constructs a new source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The source or sequence of sources that define the source group.</p></li>
<li><p><strong>fluxmodel</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.FluxModel" title="skyllh.core.flux_model.FluxModel"><em>FluxModel</em></a>) – The FluxModel instance that applies to the list of sources of the
group.</p></li>
<li><p><strong>detsigyield_builders</strong> (<em>sequence</em><em> of </em><em>DetSigYieldBuilder instances</em>) – The sequence of detector signal yield builder instances,
which should be used to create the detector signal
yield for the sources of this group. Each element is the
detector signal yield builder for the particular dataset, if
several datasets are used. If this list contains only one builder,
it should be used for all datasets.</p></li>
<li><p><strong>sig_gen_method</strong> (<em>SignalGenerationMethod instance</em><em> | </em><em>None</em>) – The instance of SignalGenerationMethod that implements the signal
generation for the specific detector and source hypothesis. It can
be set to None, which means, no signal can be generated. Useful for
data unblinding and data trial generation, where no signal is
required.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.source_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_list</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.source_list" title="Link to this definition"></a></dt>
<dd><p>The list of SourceModel instances for which the group is defined.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.fluxmodel">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">fluxmodel</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.fluxmodel" title="Link to this definition"></a></dt>
<dd><p>The FluxModel instance that applies to the list of sources of this
source group.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.detsigyield_builder_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detsigyield_builder_list</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.detsigyield_builder_list" title="Link to this definition"></a></dt>
<dd><p>The list of DetSigYieldBuilder instances, which should be used to
create the detector signal yield for this group of sources. Each
element is the detector signal yield builder for the particular dataset,
if several datasets are used. If this list contains only one builder,
it should be used for all datasets.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.sig_gen_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_gen_method</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.sig_gen_method" title="Link to this definition"></a></dt>
<dd><p>The instance of SignalGenerationMethod that implements the signal
generation for the specific detector and source hypothesis. It can
be None, which means, no signal can be generated. Useful for
data unblinding and data trial generation, where no signal is
required.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.n_sources">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sources</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.n_sources" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of sources within this source hypothesis
group.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.get_source_weights">
<span class="sig-name descname"><span class="pre">get_source_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.get_source_weights" title="Link to this definition"></a></dt>
<dd><p>Gets the weight from each source of this source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>weights</strong> (<em>numpy ndarray | None</em>) – The (N_sources,)-shaped numpy ndarray holding the theoretical
weight of each source.
It is <code class="docutils literal notranslate"><span class="pre">None</span></code> if any of the individual source weights is None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">35</span></em><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroup.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_detsigyield_builder_list',</span> <span class="pre">'_fluxmodel',</span> <span class="pre">'_sig_gen_method',</span> <span class="pre">'_source_list',</span> <span class="pre">'detsigyield_builder_list',</span> <span class="pre">'fluxmodel',</span> <span class="pre">'sig_gen_method',</span> <span class="pre">'source_list')</span></em><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroup.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_hypo_grouping.</span></span><span class="sig-name descname"><span class="pre">SourceHypoGroupManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_hypo_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The source hypothesis group manager provides the functionality to group
sources of the same source hypothesis, i.e. spatial model and flux model,
with an assigned detector signal yield implementation method.</p>
<p>This helps to evaluate the log-likelihood ratio function in an efficient
way.</p>
<p>Creates a new source hypothesis group manager instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_hypo_groups</strong> (<em>SourceHypoGroup instance</em><em> |</em>) – sequence of SourceHypoGroup instances | None
The SourceHypoGroup instances to initialize the manager with.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.source_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_list</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.source_list" title="Link to this definition"></a></dt>
<dd><p>The list of defined SourceModel instances.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_sources">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sources</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_sources" title="Link to this definition"></a></dt>
<dd><p>(read-only) The total number of sources defined in all source groups.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_src_hypo_groups">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_src_hypo_groups</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_src_hypo_groups" title="Link to this definition"></a></dt>
<dd><p>Use n_shgs instead.
The number of defined source hypothesis groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>DEPRICATED</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_shgs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_shgs</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.n_shgs" title="Link to this definition"></a></dt>
<dd><p>The number of defined source hypothesis groups.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">202</span></em><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_shg_list',</span> <span class="pre">'_sidx_to_gidx_gsidx_map_arr')</span></em><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.shg_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_list</span></span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.shg_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of source hypothesis groups, i.e.
SourceHypoGroup instances.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.create_source_hypo_group">
<span class="sig-name descname"><span class="pre">create_source_hypo_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fluxmodel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">detsigyield_builders</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_gen_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.create_source_hypo_group" title="Link to this definition"></a></dt>
<dd><p>Creates and adds a source hypothesis group to this source hypothesis
group manager. A source hypothesis group shares sources of the same
source model with the same flux model and hence the same detector signal
yield and signal generation methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a>) – The source or sequence of sources that define the source group.</p></li>
<li><p><strong>fluxmodel</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.flux_model.FluxModel" title="skyllh.core.flux_model.FluxModel"><em>FluxModel</em></a>) – The FluxModel instance that applies to the list of sources of the
group.</p></li>
<li><p><strong>detsigyield_builders</strong> (<em>sequence</em><em> of </em><em>DetSigYieldBuilder instances</em>) – The sequence of detector signal yield builder instances,
which should be used to create the detector signal
yield for the sources of this group. Each element is the
detector signal yield builder for the particular dataset, if
several datasets are used. If this list contains only one builder,
it should be used for all datasets.</p></li>
<li><p><strong>sig_gen_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.signal_generation.SignalGenerationMethod" title="skyllh.core.signal_generation.SignalGenerationMethod"><em>SignalGenerationMethod</em></a><em> | </em><em>None</em>) – The SignalGenerationMethod instance that implements the detector
and source hypothesis specific signal generation.
It can be set to None which means no signal can be generated.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_fluxmodel_by_src_idx">
<span class="sig-name descname"><span class="pre">get_fluxmodel_by_src_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_fluxmodel_by_src_idx" title="Link to this definition"></a></dt>
<dd><p>Retrieves the FluxModel instance for the source specified by its
source index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_idx</strong> (<em>int</em>) – The index of the source, which must be in the range
[0, N_sources-1].</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fluxmodel</strong> (<em>instance of FluxModel</em>) – The FluxModel instance that applies to the specified source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_detsigyield_builder_list_by_src_idx">
<span class="sig-name descname"><span class="pre">get_detsigyield_builder_list_by_src_idx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_detsigyield_builder_list_by_src_idx" title="Link to this definition"></a></dt>
<dd><p>Retrieves the list of DetSigYieldBuilder instances for the source
specified by its source index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_idx</strong> (<em>int</em>) – The index of the source, which must be in the range
[0, N_sources-1].</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>detsigyield_builder_list</strong> (<em>list of DetSigYieldBuilder instances</em>) – The list of DetSigYieldBuilder instances that apply to the
specified source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_src_mask_of_shg">
<span class="sig-name descname"><span class="pre">get_src_mask_of_shg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_src_mask_of_shg" title="Link to this definition"></a></dt>
<dd><p>Creates a source mask for the sources of the <code class="docutils literal notranslate"><span class="pre">shg_idx</span></code> th source
hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_idx</strong> (<em>int</em>) – The index of the source hypothesis group.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_mask</strong> (<em>instance of numpy ndarray</em>) – The (N_sources,)-shaped numpy ndarray of bool holding the mask for
selecting the sources of the given source hypothesis group.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_src_idxs_of_shg">
<span class="sig-name descname"><span class="pre">get_src_idxs_of_shg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_idx</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager.get_src_idxs_of_shg" title="Link to this definition"></a></dt>
<dd><p>Creates an array of indices of sources that belong to the given
source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_idx</strong> (<em>int</em>) – The index of the source hypothesis group.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_idxs</strong> (<em>instance of numpy ndarray</em>) – The numpy ndarray of int holding the indices of the sources that
belong to the given source hypothesis group.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.source_model">
<span id="skyllh-core-source-model-module"></span><h2>skyllh.core.source_model module<a class="headerlink" href="#module-skyllh.core.source_model" title="Link to this heading"></a></h2>
<p>The <a class="reference internal" href="#module-skyllh.core.model" title="skyllh.core.model"><code class="xref py py-mod docutils literal notranslate"><span class="pre">model</span></code></a> module contains the base class <code class="docutils literal notranslate"><span class="pre">SourceModel</span></code>
for modelling a source in the sky. What kind of properties this source has is
modeled by a derived class. The most common one is the PointLikeSource source
model for a point-like source at a given location in the sky.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_model.</span></span><span class="sig-name descname"><span class="pre">SourceModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">classification</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_model.SourceModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.model.Model" title="skyllh.core.model.Model"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a></p>
<p>The base class for all source models in SkyLLH. A source can have a
relative weight w.r.t. other sources.</p>
<p>Creates a new source model instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the source model.</p></li>
<li><p><strong>classification</strong> (<em>str</em><em> | </em><em>None</em>) – The astronomical classification of the source.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em> | </em><em>None</em>) – The relative weight of the source w.r.t. other sources.
If set to None, unity will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel.classification">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">classification</span></span><a class="headerlink" href="#skyllh.core.source_model.SourceModel.classification" title="Link to this definition"></a></dt>
<dd><p>The astronomical classification of the source.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel.weight">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">weight</span></span><a class="headerlink" href="#skyllh.core.source_model.SourceModel.weight" title="Link to this definition"></a></dt>
<dd><p>The weight of the source.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">24</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_classification',</span> <span class="pre">'_weight',</span> <span class="pre">'classification',</span> <span class="pre">'weight')</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_model.</span></span><span class="sig-name descname"><span class="pre">SourceModelCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sources</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.model.ModelCollection" title="skyllh.core.model.ModelCollection"><code class="xref py py-class docutils literal notranslate"><span class="pre">ModelCollection</span></code></a></p>
<p>This class describes a collection of source models. It can be used to
group sources into a single object, for instance for a stacking analysis.</p>
<p>Creates a new source collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sources</strong> (<em>sequence</em><em> of </em><em>source_type instances</em><em> | </em><em>None</em>) – The sequence of sources this collection should be initalized with.
If set to None, an empty SourceModelCollection instance is created.</p></li>
<li><p><strong>source_type</strong> (<em>type</em><em> | </em><em>None</em>) – The type of the source.
If set to None (default), SourceModel will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.cast">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errmsg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.cast" title="Link to this definition"></a></dt>
<dd><p>Casts the given object to a SourceModelCollection object. If the cast
fails, a TypeError with the given error message is raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><em>sequence</em><em> of </em><a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><em>SourceModel</em></a><em> | </em><a class="reference internal" href="#skyllh.core.source_model.SourceModelCollection" title="skyllh.core.source_model.SourceModelCollection"><em>SourceModelCollection</em></a><em> |</em>) – None
The object that should be casted to SourceModelCollection.
If set to None, an empty SourceModelCollection is created.</p></li>
<li><p><strong>errmsg</strong> (<em>str</em><em> | </em><em>None</em>) – The error message if the cast fails.
If set to None, a generic error message will be used.</p></li>
<li><p><strong>arguments</strong> (<em>Additional keyword</em>)</p></li>
<li><p><strong>----------------------------</strong></p></li>
<li><p><strong>the</strong> (<em>Additional keyword arguments are passed to the constructor of</em>)</p></li>
<li><p><strong>class.</strong> (<a class="reference internal" href="#skyllh.core.source_model.SourceModelCollection" title="skyllh.core.source_model.SourceModelCollection"><em>SourceModelCollection</em></a>)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If the cast failed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.source_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source_type</span></span><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.source_type" title="Link to this definition"></a></dt>
<dd><p>(read-only) The type of the source model.
This property is an alias for the <cite>obj_type</cite> property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.sources">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sources</span></span><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.sources" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of sources of type <code class="docutils literal notranslate"><span class="pre">source_type</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">84</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.SourceModelCollection.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.source_model.SourceModelCollection.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_model.</span></span><span class="sig-name descname"><span class="pre">IsPointlike</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra_func_instance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_ra_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_ra_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec_func_instance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_dec_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_dec_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_model.IsPointlike" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is a classifier class that can be used by other classes to indicate
that the specific class describes a point-like object.</p>
<p>Constructor method. Gets called when the an instance of a class is
created which derives from this IsPointlike class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra_func_instance</strong> (<em>object</em>) – The instance object the right-ascention property’s getter and setter
functions are defined in.</p></li>
<li><p><strong>get_ra_func</strong> (<em>callable</em>) – The callable object of the getter function of the right-ascention
property. It must have the call signature
<cite>__call__(ra_func_instance)</cite>.</p></li>
<li><p><strong>set_ra_func</strong> (<em>callable</em>) – The callable object of the setter function of the right-ascention
property. It must have the call signature
<cite>__call__(ra_func_instance, value)</cite>.</p></li>
<li><p><strong>dec_func_instance</strong> (<em>object</em>) – The instance object the declination property’s getter and setter
functions are defined in.</p></li>
<li><p><strong>get_dec_func</strong> (<em>object</em>) – The callable object of the getter function of the declination
property. It must have the call signature
<cite>__call__(dec_func_instance)</cite>.</p></li>
<li><p><strong>set_dec_func</strong> (<em>object</em>) – The callable object of the setter function of the declination
property. It must have the call signature
<cite>__call__(dec_func_instance, value)</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike.ra">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ra</span></span><a class="headerlink" href="#skyllh.core.source_model.IsPointlike.ra" title="Link to this definition"></a></dt>
<dd><p>The right-ascention coordinate of the point-like source.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike.dec">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dec</span></span><a class="headerlink" href="#skyllh.core.source_model.IsPointlike.dec" title="Link to this definition"></a></dt>
<dd><p>The declination coordinate of the point-like source.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.source_model.IsPointlike.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">176</span></em><a class="headerlink" href="#skyllh.core.source_model.IsPointlike.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.IsPointlike.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_dec_func_instance',</span> <span class="pre">'_get_dec_func',</span> <span class="pre">'_get_ra_func',</span> <span class="pre">'_ra_func_instance',</span> <span class="pre">'_set_dec_func',</span> <span class="pre">'_set_ra_func')</span></em><a class="headerlink" href="#skyllh.core.source_model.IsPointlike.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.source_model.PointLikeSource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.source_model.</span></span><span class="sig-name descname"><span class="pre">PointLikeSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ra</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.source_model.PointLikeSource" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.source_model.SourceModel" title="skyllh.core.source_model.SourceModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">SourceModel</span></code></a>, <a class="reference internal" href="#skyllh.core.source_model.IsPointlike" title="skyllh.core.source_model.IsPointlike"><code class="xref py py-class docutils literal notranslate"><span class="pre">IsPointlike</span></code></a></p>
<p>The PointLikeSource class is a source model for a point-like source
object in the sky at a given location (right-ascention and declination).</p>
<p>Creates a new PointLikeSource instance for defining a point-like
source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ra</strong> (<em>float</em>) – The right-ascention coordinate of the source in radians.</p></li>
<li><p><strong>dec</strong> (<em>float</em>) – The declination coordinate of the source in radians.</p></li>
<li><p><strong>name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the source.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em> | </em><em>None</em>) – The relative weight of the source w.r.t. other sources.
If set to None, unity will be used.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.PointLikeSource.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.source_model.PointLikeSource.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.PointLikeSource.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">255</span></em><a class="headerlink" href="#skyllh.core.source_model.PointLikeSource.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.source_model.PointLikeSource.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_dec',</span> <span class="pre">'_ra',</span> <span class="pre">'dec',</span> <span class="pre">'ra')</span></em><a class="headerlink" href="#skyllh.core.source_model.PointLikeSource.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.storage">
<span id="skyllh-core-storage-module"></span><h2>skyllh.core.storage module<a class="headerlink" href="#module-skyllh.core.storage" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.storage.register_FileLoader">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">register_FileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileloader_cls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.register_FileLoader" title="Link to this definition"></a></dt>
<dd><p>Registers the given file formats (file extensions) to the given
FileLoader class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>formats</strong> (<em>str</em><em> | </em><em>list</em><em> of </em><em>str</em>) – The list of file name extensions that should be mapped to the FileLoader
class.</p></li>
<li><p><strong>fileloader_cls</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.FileLoader" title="skyllh.core.storage.FileLoader"><em>FileLoader</em></a>) – The subclass of FileLoader that should be used for the given file
formats.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.storage.create_FileLoader">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">create_FileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.create_FileLoader" title="Link to this definition"></a></dt>
<dd><p>Creates the appropriate FileLoader object for the given file names.
It looks up the FileLoader class from the FileLoader registry for the
file name extension of the first file name in the given list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the files that should be
loaded.</p></li>
<li><p><strong>Parameters</strong> (<em>Additional</em>)</p></li>
<li><p><strong>---------------------</strong></p></li>
<li><p><strong>the</strong> (<em>Additional parameters will be passed to the constructor method of</em>)</p></li>
<li><p><strong>class.</strong> (<em>chosen FileLoader</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>fileloader</strong> (<em>FileLoader</em>) – The appropriate FileLoader instance for the given type of data files.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.storage.assert_file_exists">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">assert_file_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.assert_file_exists" title="Link to this definition"></a></dt>
<dd><p>Checks if the given file exists and raises a RuntimeError if it does
not exist.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.FileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">FileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.FileLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for a FileLoader class.</p>
<p>Creates a new FileLoader instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the data files that
need to be loaded.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.FileLoader.pathfilename_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pathfilename_list</span></span><a class="headerlink" href="#skyllh.core.storage.FileLoader.pathfilename_list" title="Link to this definition"></a></dt>
<dd><p>The list of fully qualified file names of the data files.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.FileLoader.load_data">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.FileLoader.load_data" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to load the data from the file.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.FileLoader.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">113</span></em><a class="headerlink" href="#skyllh.core.storage.FileLoader.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.FileLoader.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pathfilename_list',</span> <span class="pre">'pathfilename_list')</span></em><a class="headerlink" href="#skyllh.core.storage.FileLoader.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.NPYFileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">NPYFileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NPYFileLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.FileLoader" title="skyllh.core.storage.FileLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileLoader</span></code></a></p>
<p>The NPYFileLoader class provides the data loading functionality for
numpy data files containing numpy arrays. It uses the <code class="docutils literal notranslate"><span class="pre">numpy.load</span></code>
function for loading the data and the numpy.append function to concatenate
several data files.</p>
<p>Creates a new NPYFileLoader instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the data files that
need to be loaded.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.NPYFileLoader.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversion_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">efficiency_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NPYFileLoader.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data from the files specified through their fully qualified
file names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – Load the data into memory only for these data fields. If set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>, all in-file-present data fields are loaded into memory.</p></li>
<li><p><strong>dtype_conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – If not None, this dictionary defines how data fields of specific
data types get converted into the specified data types.
This can be used to use less memory.</p></li>
<li><p><strong>dtype_conversion_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>efficiency_mode</strong> (<em>str</em><em> | </em><em>None</em>) – <p>The efficiency mode the data should get loaded with. Possible values
are:</p>
<blockquote>
<div><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">'memory'</span></code>:</dt><dd><p>The data will be load in a memory efficient way. This will
require more time, because all data records of a file will
be loaded sequentially.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">'time'</span></code></dt><dd><p>The data will be loaded in a time efficient way. This will
require more memory, because each data file gets loaded in
memory at once.</p>
</dd>
</dl>
</div></blockquote>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">'time'</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, the default
value will be used.</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The DataFieldRecordArray holding the loaded data.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError if a file does not exist.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NPYFileLoader.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.NPYFileLoader.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NPYFileLoader.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">158</span></em><a class="headerlink" href="#skyllh.core.storage.NPYFileLoader.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NPYFileLoader.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.NPYFileLoader.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetFileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">ParquetFileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetFileLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.FileLoader" title="skyllh.core.storage.FileLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileLoader</span></code></a></p>
<p>The ParquetFileLoader class provides the data loading functionality for
parquet files. It uses the <code class="docutils literal notranslate"><span class="pre">pyarrow</span></code> package.</p>
<p>Creates a new FileLoader instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the data files that
need to be loaded.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetFileLoader.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversion_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetFileLoader.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data from the files specified through their fully qualified
file names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – Load the data into memory only for these data fields. If set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>, all in-file-present data fields are loaded into memory.</p></li>
<li><p><strong>dtype_conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, this dictionary defines how data fields of specific
data types get converted into the specified data types.
This can be used to use less memory.</p></li>
<li><p><strong>dtype_conversion_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>copy</strong> (<em>bool</em>) – If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the column data from the pyarrow.Table instance
will be copied into the DataFieldRecordArray. This should not be
necessary.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The DataFieldRecordArray holding the loaded data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetFileLoader.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetFileLoader.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetFileLoader.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">386</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetFileLoader.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetFileLoader.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('pa',</span> <span class="pre">'pq')</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetFileLoader.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">PKLFileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pkl_encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.FileLoader" title="skyllh.core.storage.FileLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileLoader</span></code></a></p>
<p>The PKLFileLoader class provides the data loading functionality for
pickled Python data files containing Python data structures. It uses the
<cite>pickle.load</cite> function for loading the data from the file.</p>
<p>Creates a new file loader instance for a pickled data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the data files that
need to be loaded.</p></li>
<li><p><strong>pkl_encoding</strong> (<em>str</em><em> | </em><em>None</em>) – The encoding of the pickled data files. If None, the default
encodings ‘ASCII’ and ‘latin1’ will be tried to load the data.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader.pkl_encoding">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pkl_encoding</span></span><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader.pkl_encoding" title="Link to this definition"></a></dt>
<dd><p>The encoding of the pickled data files. Can be None.
If None, the default encodings ‘ASCII’ and ‘latin1’ will be tried to
load the data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data from the files specified through their fully qualified
file names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>Python object | list of Python objects</em>) – The de-pickled Python object. If more than one file was specified,
this is a list of Python objects, i.e. one object for each file.
The file &lt;-&gt; object mapping order is preserved.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError if a file does not exist.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">464</span></em><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.PKLFileLoader.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_pkl_encoding',</span> <span class="pre">'pkl_encoding')</span></em><a class="headerlink" href="#skyllh.core.storage.PKLFileLoader.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">TextFileLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathfilenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header_separator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.TextFileLoader" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.FileLoader" title="skyllh.core.storage.FileLoader"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileLoader</span></code></a></p>
<p>The TextFileLoader class provides the data loading functionality for
data text files where values are stored in a comma, or whitespace, separated
format. It uses the numpy.loadtxt function to load the data. It reads the
first line of the text file for a table header.</p>
<p>Creates a new file loader instance for a text data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pathfilenames</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The sequence of fully qualified file names of the data files that
need to be loaded.</p></li>
<li><p><strong>header_comment</strong> (<em>str</em>) – The character that defines a comment line in the text file.</p></li>
<li><p><strong>header_separator</strong> (<em>str</em><em> | </em><em>None</em>) – The separator of the header field names. If None, it assumes
whitespaces.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.header_comment">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header_comment</span></span><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.header_comment" title="Link to this definition"></a></dt>
<dd><p>The character that defines a comment line in the text file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.header_separator">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header_separator</span></span><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.header_separator" title="Link to this definition"></a></dt>
<dd><p>The separator of the header field names. If None, it assumes
whitespaces.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.load_data">
<span class="sig-name descname"><span class="pre">load_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversion_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.load_data" title="Link to this definition"></a></dt>
<dd><p>Loads the data from the data files specified through their fully
qualified file names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – Load the data into memory only for these data fields. If set to
<code class="docutils literal notranslate"><span class="pre">None</span></code>, all in-file-present data fields are loaded into memory.</p></li>
<li><p><strong>dtype_conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – If not None, this dictionary defines how data fields of specific
data types get converted into the specified data types.
This can be used to use less memory.</p></li>
<li><p><strong>dtype_conversion_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of DataFieldRecordArray</em>) – The DataFieldRecordArray holding the loaded data.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>RuntimeError</strong> – If a file does not exist.</p></li>
<li><p><strong>ValueError</strong> – If the table header cannot be read.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">560</span></em><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.TextFileLoader.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_header_comment',</span> <span class="pre">'_header_separator',</span> <span class="pre">'header_comment',</span> <span class="pre">'header_separator')</span></em><a class="headerlink" href="#skyllh.core.storage.TextFileLoader.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">DataTableAccessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class provides an interface wrapper to access the data table of a
particular format in a unified way.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.get_column">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.get_column" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a numpy.ndarray holding the data of
the column with name <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>any</em>) – The data table.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>arr</strong> (<em>instance of numpy.ndarray</em>) – The column data as numpy ndarray.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.get_field_names">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.get_field_names" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a list of field names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.get_field_name_to_dtype_dict">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_field_name_to_dtype_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.get_field_name_to_dtype_dict" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a dictionary with field name and
numpy dtype instance for each field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.get_length">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.get_length" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return the length of the data table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">802</span></em><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataTableAccessor.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.DataTableAccessor.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">NDArrayDataTableAccessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.DataTableAccessor" title="skyllh.core.storage.DataTableAccessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTableAccessor</span></code></a></p>
<p>This class provides an interface wrapper to access the data table stored
as a structured numpy ndarray.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.get_column" title="Link to this definition"></a></dt>
<dd><p>Gets the column data from the structured ndarray.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>instance</em><em> of </em><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.3)"><em>numpy.ndarray</em></a>) – The structured numpy ndarray holding the table data.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the column.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.get_field_names">
<span class="sig-name descname"><span class="pre">get_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.get_field_names" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a list of field names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.get_field_name_to_dtype_dict">
<span class="sig-name descname"><span class="pre">get_field_name_to_dtype_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.get_field_name_to_dtype_dict" title="Link to this definition"></a></dt>
<dd><p>Returns the dictionary with field name and numpy dtype instance for
each field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.get_length" title="Link to this definition"></a></dt>
<dd><p>Returns the length of the data table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">851</span></em><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.NDArrayDataTableAccessor.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.NDArrayDataTableAccessor.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">DictDataTableAccessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.DataTableAccessor" title="skyllh.core.storage.DataTableAccessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTableAccessor</span></code></a></p>
<p>This class provides an interface wrapper to access the data table stored
as a Python dictionary.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.get_column" title="Link to this definition"></a></dt>
<dd><p>Gets the column data from the dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – The dictionary holding the table data.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the column.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.get_field_names">
<span class="sig-name descname"><span class="pre">get_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.get_field_names" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a list of field names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.get_field_name_to_dtype_dict">
<span class="sig-name descname"><span class="pre">get_field_name_to_dtype_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.get_field_name_to_dtype_dict" title="Link to this definition"></a></dt>
<dd><p>Returns the dictionary with field name and numpy dtype instance for
each field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.get_length" title="Link to this definition"></a></dt>
<dd><p>Returns the length of the data table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">891</span></em><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DictDataTableAccessor.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.DictDataTableAccessor.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">ParquetDataTableAccessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.DataTableAccessor" title="skyllh.core.storage.DataTableAccessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTableAccessor</span></code></a></p>
<p>This class provides an interface wrapper to access the data table stored
as a Parquet table.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.get_column" title="Link to this definition"></a></dt>
<dd><p>Gets the column data from the Parquet table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>instance</em><em> of </em><em>pyarrow.Table</em>) – The instance of pyarrow.Table holding the table data.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the column.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.get_field_names">
<span class="sig-name descname"><span class="pre">get_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.get_field_names" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a list of field names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.get_field_name_to_dtype_dict">
<span class="sig-name descname"><span class="pre">get_field_name_to_dtype_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.get_field_name_to_dtype_dict" title="Link to this definition"></a></dt>
<dd><p>Returns the dictionary with field name and numpy dtype instance for
each field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.get_length" title="Link to this definition"></a></dt>
<dd><p>Returns the length of the data table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">933</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.ParquetDataTableAccessor.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.ParquetDataTableAccessor.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">DataFieldRecordArrayDataTableAccessor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.storage.DataTableAccessor" title="skyllh.core.storage.DataTableAccessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataTableAccessor</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_column" title="Link to this definition"></a></dt>
<dd><p>Gets the column data from the Parquet table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>instance</em><em> of </em><em>pyarrow.Table</em>) – The instance of pyarrow.Table holding the table data.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the column.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_field_names">
<span class="sig-name descname"><span class="pre">get_field_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_field_names" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to return a list of field names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_field_name_to_dtype_dict">
<span class="sig-name descname"><span class="pre">get_field_name_to_dtype_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_field_name_to_dtype_dict" title="Link to this definition"></a></dt>
<dd><p>Returns the dictionary with field name and numpy dtype instance for
each field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_length">
<span class="sig-name descname"><span class="pre">get_length</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.get_length" title="Link to this definition"></a></dt>
<dd><p>Returns the length of the data table.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">973</span></em><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArrayDataTableAccessor.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.storage.</span></span><span class="sig-name descname"><span class="pre">DataFieldRecordArray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_table_accessor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype_conversion_except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The DataFieldRecordArray class provides a data container similar to a numpy
record ndarray. But the data fields are stored as individual numpy ndarray
objects. Hence, access of single data fields is much faster compared to
access on the record ndarray.</p>
<p>Creates a DataFieldRecordArray from the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>any</em><em> | </em><em>None</em>) – <p>The tabulated data in any format. The only requirement is that
there is a DataTableAccessor instance available for the given data
format. Supported data types are:</p>
<blockquote>
<div><dl class="simple">
<dt>numpy.ndarray</dt><dd><p>A structured numpy ndarray.</p>
</dd>
<dt>dict</dt><dd><p>A Python dictionary with field names as keys and
one-dimensional numpy.ndarrays as values.</p>
</dd>
<dt>pyarrow.Table</dt><dd><p>An instance of pyarrow.Table.</p>
</dd>
<dt>DataFieldRecordArray</dt><dd><p>An instance of DataFieldRecordArray.</p>
</dd>
</dl>
</div></blockquote>
<p>If set to <cite>None</cite>, the DataFieldRecordArray instance is initialized
with no data and the length of the array is set to 0.</p>
</p></li>
<li><p><strong>data_table_accessor</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataTableAccessor" title="skyllh.core.storage.DataTableAccessor"><em>DataTableAccessor</em></a><em> | </em><em>None</em>) – The instance of DataTableAccessor which provides column access to
<code class="docutils literal notranslate"><span class="pre">data</span></code>. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, an appropriate <code class="docutils literal notranslate"><span class="pre">DataTableAccessor</span></code>
instance will be selected based on the type of <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
<li><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – If not None (default), this specifies the data fields that should
get kept from the given data. Otherwise all data fields get kept.</p></li>
<li><p><strong>dtype_conversions</strong> (<em>dict</em><em> | </em><em>None</em>) – If not None, this dictionary defines how data fields of specific
data types get converted into the specified data types.
This can be used to use less memory.</p></li>
<li><p><strong>dtype_conversion_except_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names whose data type should not get
converted.</p></li>
<li><p><strong>copy</strong> (<em>bool</em>) – Flag if the input data should get copied. Default is True. If a
DataFieldRecordArray instance is provided, this option is set to
<code class="docutils literal notranslate"><span class="pre">True</span></code> automatically.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__contains__" title="Link to this definition"></a></dt>
<dd><p>Checks if the given field exists in this DataFieldRecordArray
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True, if the given field exists in this DataFieldRecordArray
instance, False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Implements data field value access.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> | </em><em>numpy ndarray</em><em> of </em><em>int</em><em> or </em><em>bool</em>) – The name of the data field. If a numpy ndarray is given, it must
contain the indices for which to retrieve a data selection of the
entire DataFieldRecordArray. A numpy ndarray of bools can be given
as well to define a mask.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If the given data field does not exist.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>numpy ndarray | instance of DataFieldRecordArray</em>) – The requested field data or a DataFieldRecordArray holding the
requested selection of the entire data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__setitem__">
<span class="sig-name descname"><span class="pre">__setitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__setitem__" title="Link to this definition"></a></dt>
<dd><p>Implements data field value assignment. If values are assigned to a
data field that does not exist yet, it  will be added via the
<code class="docutils literal notranslate"><span class="pre">append_field</span></code> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em><em> | </em><em>numpy ndarray</em><em> of </em><em>int</em><em> or </em><em>bool</em>) – The name of the data field, or a numpy ndarray holding the indices
or mask of a selection of this DataFieldRecordArray.</p></li>
<li><p><strong>arr</strong> (<em>numpy ndarray</em><em> | </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The numpy ndarray holding the field values. It must be of the same
length as this DataFieldRecordArray. If <cite>name</cite> is a numpy ndarray,
<cite>arr</cite> must be a DataFieldRecordArray.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the given data array is not of the same length as this
    DataFieldRecordArray instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__len__">
<span class="sig-name descname"><span class="pre">__len__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__len__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__sizeof__">
<span class="sig-name descname"><span class="pre">__sizeof__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__sizeof__" title="Link to this definition"></a></dt>
<dd><p>Calculates the size in bytes of this DataFieldRecordArray instance
in memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>memsize</strong> (<em>int</em>) – The memory size in bytes that this DataFieldRecordArray instance
has.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.field_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">field_name_list</span></span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.field_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of the field names of this DataFieldRecordArray.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.indices">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">indices</span></span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.indices" title="Link to this definition"></a></dt>
<dd><p>(read-only) The numpy ndarray holding the indices of this
DataFieldRecordArray.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.append" title="Link to this definition"></a></dt>
<dd><p>Appends the given DataFieldRecordArray to this DataFieldRecordArray
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray that should get appended to
this DataFieldRecordArray. It must contain the same data fields.
Additional data fields are ignored.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.append_field">
<span class="sig-name descname"><span class="pre">append_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.append_field" title="Link to this definition"></a></dt>
<dd><p>Appends a field and its data to this DataFieldRecordArray instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the new data field.</p></li>
<li><p><strong>data</strong> (<em>numpy ndarray</em>) – The numpy ndarray holding the data. The length of the ndarray must
match the current length of this DataFieldRecordArray instance.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If the given data field name already exists in this
    DataFieldRecordArray instance.</p></li>
<li><p><strong>ValueError</strong> – If the length of the data array does not equal to the length of the
    data of this DataFieldRecordArray instance.</p></li>
<li><p><strong>TypeError</strong> – If the arguments are of the wrong type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.as_numpy_record_array">
<span class="sig-name descname"><span class="pre">as_numpy_record_array</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.as_numpy_record_array" title="Link to this definition"></a></dt>
<dd><p>Creates a numpy record ndarray instance holding the data of this
DataFieldRecordArray instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>instance of numpy record ndarray</em>) – The numpy recarray ndarray holding the data of this
DataFieldRecordArray instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1010</span></em><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_data_fields',</span> <span class="pre">'_field_name_list',</span> <span class="pre">'_indices',</span> <span class="pre">'_len')</span></em><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.copy" title="Link to this definition"></a></dt>
<dd><p>Creates a new DataFieldRecordArray that is a copy of this
DataFieldRecordArray instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – If not None (default), this specifies the data fields that should
get kept from this DataFieldRecordArray. Otherwise all data fields
get kept.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.remove_field">
<span class="sig-name descname"><span class="pre">remove_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.remove_field" title="Link to this definition"></a></dt>
<dd><p>Removes the given field from this array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field that is to be removed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.get_field_dtype">
<span class="sig-name descname"><span class="pre">get_field_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.get_field_dtype" title="Link to this definition"></a></dt>
<dd><p>Returns the numpy dtype object of the given data field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.set_field_dtype">
<span class="sig-name descname"><span class="pre">set_field_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.set_field_dtype" title="Link to this definition"></a></dt>
<dd><p>Sets the data type of the given field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the data field.</p></li>
<li><p><strong>dt</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype" title="(in NumPy v2.3)"><em>numpy.dtype</em></a>) – The dtype instance defining the new data type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.convert_dtypes">
<span class="sig-name descname"><span class="pre">convert_dtypes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">except_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.convert_dtypes" title="Link to this definition"></a></dt>
<dd><p>Converts the data type of the data fields of this
DataFieldRecordArray. This method can be used to compress the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conversions</strong> (dict of <cite>old_dtype</cite> -&gt; <cite>new_dtype</cite>) – The dictionary with the old dtype as key and the new dtype as value.</p></li>
<li><p><strong>except_fields</strong> (<em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of field names, which should not get converted.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.get_selection">
<span class="sig-name descname"><span class="pre">get_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.get_selection" title="Link to this definition"></a></dt>
<dd><p>Creates an DataFieldRecordArray that contains a selection of the data
of this DataFieldRecordArray instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>(</em><em>N</em><em>,</em><em>)</em><em>-shaped numpy ndarray</em><em> of </em><em>int</em><em> or </em><em>bool</em>) – The numpy ndarray holding the indices for which to select the data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data_field_array</strong> (<em>instance of DataFieldRecordArray</em>) – The DataFieldRecordArray that contains the selection of the
original DataFieldRecordArray. The selection data is a copy of the
original data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.set_selection">
<span class="sig-name descname"><span class="pre">set_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">indices</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.set_selection" title="Link to this definition"></a></dt>
<dd><p>Sets a selection of the data of this DataFieldRecordArray instance
to the data given in arr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>indices</strong> (<em>(</em><em>N</em><em>,</em><em>)</em><em>-shaped numpy ndarray</em><em> of </em><em>int</em><em> or </em><em>bool</em>) – The numpy ndarray holding the indices or mask for which to set the
data.</p></li>
<li><p><strong>arr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.storage.DataFieldRecordArray" title="skyllh.core.storage.DataFieldRecordArray"><em>DataFieldRecordArray</em></a>) – The instance of DataFieldRecordArray holding the selection data.
It must have the same fields defined as this DataFieldRecordArray
instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.rename_fields">
<span class="sig-name descname"><span class="pre">rename_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conversions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">must_exist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.rename_fields" title="Link to this definition"></a></dt>
<dd><p>Renames the given fields of this array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conversions</strong> (dict of <cite>old_name</cite> -&gt; <cite>new_name</cite>) – The dictionary holding the old and new names of the data fields.</p></li>
<li><p><strong>must_exist</strong> (<em>bool</em>) – Flag if the given fields must exist. If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and a field
does not exist, a KeyError is raised.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If <code class="docutils literal notranslate"><span class="pre">must_exist</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> and a given field does not
    exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.tidy_up">
<span class="sig-name descname"><span class="pre">tidy_up</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">keep_fields</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.tidy_up" title="Link to this definition"></a></dt>
<dd><p>Removes all fields that are not specified through the keep_fields
argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>keep_fields</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em>) – The field name(s), that should not be removed.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If keep_fields is not an instance of str or a sequence of str
    instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.storage.DataFieldRecordArray.sort_by_field">
<span class="sig-name descname"><span class="pre">sort_by_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.storage.DataFieldRecordArray.sort_by_field" title="Link to this definition"></a></dt>
<dd><p>Sorts the data along the given field name in ascending order.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the field along the events should get sorted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>sorted_idxs</strong> (<em>(n_events,)-shaped numpy ndarray</em>) – The numpy ndarray holding the indices of the sorted array.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given data field does not exist.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.test_statistic">
<span id="skyllh-core-test-statistic-module"></span><h2>skyllh.core.test_statistic module<a class="headerlink" href="#module-skyllh.core.test_statistic" title="Link to this heading"></a></h2>
<p>The test_statistic module provides the classes for different test statistic
functions.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.TestStatistic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.test_statistic.</span></span><span class="sig-name descname"><span class="pre">TestStatistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.TestStatistic" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the abstract base class for a test statistic class.</p>
<p>Constructs the test-statistic function instance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.TestStatistic.__call__">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.TestStatistic.__call__" title="Link to this definition"></a></dt>
<dd><p>This method is supposed to evaluate the test-statistic function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance that defines the global
parameter set.</p></li>
<li><p><strong>log_lambda</strong> (<em>float</em>) – The value of the log-likelihood ratio function. Usually, this is its
maximum.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the
global fit parameter values of the log-likelihood ratio
function for the given log_lambda value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TS</strong> (<em>float</em>) – The calculated test-statistic value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.TestStatistic.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">11</span></em><a class="headerlink" href="#skyllh.core.test_statistic.TestStatistic.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.TestStatistic.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.test_statistic.TestStatistic.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.test_statistic.</span></span><span class="sig-name descname"><span class="pre">WilksTestStatistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns_param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ns'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.test_statistic.TestStatistic" title="skyllh.core.test_statistic.TestStatistic"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestStatistic</span></code></a></p>
<p>This class implements the standard Wilks theorem test-statistic function:</p>
<div class="math notranslate nohighlight">
\[TS = 2 \text{sign}(\hat{n}_{\text{s}}) \log \left(
\frac{\mathcal{L}(\hat{\vec{p}})}{\mathcal{L}(n_{\text{s}} = 0)} \right)\]</div>
<p>where the <span class="math notranslate nohighlight">\(\text{sign}(\hat{n}_{\text{s}})\)</span> is negative for
<span class="math notranslate nohighlight">\(\hat{n}_{\text{s}} &lt; 0\)</span>, and positive otherwise.</p>
<p>Constructs the test-statistic function instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ns_param_name</strong> (<em>str</em>) – The name of the global fit parameter for the number of signal
events in the detector, ns.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic.ns_param_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ns_param_name</span></span><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic.ns_param_name" title="Link to this definition"></a></dt>
<dd><p>(read-only) The name of the global fit parameter for the number of
signal events in the detector, ns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic.__call__" title="Link to this definition"></a></dt>
<dd><p>Evaluates the test-statistic function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance that defines the global
parameter set.</p></li>
<li><p><strong>log_lambda</strong> (<em>float</em>) – The value of the log-likelihood ratio function. Usually, this is its
maximum.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the
global fit parameter values of the log-likelihood ratio
function for the given log_lambda value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TS</strong> (<em>float</em>) – The calculated test-statistic value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">52</span></em><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.WilksTestStatistic.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_ns_param_name',)</span></em><a class="headerlink" href="#skyllh.core.test_statistic.WilksTestStatistic.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.test_statistic.</span></span><span class="sig-name descname"><span class="pre">LLHRatioZeroNsTaylorWilksTestStatistic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ns_param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ns'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.test_statistic.TestStatistic" title="skyllh.core.test_statistic.TestStatistic"><code class="xref py py-class docutils literal notranslate"><span class="pre">TestStatistic</span></code></a></p>
<p>Similar to the TestStatisticWilks class, this class implements the
standard Wilks theorem test-statistic function. But for zero ns values, the
log-likelihood ratio function is taylored up to second order and the
resulting apex is used as log_lambda value. Hence, the TS function is
defined as:</p>
<div class="math notranslate nohighlight">
\[TS = 2 \text{sign}(\hat{n}_{\text{s}}) \log \left(
\frac{\mathcal{L}(\hat{\vec{p}})}{\mathcal{L}(n_{\text{s}} = 0)} \right)\]</div>
<p>for <span class="math notranslate nohighlight">\(\hat{n}_{\text{s}} \neq 0\)</span>, and</p>
<div class="math notranslate nohighlight">
\[TS = -2 \frac{a^2}{4b}\]</div>
<p>for <span class="math notranslate nohighlight">\(\hat{n}_{\text{s}} = 0\)</span>, with</p>
<div class="math notranslate nohighlight">
\[a = \frac{\text{d}}{\text{d}n_{\text{s}}} \left(
\frac{\mathcal{L}(\hat{\vec{p}})}{\mathcal{L}(n_{\text{s}} = 0)} \right)\]</div>
<p>being the derivative w.r.t. <span class="math notranslate nohighlight">\(n_{\text{s}}\)</span> of the log-likelihood ratio
function, and</p>
<div class="math notranslate nohighlight">
\[b = \frac{\text{d}a}{\text{d}n_{\text{s}}}\]</div>
<p>being its second derivative w.r.t. ns.</p>
<p>Constructs the test-statistic function instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ns_param_name</strong> (<em>str</em>) – The name of the global fit parameter for the number of signal
events in the detector, ns.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.ns_param_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ns_param_name</span></span><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.ns_param_name" title="Link to this definition"></a></dt>
<dd><p>(read-only) The name of the global fit parameter for the number of
signal events in the detector, ns.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fitparam_values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llhratio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grads</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__call__" title="Link to this definition"></a></dt>
<dd><p>Evaluates the test-statistic function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The ParameterModelMapper instance that defines the global
parameter set.</p></li>
<li><p><strong>log_lambda</strong> (<em>float</em>) – The value of the log-likelihood ratio function. Usually, this is its
maximum.</p></li>
<li><p><strong>fitparam_values</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the
global fit parameter values of the log-likelihood ratio
function for the given log_lambda value.</p></li>
<li><p><strong>llhratio</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.llhratio.LLHRatio" title="skyllh.core.llhratio.LLHRatio"><em>LLHRatio</em></a>) – The log-likelihood ratio function, which should be used for the
test-statistic function.</p></li>
<li><p><strong>grads</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_fitparam,)-shaped 1D numpy ndarray holding the
values of the first derivative of the log-likelihood ratio function
w.r.t. each global fit parameter.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional instance of TimeLord to measure timing information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TS</strong> (<em>float</em>) – The calculated test-statistic value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">124</span></em><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_ns_param_name',)</span></em><a class="headerlink" href="#skyllh.core.test_statistic.LLHRatioZeroNsTaylorWilksTestStatistic.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.times">
<span id="skyllh-core-times-module"></span><h2>skyllh.core.times module<a class="headerlink" href="#module-skyllh.core.times" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.times.</span></span><span class="sig-name descname"><span class="pre">TimeGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.TimeGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class (type) for implementing a method to generate times.</p>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerationMethod.generate_times">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.TimeGenerationMethod.generate_times" title="Link to this definition"></a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">generate_times</span></code> method implements the actual generation of
times, which is method dependent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of times that should get generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>times</strong> (<em>ndarray</em>) – The 1d numpy ndarray holding the generated times.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#skyllh.core.times.TimeGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.times.TimeGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.times.</span></span><span class="sig-name descname"><span class="pre">LivetimeTimeGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">livetime</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.core.times.TimeGenerationMethod" title="skyllh.core.times.TimeGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimeGenerationMethod</span></code></a></p>
<p>The LivetimeTimeGenerationMethod provides the method to generate times
from a Livetime object. It will uniformely generate times that will coincide
with the on-time intervals of the detector, by calling the <cite>draw_ontimes</cite>
method of the Livetime class.</p>
<p>Creates a new LivetimeTimeGeneration instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>livetime</strong> (<a class="reference internal" href="#skyllh.core.livetime.Livetime" title="skyllh.core.livetime.Livetime"><em>Livetime</em></a>) – The Livetime instance that should be used to generate times from.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod.livetime">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">livetime</span></span><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod.livetime" title="Link to this definition"></a></dt>
<dd><p>The Livetime instance used to draw times from.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod.generate_times">
<span class="sig-name descname"><span class="pre">generate_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod.generate_times" title="Link to this definition"></a></dt>
<dd><p>Generates <cite>size</cite> MJD times according to the detector on-times
provided by the Livetime instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number
generator (RNG).</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of times that should get generated.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>times</strong> (<em>ndarray</em>) – The 1d (<cite>size</cite>,)-shaped numpy ndarray holding the generated times.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">43</span></em><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.LivetimeTimeGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_livetime',</span> <span class="pre">'livetime')</span></em><a class="headerlink" href="#skyllh.core.times.LivetimeTimeGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.times.</span></span><span class="sig-name descname"><span class="pre">TimeGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.TimeGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates a time generator instance with a given defined time
generation method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.times.TimeGenerationMethod" title="skyllh.core.times.TimeGenerationMethod"><em>TimeGenerationMethod</em></a>) – The instance of TimeGenerationMethod that defines the method of
generating times.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">106</span></em><a class="headerlink" href="#skyllh.core.times.TimeGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_method',</span> <span class="pre">'method')</span></em><a class="headerlink" href="#skyllh.core.times.TimeGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerator.method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">method</span></span><a class="headerlink" href="#skyllh.core.times.TimeGenerator.method" title="Link to this definition"></a></dt>
<dd><p>The TimeGenerationMethod object that should be used to generate
the times.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.times.TimeGenerator.generate_times">
<span class="sig-name descname"><span class="pre">generate_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.times.TimeGenerator.generate_times" title="Link to this definition"></a></dt>
<dd><p>Generates <code class="docutils literal notranslate"><span class="pre">size</span></code> amount of times by calling the <code class="docutils literal notranslate"><span class="pre">generate_times</span></code>
method of the TimeGenerationMethod class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The random state service providing the random number generator
(RNG).</p></li>
<li><p><strong>size</strong> (<em>int</em>) – The number of time that should get generated.</p></li>
<li><p><strong>**kwargs</strong> – Additional keyword arguments are passed to the <code class="docutils literal notranslate"><span class="pre">generate_times</span></code>
method of the TimeGenerationMethod class.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>times</strong> (<em>ndarray</em>) – The 1d (<code class="docutils literal notranslate"><span class="pre">size</span></code>,)-shaped ndarray holding the generated times.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.timing">
<span id="skyllh-core-timing-module"></span><h2>skyllh.core.timing module<a class="headerlink" href="#module-skyllh.core.timing" title="Link to this heading"></a></h2>
<p>The timing module provides code execution timing functionalities. The
TimeLord class keeps track of execution times of specific code segments,
called “tasks”. The TaskTimer class can be used within a <cite>with</cite>
statement to time the execution of the code within the <cite>with</cite> block.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.timing.</span></span><span class="sig-name descname"><span class="pre">TaskRecord</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_times</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TaskRecord" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates a new TaskRecord instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the task.</p></li>
<li><p><strong>start_times</strong> (<em>list</em><em> of </em><em>float</em>) – The start times of the task in seconds.</p></li>
<li><p><strong>end_times</strong> (<em>list</em><em> of </em><em>float</em>) – The end times of the task in seconds.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.tstart">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tstart</span></span><a class="headerlink" href="#skyllh.core.timing.TaskRecord.tstart" title="Link to this definition"></a></dt>
<dd><p>(read-only) The time stamps the execution of this task started.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.tend">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tend</span></span><a class="headerlink" href="#skyllh.core.timing.TaskRecord.tend" title="Link to this definition"></a></dt>
<dd><p>(read-only) The time stamps the execution of this task was stopped.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.duration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#skyllh.core.timing.TaskRecord.duration" title="Link to this definition"></a></dt>
<dd><p>(read-only) The total duration (without time overlap) the task was
executed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.niter">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">niter</span></span><a class="headerlink" href="#skyllh.core.timing.TaskRecord.niter" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of times this task was executed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TaskRecord.join" title="Link to this definition"></a></dt>
<dd><p>Joins this TaskRecord with the given TaskRecord instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TaskRecord" title="skyllh.core.timing.TaskRecord"><em>TaskRecord</em></a>) – The instance of TaskRecord that should be joined with this
TaskRecord instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#skyllh.core.timing.TaskRecord.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskRecord.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_end_times',</span> <span class="pre">'_start_times',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.timing.TaskRecord.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.timing.</span></span><span class="sig-name descname"><span class="pre">TimeLord</span></span><a class="headerlink" href="#skyllh.core.timing.TimeLord" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.task_name_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">task_name_list</span></span><a class="headerlink" href="#skyllh.core.timing.TimeLord.task_name_list" title="Link to this definition"></a></dt>
<dd><p>(read-only) The list of task names.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.add_task_record">
<span class="sig-name descname"><span class="pre">add_task_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TimeLord.add_task_record" title="Link to this definition"></a></dt>
<dd><p>Adds a given task record to the internal list of task records.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.get_task_record">
<span class="sig-name descname"><span class="pre">get_task_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TimeLord.get_task_record" title="Link to this definition"></a></dt>
<dd><p>Retrieves a task record of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the task record.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>task_record</strong> (<em>instance of TaskRecord</em>) – The instance of TaskRecord with the requested name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.has_task_record">
<span class="sig-name descname"><span class="pre">has_task_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TimeLord.has_task_record" title="Link to this definition"></a></dt>
<dd><p>Checks if this TimeLord instance has a task record of the given name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the task record.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if this TimeLord instance has a task record of the given
name, and <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.join">
<span class="sig-name descname"><span class="pre">join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TimeLord.join" title="Link to this definition"></a></dt>
<dd><p>Joins a given TimeLord instance with this TimeLord instance. Tasks
of the same name will be updated and new tasks will be added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The instance of TimeLord whos tasks should be joined with the tasks
of this TimeLord instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.task_timer">
<span class="sig-name descname"><span class="pre">task_timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TimeLord.task_timer" title="Link to this definition"></a></dt>
<dd><p>Creates TaskTimer instance for the given task name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">105</span></em><a class="headerlink" href="#skyllh.core.timing.TimeLord.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TimeLord.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_task_records',</span> <span class="pre">'_task_records_name_idx_map')</span></em><a class="headerlink" href="#skyllh.core.timing.TimeLord.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.timing.</span></span><span class="sig-name descname"><span class="pre">TaskTimer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time_lord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TaskTimer" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time_lord</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a>) – The TimeLord instance that keeps track of the recorded tasks.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the task.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.time_lord">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">time_lord</span></span><a class="headerlink" href="#skyllh.core.timing.TaskTimer.time_lord" title="Link to this definition"></a></dt>
<dd><p>The TimeLord instance that keeps track of the recorded tasks. This
can be None, which means that the task should not get recorded.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">230</span></em><a class="headerlink" href="#skyllh.core.timing.TaskTimer.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_end',</span> <span class="pre">'_name',</span> <span class="pre">'_start',</span> <span class="pre">'_time_lord',</span> <span class="pre">'name',</span> <span class="pre">'time_lord')</span></em><a class="headerlink" href="#skyllh.core.timing.TaskTimer.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.timing.TaskTimer.name" title="Link to this definition"></a></dt>
<dd><p>The name if the task.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.duration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">duration</span></span><a class="headerlink" href="#skyllh.core.timing.TaskTimer.duration" title="Link to this definition"></a></dt>
<dd><p>The duration in seconds the task was executed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.__enter__">
<span class="sig-name descname"><span class="pre">__enter__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TaskTimer.__enter__" title="Link to this definition"></a></dt>
<dd><p>This gets executed when entering the <cite>with</cite> block.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.timing.TaskTimer.__exit__">
<span class="sig-name descname"><span class="pre">__exit__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">traceback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.timing.TaskTimer.__exit__" title="Link to this definition"></a></dt>
<dd><p>This gets executed when exiting the <cite>with</cite> block.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.tool">
<span id="skyllh-core-tool-module"></span><h2>skyllh.core.tool module<a class="headerlink" href="#module-skyllh.core.tool" title="Link to this heading"></a></h2>
<p>The tool module provides functionality to interface with an optional external
python package (tool). The tool can be imported dynamically at run-time when
needed.</p>
<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.tool.assert_tool_version">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.tool.</span></span><span class="sig-name descname"><span class="pre">assert_tool_version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.tool.assert_tool_version" title="Link to this definition"></a></dt>
<dd><p>Asserts the required version of the tool. The tool module must have the
attribute <code class="docutils literal notranslate"><span class="pre">__version__</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tool</strong> (<em>str</em>) – The name of the tool.</p></li>
<li><p><strong>version</strong> (<em>str</em>) – The required version of the tool in the format <code class="docutils literal notranslate"><span class="pre">&quot;&lt;COMP&gt;X.Y.Z&quot;</span></code>, where
<code class="docutils literal notranslate"><span class="pre">&lt;COMP&gt;</span></code> is one of <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, and <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ImportError</strong> – If the version of the tool does not match the requirements.</p></li>
<li><p><strong>KeyError</strong> – If the tool module has no attribute named <code class="docutils literal notranslate"><span class="pre">__version__</span></code>.</p></li>
<li><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">&lt;COMP&gt;</span></code> is not supported.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.tool.is_available">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.tool.</span></span><span class="sig-name descname"><span class="pre">is_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.tool.is_available" title="Link to this definition"></a></dt>
<dd><p>Checks if the given Python package is available for import.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the Python package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given Python package is available, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ModuleNotFoundError</strong> – If the package is not a Python package, i.e. lacks a __path__ attribute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.tool.get">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.tool.</span></span><span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.tool.get" title="Link to this definition"></a></dt>
<dd><p>Returns the module object of the given tool. This will import the Python
package if it was not yet imported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the Python package.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>module</strong> (<em>Python module</em>) – The (imported) Python module object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="skyllh.core.tool.requires">
<span class="sig-prename descclassname"><span class="pre">skyllh.core.tool.</span></span><span class="sig-name descname"><span class="pre">requires</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">tools</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.tool.requires" title="Link to this definition"></a></dt>
<dd><p>This is decorator function that can be used whenever a function requires
optional tools.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*tools</strong> (<em>sequence</em><em> of </em><em>str</em><em> | </em><em>sequence</em><em> of </em><em>(</em><em>str</em><em>, </em><em>str</em><em>)</em>) – The name(s) of the required Python packages.
If a 2-element tuple of (str, str) is provided for a tool, the first
element specifies the name of the tool and the second element its
version of the form <code class="docutils literal notranslate"><span class="pre">&quot;&lt;COMP&gt;X.Y.Z&quot;</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;COMP&gt;</span></code> is one of
<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>, <code class="docutils literal notranslate"><span class="pre">==</span></code>, and <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ModuleNotFoundError</strong> – If any of the specified tools is not available.</p></li>
<li><p><strong>ImportError</strong> – If the version of a tool does not meet the requirements.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-skyllh.core.trialdata">
<span id="skyllh-core-trialdata-module"></span><h2>skyllh.core.trialdata module<a class="headerlink" href="#module-skyllh.core.trialdata" title="Link to this heading"></a></h2>
<p>The trialdata module of SkyLLH provides a trial data manager class that
manages the data of an analysis trial. It provides also possible additional data
fields and their calculation, which are required by the particular analysis.
The rational behind this manager is to compute data fields only once, which can
then be used by different analysis objects, like PDF objects.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.trialdata.</span></span><span class="sig-name descname"><span class="pre">DataField</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_fitparam_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_src_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_srcevt_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.DataField" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class defines a data field and its calculation that is used by an
Analysis class instance. The calculation is defined through an external
function.</p>
<p>Creates a new instance of DataField that might depend on fit
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the data field. It serves as the identifier for the
data field.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that calculates the values of this data field. The call
signature must be</p>
<blockquote>
<div><p>__call__(tdm, shg_mgr, pmm, global_fitparams_dict=None)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">tdm</span></code> is the instance of TrialDataManager holding the trial
event data, <code class="docutils literal notranslate"><span class="pre">shg_mgr</span></code> is the instance of SourceHypoGroupManager,
<code class="docutils literal notranslate"><span class="pre">pmm</span></code> is the instance of ParameterModelMapper, and
<code class="docutils literal notranslate"><span class="pre">global_fitparams_dict</span></code> is the dictionary with the current global
fit parameter names and values.</p>
</p></li>
<li><p><strong>global_fitparam_names</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of str instances specifying the names of the global fit
parameters this data field depends on. If set to None, the data
field does not depend on any fit parameters.</p></li>
<li><p><strong>dt</strong> (<em>numpy dtype</em><em> | </em><em>str</em><em> | </em><em>None</em>) – If specified it defines the data type this data field should have.
If a str instance is given, it defines the name of the data field
whose data type should be taken for this data field.</p></li>
<li><p><strong>is_src_field</strong> (<em>bool</em>) – Flag if this data field is a source data field (<code class="docutils literal notranslate"><span class="pre">True</span></code>) and values
should be stored within this DataField instance, instead of the
events DataFieldRecordArray instance of the TrialDataManager
(<code class="docutils literal notranslate"><span class="pre">False</span></code>).</p></li>
<li><p><strong>is_srcevt_data</strong> (<em>bool</em>) – Flag if the data field will hold source-event data, i.e. data of
length N_values. In that case the data cannot be stored within the
events attribute of the TrialDataManager, but must be stored in the
values attribute of this DataField instance.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#skyllh.core.trialdata.DataField.name" title="Link to this definition"></a></dt>
<dd><p>The name of the data field.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.func">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func</span></span><a class="headerlink" href="#skyllh.core.trialdata.DataField.func" title="Link to this definition"></a></dt>
<dd><p>The function that calculates the data field values.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.dt">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dt</span></span><a class="headerlink" href="#skyllh.core.trialdata.DataField.dt" title="Link to this definition"></a></dt>
<dd><p>The numpy dtype object defining the data type of this data field.
A str instance defines the name of the data field whose data type should
be taken for this data field.
It is None, if there is no explicit data type defined for this data
field.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.is_srcevt_data">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_srcevt_data</span></span><a class="headerlink" href="#skyllh.core.trialdata.DataField.is_srcevt_data" title="Link to this definition"></a></dt>
<dd><p>(read-only) Flag if the data field contains source-event data, i.e.
is of length N_values.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.values">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">values</span></span><a class="headerlink" href="#skyllh.core.trialdata.DataField.values" title="Link to this definition"></a></dt>
<dd><p>(read-only) The calculated data values of the data field.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">31</span></em><a class="headerlink" href="#skyllh.core.trialdata.DataField.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.trialdata.DataField.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_dt',</span> <span class="pre">'_func',</span> <span class="pre">'_global_fitparam_name_list',</span> <span class="pre">'_global_fitparam_value_list',</span> <span class="pre">'_is_srcevt_data',</span> <span class="pre">'_name',</span> <span class="pre">'_values',</span> <span class="pre">'calculate',</span> <span class="pre">'dt',</span> <span class="pre">'func',</span> <span class="pre">'name')</span></em><a class="headerlink" href="#skyllh.core.trialdata.DataField.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.trialdata.</span></span><span class="sig-name descname"><span class="pre">TrialDataManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index_field_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The TrialDataManager class manages the event data for an analysis trial.
It provides possible additional data fields and their calculation.
New data fields can be defined via the <a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager.add_data_field" title="skyllh.core.trialdata.TrialDataManager.add_data_field"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_data_field()</span></code></a> method.
Whenever a new trial is being initialized the data fields get re-calculated.
The data trial manager is provided to the PDF evaluation method.
Hence, data fields are calculated only once.</p>
<p>Creates a new TrialDataManager instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>index_field_name</strong> (<em>str</em><em> | </em><em>None</em>) – The name of the field that should be used as primary index field.
If provided, the events will be sorted along this data field. This
might be useful for run-time performance.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.index_field_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">index_field_name</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.index_field_name" title="Link to this definition"></a></dt>
<dd><p>The name of the primary index data field. If not None, events will
be sorted by this data field.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">events</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.events" title="Link to this definition"></a></dt>
<dd><p>The DataFieldRecordArray instance holding the data events, which
should get evaluated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.has_global_fitparam_data_fields">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">has_global_fitparam_data_fields</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.has_global_fitparam_data_fields" title="Link to this definition"></a></dt>
<dd><p>(read-only) <code class="docutils literal notranslate"><span class="pre">True</span></code> if the TrialDataManager has global fit parameter
data fields defined, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.n_sources">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_sources</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.n_sources" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of sources. This information is taken from
the source hypo group manager when a new trial is initialized.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.n_events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_events</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.n_events" title="Link to this definition"></a></dt>
<dd><p>The total number of events of the dataset this trial data manager
corresponds to.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.n_selected_events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_selected_events</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.n_selected_events" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of selected events which should get evaluated.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.n_pure_bkg_events">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_pure_bkg_events</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.n_pure_bkg_events" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of pure background events, which are not part
of the trial data, but must be considered for the test-statistic value.
It is the difference of n_events and n_selected_events.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.src_evt_idxs">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">src_evt_idxs</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.src_evt_idxs" title="Link to this definition"></a></dt>
<dd><p>(read-only) The 2-tuple holding the source indices and event indices
1d ndarray arrays. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, indicating that all trial data
events should be considered for all sources.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.trial_data_state_id">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">trial_data_state_id</span></span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.trial_data_state_id" title="Link to this definition"></a></dt>
<dd><p>(read-only) The integer ID number of the trial data. This ID number
can be used to determine when the trial data has changed its state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.__contains__">
<span class="sig-name descname"><span class="pre">__contains__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.__contains__" title="Link to this definition"></a></dt>
<dd><p>Checks if the given data field is defined in this data field manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – True if the data field is defined in this data field manager,
False otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.__getitem__" title="Link to this definition"></a></dt>
<dd><p>Implements the evaluation of <code class="docutils literal notranslate"><span class="pre">self[name]</span></code> to access data fields.
This method calls the <a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager.get_data" title="skyllh.core.trialdata.TrialDataManager.get_data"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_data()</span></code></a> method of this class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.broadcast_sources_array_to_values_array">
<span class="sig-name descname"><span class="pre">broadcast_sources_array_to_values_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.broadcast_sources_array_to_values_array" title="Link to this definition"></a></dt>
<dd><p>Broadcasts the given 1d numpy ndarray of length 1 or N_sources to a
numpy ndarray of length N_values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>instance</em><em> of </em><em>ndarray</em>) – The (N_sources,)- or (1,)-shaped numpy ndarray holding values for
each source.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out_arr</strong> (<em>instance of ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the source values
broadcasted to each event value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.broadcast_sources_arrays_to_values_arrays">
<span class="sig-name descname"><span class="pre">broadcast_sources_arrays_to_values_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arrays</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.broadcast_sources_arrays_to_values_arrays" title="Link to this definition"></a></dt>
<dd><p>Broadcasts the 1d numpy ndarrays to the values array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arrays</strong> (<em>sequence</em><em> of </em><em>numpy 1d ndarrays</em>) – The sequence of (N_sources,)-shaped numpy ndarrays holding the
parameter values.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out_arrays</strong> (<em>list of numpy 1d ndarrays</em>) – The list of (N_values,)-shaped numpy ndarrays holding the
broadcasted array values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.broadcast_selected_events_arrays_to_values_arrays">
<span class="sig-name descname"><span class="pre">broadcast_selected_events_arrays_to_values_arrays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arrays</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.broadcast_selected_events_arrays_to_values_arrays" title="Link to this definition"></a></dt>
<dd><p>Broadcasts the given arrays of length N_selected_events to arrays
of length N_values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arrays</strong> (<em>sequence</em><em> of </em><em>instance</em><em> of </em><em>ndarray</em>) – The sequence of instance of ndarray with the arrays to be
broadcasted.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>out_arrays</strong> (<em>list of instance of ndarray</em>) – The list of broadcasted numpy ndarray instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>This method is called when the source hypothesis group manager has
changed. Hence, the source data fields need to get recalculated.</p>
<p>After calling this method, a new trial should be initialized via the
<a class="reference internal" href="#skyllh.core.trialdata.TrialDataManager.initialize_trial" title="skyllh.core.trialdata.TrialDataManager.initialize_trial"><code class="xref py py-meth docutils literal notranslate"><span class="pre">initialize_trial()</span></code></a> method!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the source
hypothesis groups.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper that defines the global
parameters and their mapping to local source parameter.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.initialize_trial">
<span class="sig-name descname"><span class="pre">initialize_trial</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">events</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_events</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evt_sel_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.initialize_trial" title="Link to this definition"></a></dt>
<dd><p>Initializes the trial data manager for a new trial. It sets the raw
events, calculates pre-event-selection data fields, performs a possible
event selection and calculates the static data fields for the left-over
events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the source
hypothesis groups.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper, that defines the global
parameters and their mapping to local source parameters.</p></li>
<li><p><strong>events</strong> (<em>DataFieldRecordArray instance</em>) – The DataFieldRecordArray instance holding the entire raw events.</p></li>
<li><p><strong>n_events</strong> (<em>int</em><em> | </em><em>None</em>) – The total number of events of the data set this trial data manager
corresponds to.
If None, the number of events is taken from the number of events
present in the <code class="docutils literal notranslate"><span class="pre">events</span></code> array.</p></li>
<li><p><strong>evt_sel_method</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.event_selection.EventSelectionMethod" title="skyllh.core.event_selection.EventSelectionMethod"><em>EventSelectionMethod</em></a><em> | </em><em>None</em>) – The optional event selection method that should be used to select
potential signal events.</p></li>
<li><p><strong>tl</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.timing.TimeLord" title="skyllh.core.timing.TimeLord"><em>TimeLord</em></a><em> | </em><em>None</em>) – The optional TimeLord instance that should be used for timing
measurements.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.get_n_values">
<span class="sig-name descname"><span class="pre">get_n_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.get_n_values" title="Link to this definition"></a></dt>
<dd><p>Returns the expected size of the values array after a PDF
evaluation, which will include PDF values for all trial data events and
all sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em>) – The length of the expected values array after a PDF evaluation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">384</span></em><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_events',</span> <span class="pre">'_global_fitparam_data_fields_dict',</span> <span class="pre">'_index_field_name',</span> <span class="pre">'_n_events',</span> <span class="pre">'_n_sources',</span> <span class="pre">'_pre_evt_sel_static_data_fields_dict',</span> <span class="pre">'_source_data_fields_dict',</span> <span class="pre">'_src_evt_idxs',</span> <span class="pre">'_static_data_fields_dict',</span> <span class="pre">'_trial_data_state_id',</span> <span class="pre">'events',</span> <span class="pre">'index_field_name',</span> <span class="pre">'n_events')</span></em><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.get_values_mask_for_source_mask">
<span class="sig-name descname"><span class="pre">get_values_mask_for_source_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_mask</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.get_values_mask_for_source_mask" title="Link to this definition"></a></dt>
<dd><p>Creates a boolean mask for the values array where entries belonging
to the sources given by the source mask are selected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_mask</strong> (<em>instance</em><em> of </em><em>numpy ndarray</em>) – The (N_sources,)-shaped numpy ndarray holding the boolean selection
of the sources.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>values_mask</strong> (<em>instance of numpy ndarray</em>) – The (N_values,)-shaped numpy ndarray holding the boolean selection
of the values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.add_source_data_field">
<span class="sig-name descname"><span class="pre">add_source_data_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.add_source_data_field" title="Link to this definition"></a></dt>
<dd><p>Adds a new data field to the manager. The data field must depend
solely on source parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the data field. It serves as the identifier for the
data field.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that calculates the data field values. The call
signature must be</p>
<blockquote>
<div><p>__call__(tdm, shg_mgr, pmm)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">tdm</span></code> is the TrialDataManager instance holding the event
data, <code class="docutils literal notranslate"><span class="pre">shg_mgr</span></code> is the instance of SourceHypoGroupManager,
and <code class="docutils literal notranslate"><span class="pre">pmm</span></code> is the instance of ParameterModelMapper.</p>
</p></li>
<li><p><strong>dt</strong> (<em>numpy dtype</em><em> | </em><em>str</em><em> | </em><em>None</em>) – If specified it defines the data type this data field should have.
If a str instance is given, it defines the name of the data field
whose data type should be taken for the data field.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.add_data_field">
<span class="sig-name descname"><span class="pre">add_data_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_fitparam_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pre_evt_sel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_srcevt_data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.add_data_field" title="Link to this definition"></a></dt>
<dd><p>Adds a new data field to the manager.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the data field. It serves as the identifier for the
data field.</p></li>
<li><p><strong>func</strong> (<em>callable</em>) – <p>The function that calculates the data field values. The call
signature must be</p>
<blockquote>
<div><p>__call__(tdm, shg_mgr, pmm, global_fitparams_dict=None)</p>
</div></blockquote>
<p>where <code class="docutils literal notranslate"><span class="pre">tdm</span></code> is the TrialDataManager instance holding the trial
event data, <code class="docutils literal notranslate"><span class="pre">shg_mgr</span></code> is the instance of SourceHypoGroupManager,
<code class="docutils literal notranslate"><span class="pre">pmm</span></code> is the instance of ParameterModelMapper, and
<code class="docutils literal notranslate"><span class="pre">global_fitparams_dict</span></code> is the dictionary with the current global
fit parameter names and values.
The shape of the returned array must be (N_selected_events,).</p>
</p></li>
<li><p><strong>global_fitparam_names</strong> (<em>str</em><em> | </em><em>sequence</em><em> of </em><em>str</em><em> | </em><em>None</em>) – The sequence of str instances specifying the names of the global fit
parameters this data field depends on. If set to <code class="docutils literal notranslate"><span class="pre">None</span></code>, it means
that the data field does not depend on any fit parameters.</p></li>
<li><p><strong>dt</strong> (<em>numpy dtype</em><em> | </em><em>str</em><em> | </em><em>None</em>) – If specified it defines the data type this data field should have.
If a str instance is given, it defines the name of the data field
whose data type should be taken for the data field.</p></li>
<li><p><strong>pre_evt_sel</strong> (<em>bool</em>) – Flag if this data field should get calculated before potential
signal events get selected (True), or afterwards (False).
Default is False.</p></li>
<li><p><strong>is_srcevt_data</strong> (<em>bool</em>) – Flag if this data field contains source-event data, hence the length
of the data array will be N_values.
Default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.calculate_source_data_fields">
<span class="sig-name descname"><span class="pre">calculate_source_data_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.calculate_source_data_fields" title="Link to this definition"></a></dt>
<dd><p>Calculates the data values of the data fields that solely depend on
source parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper, that defines the global
parameters and their mapping to local source parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.calculate_pre_evt_sel_static_data_fields">
<span class="sig-name descname"><span class="pre">calculate_pre_evt_sel_static_data_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.calculate_pre_evt_sel_static_data_fields" title="Link to this definition"></a></dt>
<dd><p>Calculates the data values of the data fields that should be
available for the event selection method and do not depend on any fit
parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper, that defines the global
parameters and their mapping to local source parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.calculate_static_data_fields">
<span class="sig-name descname"><span class="pre">calculate_static_data_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.calculate_static_data_fields" title="Link to this definition"></a></dt>
<dd><p>Calculates the data values of the data fields that do not depend on
any source or fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper, that defines the global
parameters and their mapping to local source parameters.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.calculate_global_fitparam_data_fields">
<span class="sig-name descname"><span class="pre">calculate_global_fitparam_data_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pmm</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">global_fitparams_dict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.calculate_global_fitparam_data_fields" title="Link to this definition"></a></dt>
<dd><p>Calculates the data values of the data fields that depend on global
fit parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager, which defines the groups of
source hypotheses.</p></li>
<li><p><strong>pmm</strong> (<em>instance</em><em> of </em><a class="reference internal" href="#skyllh.core.parameters.ParameterModelMapper" title="skyllh.core.parameters.ParameterModelMapper"><em>ParameterModelMapper</em></a>) – The instance of ParameterModelMapper, that defines the global
parameters and their mapping to local source parameters.</p></li>
<li><p><strong>global_fitparams_dict</strong> (<em>dict</em>) – The dictionary holding the current global fit parameter names and
values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.get_data" title="Link to this definition"></a></dt>
<dd><p>Gets the data for the given data field name. The data is stored
either in the raw events DataFieldRecordArray or in one of the
additional defined data fields. Data from the raw events
DataFieldRecordArray is prefered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field for which to retrieve the data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>data</strong> (<em>instance of numpy ndarray</em>) – The numpy ndarray holding the data of the requested data field.
The length of the array is either N_sources, N_selected_events, or
N_values.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given data field is not defined.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.get_dtype">
<span class="sig-name descname"><span class="pre">get_dtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.get_dtype" title="Link to this definition"></a></dt>
<dd><p>Gets the data type of the given data field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field whose data type should get retrieved.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>dt</strong> (<em>numpy dtype</em>) – The numpy dtype object of the given data field.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the given data field is not defined.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.is_event_data_field">
<span class="sig-name descname"><span class="pre">is_event_data_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.is_event_data_field" title="Link to this definition"></a></dt>
<dd><p>Checks if the given data field is an events data field, i.e. its
length is N_selected_events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given data field contains event data, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.is_source_data_field">
<span class="sig-name descname"><span class="pre">is_source_data_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.is_source_data_field" title="Link to this definition"></a></dt>
<dd><p>Checks if the given data field is a source data field, i.e. its
length is N_sources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given data field contains source data, <code class="docutils literal notranslate"><span class="pre">False</span></code>
otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.core.trialdata.TrialDataManager.is_srcevt_data_field">
<span class="sig-name descname"><span class="pre">is_srcevt_data_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.trialdata.TrialDataManager.is_srcevt_data_field" title="Link to this definition"></a></dt>
<dd><p>Checks if the given data field is a source-event data field, i.e. its
length is N_values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the data field.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>check</strong> (<em>bool</em>) – <code class="docutils literal notranslate"><span class="pre">True</span></code> if the given data field contains source-event data,
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.core.types">
<span id="skyllh-core-types-module"></span><h2>skyllh.core.types module<a class="headerlink" href="#module-skyllh.core.types" title="Link to this heading"></a></h2>
<p>This modules defines base types for some of the SkyLLH classes to avoid
circular imports when actively checking for types.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.core.types.SourceHypoGroup_t">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.core.types.</span></span><span class="sig-name descname"><span class="pre">SourceHypoGroup_t</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.core.types.SourceHypoGroup_t" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.types.SourceHypoGroup_t.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.core.types.SourceHypoGroup_t.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.types.SourceHypoGroup_t.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">8</span></em><a class="headerlink" href="#skyllh.core.types.SourceHypoGroup_t.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.core.types.SourceHypoGroup_t.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.core.types.SourceHypoGroup_t.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skyllh.cluster.html" class="btn btn-neutral float-left" title="skyllh.cluster package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="skyllh.core.minimizers.html" class="btn btn-neutral float-right" title="skyllh.core.minimizers package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The IceCube Collaboration, T. Kontrimas, M. Wolf.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: fix169_fix203
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../../master/html/index.html">master</a></dd>
      <dd><a href="../../../coords/html/index.html">coords</a></dd>
      <dd><a href="../../../data_release/html/index.html">data_release</a></dd>
      <dd><a href="../../../dm/html/index.html">dm</a></dd>
      <dd><a href="skyllh.core.html">fix169_fix203</a></dd>
      <dd><a href="../../../fix230/html/index.html">fix230</a></dd>
      <dd><a href="../../../llh_module/html/index.html">llh_module</a></dd>
      <dd><a href="../../../signal_gen_method/html/index.html">signal_gen_method</a></dd>
      <dd><a href="../../../stack_public/html/index.html">stack_public</a></dd>
    </dl>
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../v19_09_15/html/index.html">v19_09_15</a></dd>
      <dd><a href="../../../v20_01_09/html/index.html">v20_01_09</a></dd>
      <dd><a href="../../../v20_03_12/html/index.html">v20_03_12</a></dd>
      <dd><a href="../../../v20_11_02/html/index.html">v20_11_02</a></dd>
      <dd><a href="../../../v21_10_18_temp/html/index.html">v21_10_18_temp</a></dd>
      <dd><a href="../../../v21_10_20/html/index.html">v21_10_20</a></dd>
      <dd><a href="../../../v22_04_28/html/index.html">v22_04_28</a></dd>
      <dd><a href="../../../v22_04_28a/html/index.html">v22_04_28a</a></dd>
      <dd><a href="../../../v23.0.0/html/index.html">v23.0.0</a></dd>
      <dd><a href="../../../v23.1.0/html/index.html">v23.1.0</a></dd>
      <dd><a href="../../../v23.1.1/html/index.html">v23.1.1</a></dd>
      <dd><a href="../../../v23.2.0/html/index.html">v23.2.0</a></dd>
      <dd><a href="../../../v23.2.1/html/index.html">v23.2.1</a></dd>
      <dd><a href="../../../v23.2.1.rc1/html/index.html">v23.2.1.rc1</a></dd>
      <dd><a href="../../../v24.1.0/html/index.html">v24.1.0</a></dd>
      <dd><a href="../../../v24.1.1a/html/index.html">v24.1.1a</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>