

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>skyllh.p1 package &mdash; SkyLLH  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="skyllh.plotting package" href="skyllh.plotting.html" />
    <link rel="prev" title="skyllh.i3.utils package" href="skyllh.i3.utils.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SkyLLH
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently Ask Questions (FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="skyllh.html">skyllh package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="skyllh.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="skyllh.analyses.html">skyllh.analyses package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.cluster.html">skyllh.cluster package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.core.html">skyllh.core package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.datasets.html">skyllh.datasets package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.i3.html">skyllh.i3 package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">skyllh.p1 package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.p1.detector_model">skyllh.p1.detector_model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.p1.signal_generation">skyllh.p1.signal_generation module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-skyllh.p1.signal_generator">skyllh.p1.signal_generator module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.plotting.html">skyllh.plotting package</a></li>
<li class="toctree-l3"><a class="reference internal" href="skyllh.scripting.html">skyllh.scripting package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../notes.html">Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_docs/unit_tests.html">Unit tests</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SkyLLH</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="skyllh.html">skyllh package</a></li>
      <li class="breadcrumb-item active">skyllh.p1 package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/reference/skyllh.p1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-skyllh.p1">
<span id="skyllh-p1-package"></span><h1>skyllh.p1 package<a class="headerlink" href="#module-skyllh.p1" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-skyllh.p1.detector_model">
<span id="skyllh-p1-detector-model-module"></span><h2>skyllh.p1.detector_model module<a class="headerlink" href="#module-skyllh.p1.detector_model" title="Link to this heading"></a></h2>
<p>This module defines the P-ONE detector model class.</p>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.p1.detector_model.PONEDetectorModel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.p1.detector_model.</span></span><span class="sig-name descname"><span class="pre">PONEDetectorModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.detector_model.PONEDetectorModel" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.model.DetectorModel" title="skyllh.core.model.DetectorModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">DetectorModel</span></code></a></p>
<p>Definition of the P-ONE detector.</p>
<p>For the time being we use the position of STRAW-a. As depth we use the sea
floor at -2658m and a detector half height of 500m.</p>
<p>Creates a new DetectorModel instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the detector model.</p></li>
<li><p><strong>location</strong> (<em>instance</em><em> of </em><em>astropy.coordinates.EarthLocation</em>) – The Earth location of the detector.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.detector_model.PONEDetectorModel.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.p1.detector_model.PONEDetectorModel.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.detector_model.PONEDetectorModel.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">20</span></em><a class="headerlink" href="#skyllh.p1.detector_model.PONEDetectorModel.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.detector_model.PONEDetectorModel.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#skyllh.p1.detector_model.PONEDetectorModel.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.p1.signal_generation">
<span id="skyllh-p1-signal-generation-module"></span><h2>skyllh.p1.signal_generation module<a class="headerlink" href="#module-skyllh.p1.signal_generation" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.p1.signal_generation.</span></span><span class="sig-name descname"><span class="pre">PointLikeSourceSignalGenerationMethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">equ_to_hor_transform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">band_deg_alt_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">energy_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.signal_generation.SignalGenerationMethod" title="skyllh.core.signal_generation.SignalGenerationMethod"><code class="xref py py-class docutils literal notranslate"><span class="pre">SignalGenerationMethod</span></code></a></p>
<p>This class provides a signal generation method for point-like sources
seen in the IceCube detector.</p>
<p>Constructs a new signal generation method instance for a point-like
source detected with IceCube.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>equ_to_hor_transform</strong> (<em>callable</em>) – <p>The transformation function to transform coordinates from the
equatorial system into the horizontal system.</p>
<p>The call signature must be:</p>
<blockquote>
<div><p>__call__(ra, dec, mjd)</p>
</div></blockquote>
<p>The return signature must be: (azi, alt)</p>
</p></li>
<li><p><strong>band_deg_alt_range</strong> (<em>float</em>) – The width of the alt band to take MC events from around a
source altitude position in AltAz coordinates.</p></li>
<li><p><strong>energy_range</strong> (<em>2-element tuple</em><em> of </em><em>float</em><em> | </em><em>None</em>) – The energy range from which to take MC events into account for
signal event generation.
If set to None, the entire energy range [0, +inf] is used.</p></li>
<li><p><strong>src_batch_size</strong> (<em>int</em>) – The source processing batch size used for the signal event flux
calculation.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.calc_source_signal_mc_event_flux">
<span class="sig-name descname"><span class="pre">calc_source_signal_mc_event_flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_mc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstime</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.calc_source_signal_mc_event_flux" title="Link to this definition"></a></dt>
<dd><p>Calculates the signal flux of each given MC event for each source
hypothesis of the given source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_mc</strong> (<em>numpy record ndarray</em>) – The numpy record array holding the MC events of a dataset.</p></li>
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group, which defines the list of sources, and
their flux model.</p></li>
<li><p><strong>obs_time</strong> (<em>float</em>) – The mjd random observation time from detector livetime drawn
in generate events</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>ev_idx_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the index
of the MC event.</p></li>
<li><p><strong>shg_src_idx_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the index
of the source within the given source hypothesis group for each
signal candidate event.</p></li>
<li><p><strong>flux_arr</strong> (<em>ndarray</em>) – The (N_selected_signal_events,)-shaped 1D ndarray holding the flux
value of each signal candidate event.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.signal_event_post_sampling_processing">
<span class="sig-name descname"><span class="pre">signal_event_post_sampling_processing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obstime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events_meta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shg_sig_events</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.signal_event_post_sampling_processing" title="Link to this definition"></a></dt>
<dd><p>Rotates the generated signal events to their source location for a
given source hypothesis group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg</strong> (<em>SourceHypoGroup instance</em>) – The source hypothesis group instance holding the sources and their
locations.</p></li>
<li><p><strong>shg_sig_events_meta</strong> (<em>numpy record ndarray</em>) – <p>The numpy record ndarray holding meta information about the
generated signal events for the given source hypothesis group.
The length of this array must be the same as shg_sig_events.
It needs to contain the following data fields:</p>
<ul>
<li><dl class="simple">
<dt>’shg_src_idx’: int</dt><dd><p>The source index within the source hypothesis group.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
<li><p><strong>obstime</strong> (<em>float</em>) – The mjd random observation time from detector livetime drawn
in generate events</p></li>
<li><p><strong>shg_sig_events</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray holding the generated signal events for
the given source hypothesis group and in the format of the original
MC events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>shg_sig_events</strong> (<em>numpy record ndarray</em>) – The numpy record ndarray with the processed MC signal events.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">21</span></em><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_band_deg_alt_range',</span> <span class="pre">'_equ_to_hor_transform',</span> <span class="pre">'_src_batch_size',</span> <span class="pre">'band_deg_alt_range',</span> <span class="pre">'equ_to_hor_transform',</span> <span class="pre">'src_batch_size')</span></em><a class="headerlink" href="#skyllh.p1.signal_generation.PointLikeSourceSignalGenerationMethod.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-skyllh.p1.signal_generator">
<span id="skyllh-p1-signal-generator-module"></span><h2>skyllh.p1.signal_generator module<a class="headerlink" href="#module-skyllh.p1.signal_generator" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.p1.signal_generator.</span></span><span class="sig-name descname"><span class="pre">SignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="skyllh.core.html#skyllh.core.config.HasConfig" title="skyllh.core.config.HasConfig"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasConfig</span></code></a></p>
<p>This is the abstract base class for all signal generator classes in
SkyLLH. It defines the interface for a signal generator.</p>
<p>Constructs a new signal generator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The SourceHypoGroupManager instance defining the source hypothesis
groups.</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.shg_mgr">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shg_mgr</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.shg_mgr" title="Link to this definition"></a></dt>
<dd><p>The SourceHypoGroupManager instance defining the source hypothesis
groups.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.create_src_params_recarray">
<span class="sig-name descname"><span class="pre">create_src_params_recarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.create_src_params_recarray" title="Link to this definition"></a></dt>
<dd><p>Creates the src_params_recarray structured ndarray of length
N_sources holding the local source parameter names and values needed for
the calculation of the detector signal yields.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a>) – The instance of SrcDetSigYieldWeightsService providing the product
of the source weights with the detector signal yield.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>src_params_recarray</strong> (<em>instance of numpy structured ndarray</em>) – The structured numpy ndarray of length N_sources, holding the local
parameter names and values of each source needed to calculate the
detector signal yield.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypothesis group manager. Derived classes can
reimplement this method but this method of the base class must still be
called by the derived class.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.generate_signal_events">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_detsigyield_weights_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>This abstract method must be implemented by the derived class to
generate a given number of signal events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>int</em><em> | </em><em>float</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> specifies the actual number
of generated signal events.</p></li>
<li><p><strong>src_detsigyield_weights_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.services.SrcDetSigYieldWeightsService" title="skyllh.core.services.SrcDetSigYieldWeightsService"><em>SrcDetSigYieldWeightsService</em></a><em> | </em><em>None</em>) – The instance of SrcDetSigYieldWeightsService providing the weighting
of the sources within the detector. This can be <code class="docutils literal notranslate"><span class="pre">None</span></code> if this
signal generator does not need this information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">47</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.SignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_shg_mgr',</span> <span class="pre">'shg_mgr')</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.SignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.p1.signal_generator.</span></span><span class="sig-name descname"><span class="pre">MultiDatasetSignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig_generator_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ds_sig_weight_factors_service</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.p1.signal_generator.SignalGenerator" title="skyllh.p1.signal_generator.SignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SignalGenerator</span></code></a></p>
<p>This is a signal generator class handling multiple datasets by using the
individual signal generator instances for each dataset. This is the most
general way to support multiple datasets of different formats and signal
generation.</p>
<p>Constructs a new signal generator handling multiple datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The instance of SourceHypoGroupManager that defines the list of
source hypothesis groups, i.e. the list of sources.</p></li>
<li><p><strong>dataset_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.Dataset" title="skyllh.core.dataset.Dataset"><em>Dataset</em></a>) – The list of instance of Dataset for which signal events should get
generated.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.dataset.DatasetData" title="skyllh.core.dataset.DatasetData"><em>DatasetData</em></a>) – The list of instance of DatasetData holding the actual data of each
dataset. The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
<li><p><strong>sig_generator_list</strong> (<em>list</em><em> of </em><em>instance</em><em> of </em><a class="reference internal" href="#skyllh.p1.signal_generator.SignalGenerator" title="skyllh.p1.signal_generator.SignalGenerator"><em>SignalGenerator</em></a><em> | </em><em>None</em>) – The optional list of instance of SignalGenerator holding
signal generator instances for each individual dataset. This can be
<code class="docutils literal notranslate"><span class="pre">None</span></code> if this signal generator does not require individual signal
generators for each dataset.</p></li>
<li><p><strong>ds_sig_weight_factors_service</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.services.DatasetSignalWeightFactorsService" title="skyllh.core.services.DatasetSignalWeightFactorsService"><em>DatasetSignalWeightFactorsService</em></a>) – The instance of DatasetSignalWeightFactorsService providing the
dataset signal weight factor service for calculating the dataset
signal weights.</p></li>
</ul>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.dataset_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">dataset_list</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.dataset_list" title="Link to this definition"></a></dt>
<dd><p>The list of Dataset instances for which signal events should get
generated for.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.data_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">data_list</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.data_list" title="Link to this definition"></a></dt>
<dd><p>The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of the <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>
property.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.sig_generator_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sig_generator_list</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.sig_generator_list" title="Link to this definition"></a></dt>
<dd><p>The list of instance of SignalGenerator holding signal generator
instances for each individual dataset.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.ds_sig_weight_factors_service">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ds_sig_weight_factors_service</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.ds_sig_weight_factors_service" title="Link to this definition"></a></dt>
<dd><p>The instance of DatasetSignalWeightFactorsService providing the
dataset signal weight factor service for calculating the dataset
signal weights.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.n_datasets">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">n_datasets</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.n_datasets" title="Link to this definition"></a></dt>
<dd><p>(read-only) The number of datasets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Changes the source hypothesis group manager. This will recreate the
src_params_recarray needed for calculating the detector signal yields.
Also it calls the <code class="docutils literal notranslate"><span class="pre">change_shg_mgr</span></code> methods of the signal generators of
the individual datasets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">195</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_data_list',</span> <span class="pre">'_dataset_list',</span> <span class="pre">'_ds_sig_weight_factors_service',</span> <span class="pre">'_sig_generator_list',</span> <span class="pre">'_src_params_recarray',</span> <span class="pre">'data_list',</span> <span class="pre">'dataset_list',</span> <span class="pre">'ds_sig_weight_factors_service',</span> <span class="pre">'sig_generator_list')</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MultiDatasetSignalGenerator.generate_signal_events">
<span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>Generates a given number of signal events distributed across the
individual datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>int</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> must be an integer and
specifies the actual number of generated signal events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of actual generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">skyllh.p1.signal_generator.</span></span><span class="sig-name descname"><span class="pre">MCMultiDatasetSignalGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataset_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_event_field_ranges_dict_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#skyllh.p1.signal_generator.MultiDatasetSignalGenerator" title="skyllh.p1.signal_generator.MultiDatasetSignalGenerator"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDatasetSignalGenerator</span></code></a></p>
<p>This is a signal generator class, which handles multiple datasets with
monte-carlo (MC). It uses the MC events of all datasets to determine the
possible signal events for a source.
It does not depend on the detector or source hypothesis, because these
dependencies are factored out into the signal generation method.
In fact the construction within this class depends on the construction of
the signal generation method.</p>
<p>Constructs a new signal generator instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shg_mgr</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.source_hypo_grouping.SourceHypoGroupManager" title="skyllh.core.source_hypo_grouping.SourceHypoGroupManager"><em>SourceHypoGroupManager</em></a>) – The SourceHypoGroupManager instance defining the source hypothesis
groups.</p></li>
<li><p><strong>dataset_list</strong> (<em>list</em><em> of </em><em>Dataset instances</em>) – The list of Dataset instances for which signal events should get
generated for.</p></li>
<li><p><strong>data_list</strong> (<em>list</em><em> of </em><em>DatasetData instances</em>) – The list of DatasetData instances holding the actual data of each
dataset. The order must match the order of <code class="docutils literal notranslate"><span class="pre">dataset_list</span></code>.</p></li>
<li><p><strong>valid_event_field_ranges_dict_list</strong> (<em>list</em><em> of </em><em>dict</em><em> | </em><em>None</em>) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, it specifies for each dataset event fields (key)
and their valid value range as a 2-element tuple (value). If a
generated signal event does not fall into a given field range, the
signal event will be discarded and a new signal event will be drawn.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__annotations__">
<span class="sig-name descname"><span class="pre">__annotations__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__annotations__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__firstlineno__">
<span class="sig-name descname"><span class="pre">__firstlineno__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">446</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__firstlineno__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__static_attributes__">
<span class="sig-name descname"><span class="pre">__static_attributes__</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('_sig_candidates',</span> <span class="pre">'_sig_candidates_random_choice',</span> <span class="pre">'_sig_candidates_weight_sum',</span> <span class="pre">'_valid_event_field_ranges_dict_list',</span> <span class="pre">'valid_event_field_ranges_dict_list')</span></em><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.__static_attributes__" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.valid_event_field_ranges_dict_list">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">valid_event_field_ranges_dict_list</span></span><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.valid_event_field_ranges_dict_list" title="Link to this definition"></a></dt>
<dd><p>The list of dictionary holding the event data fields (key) and their
valid value range as 2-element tuple (value).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.change_shg_mgr">
<span class="sig-name descname"><span class="pre">change_shg_mgr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shg_mgr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.change_shg_mgr" title="Link to this definition"></a></dt>
<dd><p>Recreates the signal candidates with the changed source hypothesis
group manager.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.mu2flux">
<span class="sig-name descname"><span class="pre">mu2flux</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">per_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.mu2flux" title="Link to this definition"></a></dt>
<dd><p>Translate the mean number of signal events <cite>mu</cite> into the
corresponding flux. The unit of the returned flux is the internally used
flux unit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mu</strong> (<em>float</em>) – The mean number of expected signal events for which to get the flux.</p></li>
<li><p><strong>per_source</strong> (<em>bool</em>) – Flag if the flux should be returned for each source individually
(True), or as the sum of all these fluxes (False). The default is
False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>mu_flux</strong> (<em>float | (n_sources,)-shaped numpy ndarray</em>) – The total flux for all sources (if <cite>per_source = False</cite>) that would
correspond to the given mean number of detected signal events <cite>mu</cite>.
If <cite>per_source</cite> is set to True, a numpy ndarray is returned that
contains the flux for each individual source.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.generate_signal_events">
<span class="sig-name descname"><span class="pre">generate_signal_events</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rss</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">poisson</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#skyllh.p1.signal_generator.MCMultiDatasetSignalGenerator.generate_signal_events" title="Link to this definition"></a></dt>
<dd><p>Generates a given number of signal events from the signal candidate
monte-carlo events.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rss</strong> (<em>instance</em><em> of </em><a class="reference internal" href="skyllh.core.html#skyllh.core.random.RandomStateService" title="skyllh.core.random.RandomStateService"><em>RandomStateService</em></a>) – The instance of RandomStateService providing the random number
generator state.</p></li>
<li><p><strong>mean</strong> (<em>float</em><em> | </em><em>int</em>) – The mean number of signal events. If the <code class="docutils literal notranslate"><span class="pre">poisson</span></code> argument is set
to True, the actual number of generated signal events will be drawn
from a Poisson distribution with this given mean value of signal
events.</p></li>
<li><p><strong>poisson</strong> (<em>bool</em>) – If set to True, the actual number of generated signal events will
be drawn from a Poisson distribution with the given mean value of
signal events.
If set to False, the argument <code class="docutils literal notranslate"><span class="pre">mean</span></code> must be an integer and
specifies the actual number of generated signal events.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>n_signal</strong> (<em>int</em>) – The number of actual generated signal events.</p></li>
<li><p><strong>signal_events_dict</strong> (<em>dict of DataFieldRecordArray</em>) – The dictionary holding the DataFieldRecordArray instances with the
generated signal events. Each key of this dictionary represents the
dataset index for which the signal events have been generated.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="skyllh.i3.utils.html" class="btn btn-neutral float-left" title="skyllh.i3.utils package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="skyllh.plotting.html" class="btn btn-neutral float-right" title="skyllh.plotting package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The IceCube Collaboration, T. Kontrimas, M. Wolf.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: signal_gen_method
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Branches</dt>
      <dd><a href="../../../master/html/index.html">master</a></dd>
      <dd><a href="../../../coords/html/index.html">coords</a></dd>
      <dd><a href="../../../data_release/html/index.html">data_release</a></dd>
      <dd><a href="../../../dm/html/index.html">dm</a></dd>
      <dd><a href="../../../fix169_fix203/html/index.html">fix169_fix203</a></dd>
      <dd><a href="../../../fix230/html/index.html">fix230</a></dd>
      <dd><a href="../../../llh_module/html/index.html">llh_module</a></dd>
      <dd><a href="skyllh.p1.html">signal_gen_method</a></dd>
      <dd><a href="../../../stack_public/html/index.html">stack_public</a></dd>
    </dl>
    <dl>
      <dt>Tags</dt>
      <dd><a href="../../../v19_09_15/html/index.html">v19_09_15</a></dd>
      <dd><a href="../../../v20_01_09/html/index.html">v20_01_09</a></dd>
      <dd><a href="../../../v20_03_12/html/index.html">v20_03_12</a></dd>
      <dd><a href="../../../v20_11_02/html/index.html">v20_11_02</a></dd>
      <dd><a href="../../../v21_10_18_temp/html/index.html">v21_10_18_temp</a></dd>
      <dd><a href="../../../v21_10_20/html/index.html">v21_10_20</a></dd>
      <dd><a href="../../../v22_04_28/html/index.html">v22_04_28</a></dd>
      <dd><a href="../../../v22_04_28a/html/index.html">v22_04_28a</a></dd>
      <dd><a href="../../../v23.0.0/html/index.html">v23.0.0</a></dd>
      <dd><a href="../../../v23.1.0/html/index.html">v23.1.0</a></dd>
      <dd><a href="../../../v23.1.1/html/index.html">v23.1.1</a></dd>
      <dd><a href="../../../v23.2.0/html/index.html">v23.2.0</a></dd>
      <dd><a href="../../../v23.2.1/html/index.html">v23.2.1</a></dd>
      <dd><a href="../../../v23.2.1.rc1/html/index.html">v23.2.1.rc1</a></dd>
      <dd><a href="../../../v24.1.0/html/index.html">v24.1.0</a></dd>
      <dd><a href="../../../v24.1.1a/html/index.html">v24.1.1a</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>